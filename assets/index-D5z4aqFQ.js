var ew=Object.defineProperty;var tw=(t,e,n)=>e in t?ew(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ls=(t,e,n)=>tw(t,typeof e!="symbol"?e+"":e,n);function qd(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(t,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();var nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ng(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var ig={exports:{}},ru={},og={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),rw=Symbol.for("react.portal"),iw=Symbol.for("react.fragment"),ow=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),aw=Symbol.for("react.provider"),lw=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),cw=Symbol.for("react.suspense"),dw=Symbol.for("react.memo"),hw=Symbol.for("react.lazy"),Gf=Symbol.iterator;function fw(t){return t===null||typeof t!="object"?null:(t=Gf&&t[Gf]||t["@@iterator"],typeof t=="function"?t:null)}var sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ag=Object.assign,lg={};function Fo(t,e,n){this.props=t,this.context=e,this.refs=lg,this.updater=n||sg}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ug(){}ug.prototype=Fo.prototype;function Kd(t,e,n){this.props=t,this.context=e,this.refs=lg,this.updater=n||sg}var Gd=Kd.prototype=new ug;Gd.constructor=Kd;ag(Gd,Fo.prototype);Gd.isPureReactComponent=!0;var Jf=Array.isArray,cg=Object.prototype.hasOwnProperty,Jd={current:null},dg={key:!0,ref:!0,__self:!0,__source:!0};function hg(t,e,n){var r,o={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)cg.call(e,r)&&!dg.hasOwnProperty(r)&&(o[r]=e[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var d=Array(u),h=0;h<u;h++)d[h]=arguments[h+2];o.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:ua,type:t,key:s,ref:l,props:o,_owner:Jd.current}}function pw(t,e){return{$$typeof:ua,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ua}function mw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qf=/\/+/g;function Ju(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mw(""+t.key):e.toString(36)}function sl(t,e,n,r,o){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ua:case rw:l=!0}}if(l)return l=t,o=o(l),t=r===""?"."+Ju(l,0):r,Jf(o)?(n="",t!=null&&(n=t.replace(Qf,"$&/")+"/"),sl(o,e,n,"",function(h){return h})):o!=null&&(Qd(o)&&(o=pw(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Qf,"$&/")+"/")+t)),e.push(o)),1;if(l=0,r=r===""?".":r+":",Jf(t))for(var u=0;u<t.length;u++){s=t[u];var d=r+Ju(s,u);l+=sl(s,e,n,d,o)}else if(d=fw(t),typeof d=="function")for(t=d.call(t),u=0;!(s=t.next()).done;)s=s.value,d=r+Ju(s,u++),l+=sl(s,e,n,d,o);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Ia(t,e,n){if(t==null)return t;var r=[],o=0;return sl(t,r,"","",function(s){return e.call(n,s,o++)}),r}function gw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xt={current:null},al={transition:null},vw={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:al,ReactCurrentOwner:Jd};function fg(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Ia,forEach:function(t,e,n){Ia(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ia(t,function(){e++}),e},toArray:function(t){return Ia(t,function(e){return e})||[]},only:function(t){if(!Qd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Fo;Le.Fragment=iw;Le.Profiler=sw;Le.PureComponent=Kd;Le.StrictMode=ow;Le.Suspense=cw;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;Le.act=fg;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ag({},t.props),o=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Jd.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)cg.call(e,d)&&!dg.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var h=0;h<d;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:ua,type:t.type,key:o,ref:s,props:r,_owner:l}};Le.createContext=function(t){return t={$$typeof:lw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aw,_context:t},t.Consumer=t};Le.createElement=hg;Le.createFactory=function(t){var e=hg.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:uw,render:t}};Le.isValidElement=Qd;Le.lazy=function(t){return{$$typeof:hw,_payload:{_status:-1,_result:t},_init:gw}};Le.memo=function(t,e){return{$$typeof:dw,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=al.transition;al.transition={};try{t()}finally{al.transition=e}};Le.unstable_act=fg;Le.useCallback=function(t,e){return Xt.current.useCallback(t,e)};Le.useContext=function(t){return Xt.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Xt.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Xt.current.useEffect(t,e)};Le.useId=function(){return Xt.current.useId()};Le.useImperativeHandle=function(t,e,n){return Xt.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Xt.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Xt.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Xt.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Xt.current.useReducer(t,e,n)};Le.useRef=function(t){return Xt.current.useRef(t)};Le.useState=function(t){return Xt.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Xt.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Xt.current.useTransition()};Le.version="18.3.1";og.exports=Le;var J=og.exports;const Us=ng(J),_w=qd({__proto__:null,default:Us},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw=J,ww=Symbol.for("react.element"),bw=Symbol.for("react.fragment"),xw=Object.prototype.hasOwnProperty,Sw=yw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ew={key:!0,ref:!0,__self:!0,__source:!0};function pg(t,e,n){var r,o={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)xw.call(e,r)&&!Ew.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:ww,type:t,key:s,ref:l,props:o,_owner:Sw.current}}ru.Fragment=bw;ru.jsx=pg;ru.jsxs=pg;ig.exports=ru;var M=ig.exports,Mc={},mg={exports:{}},xn={},gg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var W=z.length;z.push(H);e:for(;0<W;){var ne=W-1>>>1,ee=z[ne];if(0<o(ee,H))z[ne]=H,z[W]=ee,W=ne;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],W=z.pop();if(W!==H){z[0]=W;e:for(var ne=0,ee=z.length,ae=ee>>>1;ne<ae;){var te=2*(ne+1)-1,K=z[te],oe=te+1,xe=z[oe];if(0>o(K,W))oe<ee&&0>o(xe,K)?(z[ne]=xe,z[oe]=W,ne=oe):(z[ne]=K,z[te]=W,ne=te);else if(oe<ee&&0>o(xe,W))z[ne]=xe,z[oe]=W,ne=oe;else break e}}return H}function o(z,H){var W=z.sortIndex-H.sortIndex;return W!==0?W:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],h=[],f=1,m=null,p=3,v=!1,_=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var H=n(h);H!==null;){if(H.callback===null)r(h);else if(H.startTime<=z)r(h),H.sortIndex=H.expirationTime,e(d,H);else break;H=n(h)}}function A(z){if(b=!1,S(z),!_)if(n(d)!==null)_=!0,I(N);else{var H=n(h);H!==null&&R(A,H.startTime-z)}}function N(z,H){_=!1,b&&(b=!1,w(k),k=-1),v=!0;var W=p;try{for(S(H),m=n(d);m!==null&&(!(m.expirationTime>H)||z&&!U());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,p=m.priorityLevel;var ee=ne(m.expirationTime<=H);H=t.unstable_now(),typeof ee=="function"?m.callback=ee:m===n(d)&&r(d),S(H)}else r(d);m=n(d)}if(m!==null)var ae=!0;else{var te=n(h);te!==null&&R(A,te.startTime-H),ae=!1}return ae}finally{m=null,p=W,v=!1}}var O=!1,P=null,k=-1,C=5,j=-1;function U(){return!(t.unstable_now()-j<C)}function B(){if(P!==null){var z=t.unstable_now();j=z;var H=!0;try{H=P(!0,z)}finally{H?V():(O=!1,P=null)}}else O=!1}var V;if(typeof x=="function")V=function(){x(B)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=B,V=function(){G.postMessage(null)}}else V=function(){T(B,0)};function I(z){P=z,O||(O=!0,V())}function R(z,H){k=T(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,I(N))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var W=p;p=H;try{return z()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=p;p=z;try{return H()}finally{p=W}},t.unstable_scheduleCallback=function(z,H,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,z){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=W+ee,z={id:f++,callback:H,priorityLevel:z,startTime:W,expirationTime:ee,sortIndex:-1},W>ne?(z.sortIndex=W,e(h,z),n(d)===null&&z===n(h)&&(b?(w(k),k=-1):b=!0,R(A,W-ne))):(z.sortIndex=ee,e(d,z),_||v||(_=!0,I(N))),z},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(z){var H=p;return function(){var W=p;p=H;try{return z.apply(this,arguments)}finally{p=W}}}})(vg);gg.exports=vg;var kw=gg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=J,bn=kw;function se(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _g=new Set,Bs={};function Wi(t,e){Ro(t,e),Ro(t+"Capture",e)}function Ro(t,e){for(Bs[t]=e,t=0;t<e.length;t++)_g.add(e[t])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=Object.prototype.hasOwnProperty,Tw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yf={},Xf={};function Cw(t){return zc.call(Xf,t)?!0:zc.call(Yf,t)?!1:Tw.test(t)?Xf[t]=!0:(Yf[t]=!0,!1)}function Ow(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Lw(t,e,n,r){if(e===null||typeof e>"u"||Ow(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function en(t,e,n,r,o,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new en(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new en(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new en(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new en(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new en(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new en(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new en(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new en(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new en(t,5,!1,t.toLowerCase(),null,!1,!1)});var Yd=/[\-:]([a-z])/g;function Xd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Yd,Xd);Nt[e]=new en(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Yd,Xd);Nt[e]=new en(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Yd,Xd);Nt[e]=new en(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new en(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new en("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new en(t,1,!1,t.toLowerCase(),null,!0,!0)});function eh(t,e,n,r){var o=Nt.hasOwnProperty(e)?Nt[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Lw(e,n,o,r)&&(n=null),r||o===null?Cw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Lr=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),th=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),nh=Symbol.for("react.forward_ref"),Nc=Symbol.for("react.suspense"),Uc=Symbol.for("react.suspense_list"),rh=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),bg=Symbol.for("react.offscreen"),ep=Symbol.iterator;function us(t){return t===null||typeof t!="object"?null:(t=ep&&t[ep]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Qu;function ws(t){if(Qu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qu=e&&e[1]||""}return`
`+Qu+t}var Yu=!1;function Xu(t,e){if(!t||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var o=h.stack.split(`
`),s=r.stack.split(`
`),l=o.length-1,u=s.length-1;1<=l&&0<=u&&o[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(o[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||o[l]!==s[u]){var d=`
`+o[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=u);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ws(t):""}function Aw(t){switch(t.tag){case 5:return ws(t.type);case 16:return ws("Lazy");case 13:return ws("Suspense");case 19:return ws("SuspenseList");case 0:case 2:case 15:return t=Xu(t.type,!1),t;case 11:return t=Xu(t.type.render,!1),t;case 1:return t=Xu(t.type,!0),t;default:return""}}function Bc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Dc:return"Profiler";case th:return"StrictMode";case Nc:return"Suspense";case Uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wg:return(t.displayName||"Context")+".Consumer";case yg:return(t._context.displayName||"Context")+".Provider";case nh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rh:return e=t.displayName||null,e!==null?e:Bc(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Bc(t(e))}catch{}}return null}function Rw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bc(e);case 8:return e===th?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Iw(t){var e=xg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ma(t){t._valueTracker||(t._valueTracker=Iw(t))}function Sg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $c(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function tp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Eg(t,e){e=e.checked,e!=null&&eh(t,"checked",e,!1)}function Fc(t,e){Eg(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wc(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function np(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wc(t,e,n){(e!=="number"||wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bs=Array.isArray;function ko(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Hc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(se(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function rp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(se(92));if(bs(n)){if(1<n.length)throw Error(se(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function kg(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ip(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Pg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Pg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var za,Tg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(za=za||document.createElement("div"),za.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=za.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jw=["Webkit","ms","Moz","O"];Object.keys(Ts).forEach(function(t){jw.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ts[e]=Ts[t]})});function Cg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ts.hasOwnProperty(t)&&Ts[t]?(""+e).trim():e+"px"}function Og(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Cg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var Mw=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(t,e){if(e){if(Mw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(se(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(se(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(se(61))}if(e.style!=null&&typeof e.style!="object")throw Error(se(62))}}function qc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kc=null;function ih(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gc=null,Po=null,To=null;function op(t){if(t=ha(t)){if(typeof Gc!="function")throw Error(se(280));var e=t.stateNode;e&&(e=lu(e),Gc(t.stateNode,t.type,e))}}function Lg(t){Po?To?To.push(t):To=[t]:Po=t}function Ag(){if(Po){var t=Po,e=To;if(To=Po=null,op(t),e)for(t=0;t<e.length;t++)op(e[t])}}function Rg(t,e){return t(e)}function Ig(){}var ec=!1;function jg(t,e,n){if(ec)return t(e,n);ec=!0;try{return Rg(t,e,n)}finally{ec=!1,(Po!==null||To!==null)&&(Ig(),Ag())}}function Fs(t,e){var n=t.stateNode;if(n===null)return null;var r=lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(se(231,e,typeof n));return n}var Jc=!1;if(Pr)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Jc=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Jc=!1}function zw(t,e,n,r,o,s,l,u,d){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(f){this.onError(f)}}var Cs=!1,bl=null,xl=!1,Qc=null,Dw={onError:function(t){Cs=!0,bl=t}};function Nw(t,e,n,r,o,s,l,u,d){Cs=!1,bl=null,zw.apply(Dw,arguments)}function Uw(t,e,n,r,o,s,l,u,d){if(Nw.apply(this,arguments),Cs){if(Cs){var h=bl;Cs=!1,bl=null}else throw Error(se(198));xl||(xl=!0,Qc=h)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Mg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function sp(t){if(Hi(t)!==t)throw Error(se(188))}function Bw(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(se(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var s=o.alternate;if(s===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return sp(o),t;if(s===r)return sp(o),e;s=s.sibling}throw Error(se(188))}if(n.return!==r.return)n=o,r=s;else{for(var l=!1,u=o.child;u;){if(u===n){l=!0,n=o,r=s;break}if(u===r){l=!0,r=o,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,r=o;break}if(u===r){l=!0,r=s,n=o;break}u=u.sibling}if(!l)throw Error(se(189))}}if(n.alternate!==r)throw Error(se(190))}if(n.tag!==3)throw Error(se(188));return n.stateNode.current===n?t:e}function zg(t){return t=Bw(t),t!==null?Dg(t):null}function Dg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dg(t);if(e!==null)return e;t=t.sibling}return null}var Ng=bn.unstable_scheduleCallback,ap=bn.unstable_cancelCallback,$w=bn.unstable_shouldYield,Fw=bn.unstable_requestPaint,gt=bn.unstable_now,Ww=bn.unstable_getCurrentPriorityLevel,oh=bn.unstable_ImmediatePriority,Ug=bn.unstable_UserBlockingPriority,Sl=bn.unstable_NormalPriority,Hw=bn.unstable_LowPriority,Bg=bn.unstable_IdlePriority,iu=null,ar=null;function Vw(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(iu,t,void 0,(t.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Kw,Zw=Math.log,qw=Math.LN2;function Kw(t){return t>>>=0,t===0?32:31-(Zw(t)/qw|0)|0}var Da=64,Na=4194304;function xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function El(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~o;u!==0?r=xs(u):(s&=l,s!==0&&(r=xs(s)))}else l=n&~o,l!==0?r=xs(l):s!==0&&(r=xs(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qn(e),o=1<<n,r|=t[n],e&=~o;return r}function Gw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jw(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Qn(s),u=1<<l,d=o[l];d===-1?(!(u&n)||u&r)&&(o[l]=Gw(u,e)):d<=e&&(t.expiredLanes|=u),s&=~u}}function Yc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $g(){var t=Da;return Da<<=1,!(Da&4194240)&&(Da=64),t}function tc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ca(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qn(e),t[e]=n}function Qw(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Qn(n),s=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~s}}function sh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qn(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Fe=0;function Fg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wg,ah,Hg,Vg,Zg,Xc=!1,Ua=[],Gr=null,Jr=null,Qr=null,Ws=new Map,Hs=new Map,Wr=[],Yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lp(t,e){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hs.delete(e.pointerId)}}function ds(t,e,n,r,o,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[o]},e!==null&&(e=ha(e),e!==null&&ah(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Xw(t,e,n,r,o){switch(e){case"focusin":return Gr=ds(Gr,t,e,n,r,o),!0;case"dragenter":return Jr=ds(Jr,t,e,n,r,o),!0;case"mouseover":return Qr=ds(Qr,t,e,n,r,o),!0;case"pointerover":var s=o.pointerId;return Ws.set(s,ds(Ws.get(s)||null,t,e,n,r,o)),!0;case"gotpointercapture":return s=o.pointerId,Hs.set(s,ds(Hs.get(s)||null,t,e,n,r,o)),!0}return!1}function qg(t){var e=Oi(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=Mg(n),e!==null){t.blockedOn=e,Zg(t.priority,function(){Hg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ll(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ed(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kc=r,n.target.dispatchEvent(r),Kc=null}else return e=ha(n),e!==null&&ah(e),t.blockedOn=n,!1;e.shift()}return!0}function up(t,e,n){ll(t)&&n.delete(e)}function e1(){Xc=!1,Gr!==null&&ll(Gr)&&(Gr=null),Jr!==null&&ll(Jr)&&(Jr=null),Qr!==null&&ll(Qr)&&(Qr=null),Ws.forEach(up),Hs.forEach(up)}function hs(t,e){t.blockedOn===e&&(t.blockedOn=null,Xc||(Xc=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,e1)))}function Vs(t){function e(o){return hs(o,t)}if(0<Ua.length){hs(Ua[0],t);for(var n=1;n<Ua.length;n++){var r=Ua[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gr!==null&&hs(Gr,t),Jr!==null&&hs(Jr,t),Qr!==null&&hs(Qr,t),Ws.forEach(e),Hs.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)qg(n),n.blockedOn===null&&Wr.shift()}var Co=Lr.ReactCurrentBatchConfig,kl=!0;function t1(t,e,n,r){var o=Fe,s=Co.transition;Co.transition=null;try{Fe=1,lh(t,e,n,r)}finally{Fe=o,Co.transition=s}}function n1(t,e,n,r){var o=Fe,s=Co.transition;Co.transition=null;try{Fe=4,lh(t,e,n,r)}finally{Fe=o,Co.transition=s}}function lh(t,e,n,r){if(kl){var o=ed(t,e,n,r);if(o===null)dc(t,e,r,Pl,n),lp(t,r);else if(Xw(o,t,e,n,r))r.stopPropagation();else if(lp(t,r),e&4&&-1<Yw.indexOf(t)){for(;o!==null;){var s=ha(o);if(s!==null&&Wg(s),s=ed(t,e,n,r),s===null&&dc(t,e,r,Pl,n),s===o)break;o=s}o!==null&&r.stopPropagation()}else dc(t,e,r,null,n)}}var Pl=null;function ed(t,e,n,r){if(Pl=null,t=ih(r),t=Oi(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Mg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pl=t,null}function Kg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ww()){case oh:return 1;case Ug:return 4;case Sl:case Hw:return 16;case Bg:return 536870912;default:return 16}default:return 16}}var Zr=null,uh=null,ul=null;function Gg(){if(ul)return ul;var t,e=uh,n=e.length,r,o="value"in Zr?Zr.value:Zr.textContent,s=o.length;for(t=0;t<n&&e[t]===o[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===o[s-r];r++);return ul=o.slice(t,1<r?1-r:void 0)}function cl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ba(){return!0}function cp(){return!1}function Sn(t){function e(n,r,o,s,l){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ba:cp,this.isPropagationStopped=cp,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),e}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ch=Sn(Wo),da=ut({},Wo,{view:0,detail:0}),r1=Sn(da),nc,rc,fs,ou=ut({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fs&&(fs&&t.type==="mousemove"?(nc=t.screenX-fs.screenX,rc=t.screenY-fs.screenY):rc=nc=0,fs=t),nc)},movementY:function(t){return"movementY"in t?t.movementY:rc}}),dp=Sn(ou),i1=ut({},ou,{dataTransfer:0}),o1=Sn(i1),s1=ut({},da,{relatedTarget:0}),ic=Sn(s1),a1=ut({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),l1=Sn(a1),u1=ut({},Wo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),c1=Sn(u1),d1=ut({},Wo,{data:0}),hp=Sn(d1),h1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=p1[t])?!!e[t]:!1}function dh(){return m1}var g1=ut({},da,{key:function(t){if(t.key){var e=h1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?f1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dh,charCode:function(t){return t.type==="keypress"?cl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),v1=Sn(g1),_1=ut({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=Sn(_1),y1=ut({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dh}),w1=Sn(y1),b1=ut({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),x1=Sn(b1),S1=ut({},ou,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),E1=Sn(S1),k1=[9,13,27,32],hh=Pr&&"CompositionEvent"in window,Os=null;Pr&&"documentMode"in document&&(Os=document.documentMode);var P1=Pr&&"TextEvent"in window&&!Os,Jg=Pr&&(!hh||Os&&8<Os&&11>=Os),pp=" ",mp=!1;function Qg(t,e){switch(t){case"keyup":return k1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function T1(t,e){switch(t){case"compositionend":return Yg(e);case"keypress":return e.which!==32?null:(mp=!0,pp);case"textInput":return t=e.data,t===pp&&mp?null:t;default:return null}}function C1(t,e){if(po)return t==="compositionend"||!hh&&Qg(t,e)?(t=Gg(),ul=uh=Zr=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jg&&e.locale!=="ko"?null:e.data;default:return null}}var O1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!O1[t.type]:e==="textarea"}function Xg(t,e,n,r){Lg(r),e=Tl(e,"onChange"),0<e.length&&(n=new ch("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ls=null,Zs=null;function L1(t){cv(t,0)}function su(t){var e=vo(t);if(Sg(e))return t}function A1(t,e){if(t==="change")return e}var ev=!1;if(Pr){var oc;if(Pr){var sc="oninput"in document;if(!sc){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),sc=typeof vp.oninput=="function"}oc=sc}else oc=!1;ev=oc&&(!document.documentMode||9<document.documentMode)}function _p(){Ls&&(Ls.detachEvent("onpropertychange",tv),Zs=Ls=null)}function tv(t){if(t.propertyName==="value"&&su(Zs)){var e=[];Xg(e,Zs,t,ih(t)),jg(L1,e)}}function R1(t,e,n){t==="focusin"?(_p(),Ls=e,Zs=n,Ls.attachEvent("onpropertychange",tv)):t==="focusout"&&_p()}function I1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return su(Zs)}function j1(t,e){if(t==="click")return su(e)}function M1(t,e){if(t==="input"||t==="change")return su(e)}function z1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:z1;function qs(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!zc.call(e,o)||!Xn(t[o],e[o]))return!1}return!0}function yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,e){var n=yp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yp(n)}}function nv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rv(){for(var t=window,e=wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wl(t.document)}return e}function fh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function D1(t){var e=rv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nv(n.ownerDocument.documentElement,n)){if(r!==null&&fh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,s=Math.min(r.start,o);r=r.end===void 0?s:Math.min(r.end,o),!t.extend&&s>r&&(o=r,r=s,s=o),o=wp(n,s);var l=wp(n,r);o&&l&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var N1=Pr&&"documentMode"in document&&11>=document.documentMode,mo=null,td=null,As=null,nd=!1;function bp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nd||mo==null||mo!==wl(r)||(r=mo,"selectionStart"in r&&fh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),As&&qs(As,r)||(As=r,r=Tl(td,"onSelect"),0<r.length&&(e=new ch("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function $a(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},ac={},iv={};Pr&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function au(t){if(ac[t])return ac[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iv)return ac[t]=e[n];return t}var ov=au("animationend"),sv=au("animationiteration"),av=au("animationstart"),lv=au("transitionend"),uv=new Map,xp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oi(t,e){uv.set(t,e),Wi(e,[t])}for(var lc=0;lc<xp.length;lc++){var uc=xp[lc],U1=uc.toLowerCase(),B1=uc[0].toUpperCase()+uc.slice(1);oi(U1,"on"+B1)}oi(ov,"onAnimationEnd");oi(sv,"onAnimationIteration");oi(av,"onAnimationStart");oi("dblclick","onDoubleClick");oi("focusin","onFocus");oi("focusout","onBlur");oi(lv,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Sp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uw(r,e,void 0,t),t.currentTarget=null}function cv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,h=u.currentTarget;if(u=u.listener,d!==s&&o.isPropagationStopped())break e;Sp(o,u,h),s=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,h=u.currentTarget,u=u.listener,d!==s&&o.isPropagationStopped())break e;Sp(o,u,h),s=d}}}if(xl)throw t=Qc,xl=!1,Qc=null,t}function tt(t,e){var n=e[ad];n===void 0&&(n=e[ad]=new Set);var r=t+"__bubble";n.has(r)||(dv(e,t,2,!1),n.add(r))}function cc(t,e,n){var r=0;e&&(r|=4),dv(n,t,r,e)}var Fa="_reactListening"+Math.random().toString(36).slice(2);function Ks(t){if(!t[Fa]){t[Fa]=!0,_g.forEach(function(n){n!=="selectionchange"&&($1.has(n)||cc(n,!1,t),cc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fa]||(e[Fa]=!0,cc("selectionchange",!1,e))}}function dv(t,e,n,r){switch(Kg(e)){case 1:var o=t1;break;case 4:o=n1;break;default:o=lh}n=o.bind(null,e,n,t),o=void 0,!Jc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function dc(t,e,n,r,o){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;l=l.return}for(;u!==null;){if(l=Oi(u),l===null)return;if(d=l.tag,d===5||d===6){r=s=l;continue e}u=u.parentNode}}r=r.return}jg(function(){var h=s,f=ih(n),m=[];e:{var p=uv.get(t);if(p!==void 0){var v=ch,_=t;switch(t){case"keypress":if(cl(n)===0)break e;case"keydown":case"keyup":v=v1;break;case"focusin":_="focus",v=ic;break;case"focusout":_="blur",v=ic;break;case"beforeblur":case"afterblur":v=ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=o1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=w1;break;case ov:case sv:case av:v=l1;break;case lv:v=x1;break;case"scroll":v=r1;break;case"wheel":v=E1;break;case"copy":case"cut":case"paste":v=c1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fp}var b=(e&4)!==0,T=!b&&t==="scroll",w=b?p!==null?p+"Capture":null:p;b=[];for(var x=h,S;x!==null;){S=x;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,w!==null&&(A=Fs(x,w),A!=null&&b.push(Gs(x,A,S)))),T)break;x=x.return}0<b.length&&(p=new v(p,_,null,n,f),m.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Kc&&(_=n.relatedTarget||n.fromElement)&&(Oi(_)||_[Tr]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(_=n.relatedTarget||n.toElement,v=h,_=_?Oi(_):null,_!==null&&(T=Hi(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=h),v!==_)){if(b=dp,A="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=fp,A="onPointerLeave",w="onPointerEnter",x="pointer"),T=v==null?p:vo(v),S=_==null?p:vo(_),p=new b(A,x+"leave",v,n,f),p.target=T,p.relatedTarget=S,A=null,Oi(f)===h&&(b=new b(w,x+"enter",_,n,f),b.target=S,b.relatedTarget=T,A=b),T=A,v&&_)t:{for(b=v,w=_,x=0,S=b;S;S=no(S))x++;for(S=0,A=w;A;A=no(A))S++;for(;0<x-S;)b=no(b),x--;for(;0<S-x;)w=no(w),S--;for(;x--;){if(b===w||w!==null&&b===w.alternate)break t;b=no(b),w=no(w)}b=null}else b=null;v!==null&&Ep(m,p,v,b,!1),_!==null&&T!==null&&Ep(m,T,_,b,!0)}}e:{if(p=h?vo(h):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var N=A1;else if(gp(p))if(ev)N=M1;else{N=I1;var O=R1}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=j1);if(N&&(N=N(t,h))){Xg(m,N,n,f);break e}O&&O(t,p,h),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&Wc(p,"number",p.value)}switch(O=h?vo(h):window,t){case"focusin":(gp(O)||O.contentEditable==="true")&&(mo=O,td=h,As=null);break;case"focusout":As=td=mo=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,bp(m,n,f);break;case"selectionchange":if(N1)break;case"keydown":case"keyup":bp(m,n,f)}var P;if(hh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else po?Qg(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Jg&&n.locale!=="ko"&&(po||k!=="onCompositionStart"?k==="onCompositionEnd"&&po&&(P=Gg()):(Zr=f,uh="value"in Zr?Zr.value:Zr.textContent,po=!0)),O=Tl(h,k),0<O.length&&(k=new hp(k,t,null,n,f),m.push({event:k,listeners:O}),P?k.data=P:(P=Yg(n),P!==null&&(k.data=P)))),(P=P1?T1(t,n):C1(t,n))&&(h=Tl(h,"onBeforeInput"),0<h.length&&(f=new hp("onBeforeInput","beforeinput",null,n,f),m.push({event:f,listeners:h}),f.data=P))}cv(m,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tl(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=Fs(t,n),s!=null&&r.unshift(Gs(t,s,o)),s=Fs(t,e),s!=null&&r.push(Gs(t,s,o))),t=t.return}return r}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ep(t,e,n,r,o){for(var s=e._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,h=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&h!==null&&(u=h,o?(d=Fs(n,s),d!=null&&l.unshift(Gs(n,d,u))):o||(d=Fs(n,s),d!=null&&l.push(Gs(n,d,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var F1=/\r\n?/g,W1=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(F1,`
`).replace(W1,"")}function Wa(t,e,n){if(e=kp(e),kp(t)!==e&&n)throw Error(se(425))}function Cl(){}var rd=null,id=null;function od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sd=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,V1=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(t){return Pp.resolve(null).then(t).catch(Z1)}:sd;function Z1(t){setTimeout(function(){throw t})}function hc(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Vs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vs(e)}function Yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),sr="__reactFiber$"+Ho,Js="__reactProps$"+Ho,Tr="__reactContainer$"+Ho,ad="__reactEvents$"+Ho,q1="__reactListeners$"+Ho,K1="__reactHandles$"+Ho;function Oi(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tp(t);t!==null;){if(n=t[sr])return n;t=Tp(t)}return e}t=n,n=t.parentNode}return null}function ha(t){return t=t[sr]||t[Tr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(se(33))}function lu(t){return t[Js]||null}var ld=[],_o=-1;function si(t){return{current:t}}function nt(t){0>_o||(t.current=ld[_o],ld[_o]=null,_o--)}function Ye(t,e){_o++,ld[_o]=t.current,t.current=e}var ii={},Ht=si(ii),cn=si(!1),Di=ii;function Io(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in n)o[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function dn(t){return t=t.childContextTypes,t!=null}function Ol(){nt(cn),nt(Ht)}function Cp(t,e,n){if(Ht.current!==ii)throw Error(se(168));Ye(Ht,e),Ye(cn,n)}function hv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(se(108,Rw(t)||"Unknown",o));return ut({},n,r)}function Ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,Di=Ht.current,Ye(Ht,t),Ye(cn,cn.current),!0}function Op(t,e,n){var r=t.stateNode;if(!r)throw Error(se(169));n?(t=hv(t,e,Di),r.__reactInternalMemoizedMergedChildContext=t,nt(cn),nt(Ht),Ye(Ht,t)):nt(cn),Ye(cn,n)}var br=null,uu=!1,fc=!1;function fv(t){br===null?br=[t]:br.push(t)}function G1(t){uu=!0,fv(t)}function ai(){if(!fc&&br!==null){fc=!0;var t=0,e=Fe;try{var n=br;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}br=null,uu=!1}catch(o){throw br!==null&&(br=br.slice(t+1)),Ng(oh,ai),o}finally{Fe=e,fc=!1}}return null}var yo=[],wo=0,Al=null,Rl=0,On=[],Ln=0,Ni=null,xr=1,Sr="";function xi(t,e){yo[wo++]=Rl,yo[wo++]=Al,Al=t,Rl=e}function pv(t,e,n){On[Ln++]=xr,On[Ln++]=Sr,On[Ln++]=Ni,Ni=t;var r=xr;t=Sr;var o=32-Qn(r)-1;r&=~(1<<o),n+=1;var s=32-Qn(e)+o;if(30<s){var l=o-o%5;s=(r&(1<<l)-1).toString(32),r>>=l,o-=l,xr=1<<32-Qn(e)+o|n<<o|r,Sr=s+t}else xr=1<<s|n<<o|r,Sr=t}function ph(t){t.return!==null&&(xi(t,1),pv(t,1,0))}function mh(t){for(;t===Al;)Al=yo[--wo],yo[wo]=null,Rl=yo[--wo],yo[wo]=null;for(;t===Ni;)Ni=On[--Ln],On[Ln]=null,Sr=On[--Ln],On[Ln]=null,xr=On[--Ln],On[Ln]=null}var wn=null,_n=null,ot=!1,Jn=null;function mv(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Lp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,_n=Yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ni!==null?{id:xr,overflow:Sr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wn=t,_n=null,!0):!1;default:return!1}}function ud(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cd(t){if(ot){var e=_n;if(e){var n=e;if(!Lp(t,e)){if(ud(t))throw Error(se(418));e=Yr(n.nextSibling);var r=wn;e&&Lp(t,e)?mv(r,n):(t.flags=t.flags&-4097|2,ot=!1,wn=t)}}else{if(ud(t))throw Error(se(418));t.flags=t.flags&-4097|2,ot=!1,wn=t}}}function Ap(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Ha(t){if(t!==wn)return!1;if(!ot)return Ap(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!od(t.type,t.memoizedProps)),e&&(e=_n)){if(ud(t))throw gv(),Error(se(418));for(;e;)mv(t,e),e=Yr(e.nextSibling)}if(Ap(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(se(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=Yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=wn?Yr(t.stateNode.nextSibling):null;return!0}function gv(){for(var t=_n;t;)t=Yr(t.nextSibling)}function jo(){_n=wn=null,ot=!1}function gh(t){Jn===null?Jn=[t]:Jn.push(t)}var J1=Lr.ReactCurrentBatchConfig;function ps(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(se(309));var r=n.stateNode}if(!r)throw Error(se(147,t));var o=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var u=o.refs;l===null?delete u[s]:u[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(se(284));if(!n._owner)throw Error(se(290,t))}return t}function Va(t,e){throw t=Object.prototype.toString.call(e),Error(se(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rp(t){var e=t._init;return e(t._payload)}function vv(t){function e(w,x){if(t){var S=w.deletions;S===null?(w.deletions=[x],w.flags|=16):S.push(x)}}function n(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function r(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function o(w,x){return w=ni(w,x),w.index=0,w.sibling=null,w}function s(w,x,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<x?(w.flags|=2,x):S):(w.flags|=2,x)):(w.flags|=1048576,x)}function l(w){return t&&w.alternate===null&&(w.flags|=2),w}function u(w,x,S,A){return x===null||x.tag!==6?(x=wc(S,w.mode,A),x.return=w,x):(x=o(x,S),x.return=w,x)}function d(w,x,S,A){var N=S.type;return N===fo?f(w,x,S.props.children,A,S.key):x!==null&&(x.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$r&&Rp(N)===x.type)?(A=o(x,S.props),A.ref=ps(w,x,S),A.return=w,A):(A=vl(S.type,S.key,S.props,null,w.mode,A),A.ref=ps(w,x,S),A.return=w,A)}function h(w,x,S,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=bc(S,w.mode,A),x.return=w,x):(x=o(x,S.children||[]),x.return=w,x)}function f(w,x,S,A,N){return x===null||x.tag!==7?(x=zi(S,w.mode,A,N),x.return=w,x):(x=o(x,S),x.return=w,x)}function m(w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=wc(""+x,w.mode,S),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ja:return S=vl(x.type,x.key,x.props,null,w.mode,S),S.ref=ps(w,null,x),S.return=w,S;case ho:return x=bc(x,w.mode,S),x.return=w,x;case $r:var A=x._init;return m(w,A(x._payload),S)}if(bs(x)||us(x))return x=zi(x,w.mode,S,null),x.return=w,x;Va(w,x)}return null}function p(w,x,S,A){var N=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return N!==null?null:u(w,x,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ja:return S.key===N?d(w,x,S,A):null;case ho:return S.key===N?h(w,x,S,A):null;case $r:return N=S._init,p(w,x,N(S._payload),A)}if(bs(S)||us(S))return N!==null?null:f(w,x,S,A,null);Va(w,S)}return null}function v(w,x,S,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(S)||null,u(x,w,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ja:return w=w.get(A.key===null?S:A.key)||null,d(x,w,A,N);case ho:return w=w.get(A.key===null?S:A.key)||null,h(x,w,A,N);case $r:var O=A._init;return v(w,x,S,O(A._payload),N)}if(bs(A)||us(A))return w=w.get(S)||null,f(x,w,A,N,null);Va(x,A)}return null}function _(w,x,S,A){for(var N=null,O=null,P=x,k=x=0,C=null;P!==null&&k<S.length;k++){P.index>k?(C=P,P=null):C=P.sibling;var j=p(w,P,S[k],A);if(j===null){P===null&&(P=C);break}t&&P&&j.alternate===null&&e(w,P),x=s(j,x,k),O===null?N=j:O.sibling=j,O=j,P=C}if(k===S.length)return n(w,P),ot&&xi(w,k),N;if(P===null){for(;k<S.length;k++)P=m(w,S[k],A),P!==null&&(x=s(P,x,k),O===null?N=P:O.sibling=P,O=P);return ot&&xi(w,k),N}for(P=r(w,P);k<S.length;k++)C=v(P,w,k,S[k],A),C!==null&&(t&&C.alternate!==null&&P.delete(C.key===null?k:C.key),x=s(C,x,k),O===null?N=C:O.sibling=C,O=C);return t&&P.forEach(function(U){return e(w,U)}),ot&&xi(w,k),N}function b(w,x,S,A){var N=us(S);if(typeof N!="function")throw Error(se(150));if(S=N.call(S),S==null)throw Error(se(151));for(var O=N=null,P=x,k=x=0,C=null,j=S.next();P!==null&&!j.done;k++,j=S.next()){P.index>k?(C=P,P=null):C=P.sibling;var U=p(w,P,j.value,A);if(U===null){P===null&&(P=C);break}t&&P&&U.alternate===null&&e(w,P),x=s(U,x,k),O===null?N=U:O.sibling=U,O=U,P=C}if(j.done)return n(w,P),ot&&xi(w,k),N;if(P===null){for(;!j.done;k++,j=S.next())j=m(w,j.value,A),j!==null&&(x=s(j,x,k),O===null?N=j:O.sibling=j,O=j);return ot&&xi(w,k),N}for(P=r(w,P);!j.done;k++,j=S.next())j=v(P,w,k,j.value,A),j!==null&&(t&&j.alternate!==null&&P.delete(j.key===null?k:j.key),x=s(j,x,k),O===null?N=j:O.sibling=j,O=j);return t&&P.forEach(function(B){return e(w,B)}),ot&&xi(w,k),N}function T(w,x,S,A){if(typeof S=="object"&&S!==null&&S.type===fo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ja:e:{for(var N=S.key,O=x;O!==null;){if(O.key===N){if(N=S.type,N===fo){if(O.tag===7){n(w,O.sibling),x=o(O,S.props.children),x.return=w,w=x;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===$r&&Rp(N)===O.type){n(w,O.sibling),x=o(O,S.props),x.ref=ps(w,O,S),x.return=w,w=x;break e}n(w,O);break}else e(w,O);O=O.sibling}S.type===fo?(x=zi(S.props.children,w.mode,A,S.key),x.return=w,w=x):(A=vl(S.type,S.key,S.props,null,w.mode,A),A.ref=ps(w,x,S),A.return=w,w=A)}return l(w);case ho:e:{for(O=S.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){n(w,x.sibling),x=o(x,S.children||[]),x.return=w,w=x;break e}else{n(w,x);break}else e(w,x);x=x.sibling}x=bc(S,w.mode,A),x.return=w,w=x}return l(w);case $r:return O=S._init,T(w,x,O(S._payload),A)}if(bs(S))return _(w,x,S,A);if(us(S))return b(w,x,S,A);Va(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(n(w,x.sibling),x=o(x,S),x.return=w,w=x):(n(w,x),x=wc(S,w.mode,A),x.return=w,w=x),l(w)):n(w,x)}return T}var Mo=vv(!0),_v=vv(!1),Il=si(null),jl=null,bo=null,vh=null;function _h(){vh=bo=jl=null}function yh(t){var e=Il.current;nt(Il),t._currentValue=e}function dd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){jl=t,vh=bo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(vh!==t)if(t={context:t,memoizedValue:e,next:null},bo===null){if(jl===null)throw Error(se(308));bo=t,jl.dependencies={lanes:0,firstContext:t}}else bo=bo.next=t;return e}var Li=null;function wh(t){Li===null?Li=[t]:Li.push(t)}function yv(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,wh(e)):(n.next=o.next,o.next=n),e.interleaved=n,Cr(t,r)}function Cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function bh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Cr(t,n)}return o=r.interleaved,o===null?(e.next=e,wh(r)):(e.next=o.next,o.next=e),r.interleaved=e,Cr(t,n)}function dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sh(t,n)}}function Ip(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?o=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?o=s=e:s=s.next=e}else o=s=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ml(t,e,n,r){var o=t.updateQueue;Fr=!1;var s=o.firstBaseUpdate,l=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var d=u,h=d.next;d.next=null,l===null?s=h:l.next=h,l=d;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=d))}if(s!==null){var m=o.baseState;l=0,f=h=d=null,u=s;do{var p=u.lane,v=u.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var _=t,b=u;switch(p=e,v=n,b.tag){case 1:if(_=b.payload,typeof _=="function"){m=_.call(v,m,p);break e}m=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=b.payload,p=typeof _=="function"?_.call(v,m,p):_,p==null)break e;m=ut({},m,p);break e;case 2:Fr=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,p=o.effects,p===null?o.effects=[u]:p.push(u))}else v={eventTime:v,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=v,d=m):f=f.next=v,l|=p;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;p=u,u=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(f===null&&(d=m),o.baseState=d,o.firstBaseUpdate=h,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do l|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);Bi|=l,t.lanes=l,t.memoizedState=m}}function jp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(se(191,o));o.call(r)}}}var fa={},lr=si(fa),Qs=si(fa),Ys=si(fa);function Ai(t){if(t===fa)throw Error(se(174));return t}function xh(t,e){switch(Ye(Ys,e),Ye(Qs,t),Ye(lr,fa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vc(e,t)}nt(lr),Ye(lr,e)}function zo(){nt(lr),nt(Qs),nt(Ys)}function bv(t){Ai(Ys.current);var e=Ai(lr.current),n=Vc(e,t.type);e!==n&&(Ye(Qs,t),Ye(lr,n))}function Sh(t){Qs.current===t&&(nt(lr),nt(Qs))}var at=si(0);function zl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pc=[];function Eh(){for(var t=0;t<pc.length;t++)pc[t]._workInProgressVersionPrimary=null;pc.length=0}var hl=Lr.ReactCurrentDispatcher,mc=Lr.ReactCurrentBatchConfig,Ui=0,lt=null,Tt=null,Rt=null,Dl=!1,Rs=!1,Xs=0,Q1=0;function Bt(){throw Error(se(321))}function kh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Xn(t[n],e[n]))return!1;return!0}function Ph(t,e,n,r,o,s){if(Ui=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hl.current=t===null||t.memoizedState===null?tb:nb,t=n(r,o),Rs){s=0;do{if(Rs=!1,Xs=0,25<=s)throw Error(se(301));s+=1,Rt=Tt=null,e.updateQueue=null,hl.current=rb,t=n(r,o)}while(Rs)}if(hl.current=Nl,e=Tt!==null&&Tt.next!==null,Ui=0,Rt=Tt=lt=null,Dl=!1,e)throw Error(se(300));return t}function Th(){var t=Xs!==0;return Xs=0,t}function ir(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?lt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function jn(){if(Tt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=Rt===null?lt.memoizedState:Rt.next;if(e!==null)Rt=e,Tt=t;else{if(t===null)throw Error(se(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?lt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ea(t,e){return typeof e=="function"?e(t):e}function gc(t){var e=jn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=Tt,o=r.baseQueue,s=n.pending;if(s!==null){if(o!==null){var l=o.next;o.next=s.next,s.next=l}r.baseQueue=o=s,n.pending=null}if(o!==null){s=o.next,r=r.baseState;var u=l=null,d=null,h=s;do{var f=h.lane;if((Ui&f)===f)d!==null&&(d=d.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};d===null?(u=d=m,l=r):d=d.next=m,lt.lanes|=f,Bi|=f}h=h.next}while(h!==null&&h!==s);d===null?l=r:d.next=u,Xn(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do s=o.lane,lt.lanes|=s,Bi|=s,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vc(t){var e=jn(),n=e.queue;if(n===null)throw Error(se(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,s=e.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do s=t(s,l.action),l=l.next;while(l!==o);Xn(s,e.memoizedState)||(un=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xv(){}function Sv(t,e){var n=lt,r=jn(),o=e(),s=!Xn(r.memoizedState,o);if(s&&(r.memoizedState=o,un=!0),r=r.queue,Ch(Pv.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,ta(9,kv.bind(null,n,r,o,e),void 0,null),It===null)throw Error(se(349));Ui&30||Ev(n,e,o)}return o}function Ev(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kv(t,e,n,r){e.value=n,e.getSnapshot=r,Tv(e)&&Cv(t)}function Pv(t,e,n){return n(function(){Tv(e)&&Cv(t)})}function Tv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Xn(t,n)}catch{return!0}}function Cv(t){var e=Cr(t,1);e!==null&&Yn(e,t,1,-1)}function Mp(t){var e=ir();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},e.queue=t,t=t.dispatch=eb.bind(null,lt,t),[e.memoizedState,t]}function ta(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ov(){return jn().memoizedState}function fl(t,e,n,r){var o=ir();lt.flags|=t,o.memoizedState=ta(1|e,n,void 0,r===void 0?null:r)}function cu(t,e,n,r){var o=jn();r=r===void 0?null:r;var s=void 0;if(Tt!==null){var l=Tt.memoizedState;if(s=l.destroy,r!==null&&kh(r,l.deps)){o.memoizedState=ta(e,n,s,r);return}}lt.flags|=t,o.memoizedState=ta(1|e,n,s,r)}function zp(t,e){return fl(8390656,8,t,e)}function Ch(t,e){return cu(2048,8,t,e)}function Lv(t,e){return cu(4,2,t,e)}function Av(t,e){return cu(4,4,t,e)}function Rv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iv(t,e,n){return n=n!=null?n.concat([t]):null,cu(4,4,Rv.bind(null,e,t),n)}function Oh(){}function jv(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mv(t,e){var n=jn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&kh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zv(t,e,n){return Ui&21?(Xn(n,e)||(n=$g(),lt.lanes|=n,Bi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function Y1(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=mc.transition;mc.transition={};try{t(!1),e()}finally{Fe=n,mc.transition=r}}function Dv(){return jn().memoizedState}function X1(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Nv(t))Uv(e,n);else if(n=yv(t,e,n,r),n!==null){var o=Yt();Yn(n,t,r,o),Bv(n,e,r)}}function eb(t,e,n){var r=ti(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nv(t))Uv(e,o);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,u=s(l,n);if(o.hasEagerState=!0,o.eagerState=u,Xn(u,l)){var d=e.interleaved;d===null?(o.next=o,wh(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=yv(t,e,o,r),n!==null&&(o=Yt(),Yn(n,t,r,o),Bv(n,e,r))}}function Nv(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function Uv(t,e){Rs=Dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Bv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sh(t,n)}}var Nl={readContext:In,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},tb={readContext:In,useCallback:function(t,e){return ir().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:zp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fl(4194308,4,Rv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fl(4194308,4,t,e)},useInsertionEffect:function(t,e){return fl(4,2,t,e)},useMemo:function(t,e){var n=ir();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ir();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=X1.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=ir();return t={current:t},e.memoizedState=t},useState:Mp,useDebugValue:Oh,useDeferredValue:function(t){return ir().memoizedState=t},useTransition:function(){var t=Mp(!1),e=t[0];return t=Y1.bind(null,t[1]),ir().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,o=ir();if(ot){if(n===void 0)throw Error(se(407));n=n()}else{if(n=e(),It===null)throw Error(se(349));Ui&30||Ev(r,e,n)}o.memoizedState=n;var s={value:n,getSnapshot:e};return o.queue=s,zp(Pv.bind(null,r,s,t),[t]),r.flags|=2048,ta(9,kv.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ir(),e=It.identifierPrefix;if(ot){var n=Sr,r=xr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Q1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nb={readContext:In,useCallback:jv,useContext:In,useEffect:Ch,useImperativeHandle:Iv,useInsertionEffect:Lv,useLayoutEffect:Av,useMemo:Mv,useReducer:gc,useRef:Ov,useState:function(){return gc(ea)},useDebugValue:Oh,useDeferredValue:function(t){var e=jn();return zv(e,Tt.memoizedState,t)},useTransition:function(){var t=gc(ea)[0],e=jn().memoizedState;return[t,e]},useMutableSource:xv,useSyncExternalStore:Sv,useId:Dv,unstable_isNewReconciler:!1},rb={readContext:In,useCallback:jv,useContext:In,useEffect:Ch,useImperativeHandle:Iv,useInsertionEffect:Lv,useLayoutEffect:Av,useMemo:Mv,useReducer:vc,useRef:Ov,useState:function(){return vc(ea)},useDebugValue:Oh,useDeferredValue:function(t){var e=jn();return Tt===null?e.memoizedState=t:zv(e,Tt.memoizedState,t)},useTransition:function(){var t=vc(ea)[0],e=jn().memoizedState;return[t,e]},useMutableSource:xv,useSyncExternalStore:Sv,useId:Dv,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function hd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var du={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yt(),o=ti(t),s=Er(r,o);s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,o),e!==null&&(Yn(e,t,o,r),dl(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yt(),o=ti(t),s=Er(r,o);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xr(t,s,o),e!==null&&(Yn(e,t,o,r),dl(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yt(),r=ti(t),o=Er(n,r);o.tag=2,e!=null&&(o.callback=e),e=Xr(t,o,r),e!==null&&(Yn(e,t,r,n),dl(e,t,r))}};function Dp(t,e,n,r,o,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!qs(n,r)||!qs(o,s):!0}function $v(t,e,n){var r=!1,o=ii,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(o=dn(e)?Di:Ht.current,r=e.contextTypes,s=(r=r!=null)?Io(t,o):ii),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=du,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=s),e}function Np(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&du.enqueueReplaceState(e,e.state,null)}function fd(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},bh(t);var s=e.contextType;typeof s=="object"&&s!==null?o.context=In(s):(s=dn(e)?Di:Ht.current,o.context=Io(t,s)),o.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hd(t,e,s,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&du.enqueueReplaceState(o,o.state,null),Ml(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",r=e;do n+=Aw(r),r=r.return;while(r);var o=n}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:o,digest:null}}function _c(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ib=typeof WeakMap=="function"?WeakMap:Map;function Fv(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bl||(Bl=!0,Ed=r),pd(t,e)},n}function Wv(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){pd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pd(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Up(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ib;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=_b.bind(null,t,e,n),e.then(t,t))}function Bp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $p(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,Xr(n,e,1))),n.lanes|=1),t)}var ob=Lr.ReactCurrentOwner,un=!1;function Jt(t,e,n,r){e.child=t===null?_v(e,null,n,r):Mo(e,t.child,n,r)}function Fp(t,e,n,r,o){n=n.render;var s=e.ref;return Oo(e,o),r=Ph(t,e,n,r,s,o),n=Th(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Or(t,e,o)):(ot&&n&&ph(e),e.flags|=1,Jt(t,e,r,o),e.child)}function Wp(t,e,n,r,o){if(t===null){var s=n.type;return typeof s=="function"&&!Dh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Hv(t,e,s,r,o)):(t=vl(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&o)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:qs,n(l,r)&&t.ref===e.ref)return Or(t,e,o)}return e.flags|=1,t=ni(s,r),t.ref=e.ref,t.return=e,e.child=t}function Hv(t,e,n,r,o){if(t!==null){var s=t.memoizedProps;if(qs(s,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=s,(t.lanes&o)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,Or(t,e,o)}return md(t,e,n,r,o)}function Vv(t,e,n){var r=e.pendingProps,o=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(So,pn),pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ye(So,pn),pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ye(So,pn),pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ye(So,pn),pn|=r;return Jt(t,e,o,n),e.child}function Zv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function md(t,e,n,r,o){var s=dn(n)?Di:Ht.current;return s=Io(e,s),Oo(e,o),n=Ph(t,e,n,r,s,o),r=Th(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,Or(t,e,o)):(ot&&r&&ph(e),e.flags|=1,Jt(t,e,n,o),e.child)}function Hp(t,e,n,r,o){if(dn(n)){var s=!0;Ll(e)}else s=!1;if(Oo(e,o),e.stateNode===null)pl(t,e),$v(e,n,r),fd(e,n,r,o),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=In(h):(h=dn(n)?Di:Ht.current,h=Io(e,h));var f=n.getDerivedStateFromProps,m=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==h)&&Np(e,l,r,h),Fr=!1;var p=e.memoizedState;l.state=p,Ml(e,r,l,o),d=e.memoizedState,u!==r||p!==d||cn.current||Fr?(typeof f=="function"&&(hd(e,n,f,r),d=e.memoizedState),(u=Fr||Dp(e,n,u,r,p,d,h))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=h,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,wv(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Vn(e.type,u),l.props=h,m=e.pendingProps,p=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=In(d):(d=dn(n)?Di:Ht.current,d=Io(e,d));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||p!==d)&&Np(e,l,r,d),Fr=!1,p=e.memoizedState,l.state=p,Ml(e,r,l,o);var _=e.memoizedState;u!==m||p!==_||cn.current||Fr?(typeof v=="function"&&(hd(e,n,v,r),_=e.memoizedState),(h=Fr||Dp(e,n,h,r,p,_,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,_,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,_,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),l.props=r,l.state=_,l.context=d,r=h):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return gd(t,e,n,r,s,o)}function gd(t,e,n,r,o,s){Zv(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return o&&Op(e,n,!1),Or(t,e,s);r=e.stateNode,ob.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Mo(e,t.child,null,s),e.child=Mo(e,null,u,s)):Jt(t,e,u,s),e.memoizedState=r.state,o&&Op(e,n,!0),e.child}function qv(t){var e=t.stateNode;e.pendingContext?Cp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cp(t,e.context,!1),xh(t,e.containerInfo)}function Vp(t,e,n,r,o){return jo(),gh(o),e.flags|=256,Jt(t,e,n,r),e.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function _d(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kv(t,e,n){var r=e.pendingProps,o=at.current,s=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(o&2)!==0),u?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ye(at,o&1),t===null)return cd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=pu(l,r,0,null),t=zi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_d(n),e.memoizedState=vd,t):Lh(e,l));if(o=t.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return sb(t,e,l,r,u,o,n);if(s){s=r.fallback,l=e.mode,o=t.child,u=o.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=ni(o,d),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?s=ni(u,s):(s=zi(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?_d(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=vd,r}return s=t.child,t=s.sibling,r=ni(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Lh(t,e){return e=pu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Za(t,e,n,r){return r!==null&&gh(r),Mo(e,t.child,null,n),t=Lh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sb(t,e,n,r,o,s,l){if(n)return e.flags&256?(e.flags&=-257,r=_c(Error(se(422))),Za(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,o=e.mode,r=pu({mode:"visible",children:r.children},o,0,null),s=zi(s,o,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Mo(e,t.child,null,l),e.child.memoizedState=_d(l),e.memoizedState=vd,s);if(!(e.mode&1))return Za(t,e,l,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(se(419)),r=_c(s,r,void 0),Za(t,e,l,r)}if(u=(l&t.childLanes)!==0,un||u){if(r=It,r!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|l)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Cr(t,o),Yn(r,t,o,-1))}return zh(),r=_c(Error(se(421))),Za(t,e,l,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=yb.bind(null,t),o._reactRetry=e,null):(t=s.treeContext,_n=Yr(o.nextSibling),wn=e,ot=!0,Jn=null,t!==null&&(On[Ln++]=xr,On[Ln++]=Sr,On[Ln++]=Ni,xr=t.id,Sr=t.overflow,Ni=e),e=Lh(e,r.children),e.flags|=4096,e)}function Zp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dd(t.return,e,n)}function yc(t,e,n,r,o){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=o)}function Gv(t,e,n){var r=e.pendingProps,o=r.revealOrder,s=r.tail;if(Jt(t,e,r.children,n),r=at.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zp(t,n,e);else if(t.tag===19)Zp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ye(at,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&zl(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),yc(e,!1,o,n,s);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&zl(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}yc(e,!0,n,null,s);break;case"together":yc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Or(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(se(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ab(t,e,n){switch(e.tag){case 3:qv(e),jo();break;case 5:bv(e);break;case 1:dn(e.type)&&Ll(e);break;case 4:xh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;Ye(Il,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ye(at,at.current&1),e.flags|=128,null):n&e.child.childLanes?Kv(t,e,n):(Ye(at,at.current&1),t=Or(t,e,n),t!==null?t.sibling:null);Ye(at,at.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gv(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ye(at,at.current),r)break;return null;case 22:case 23:return e.lanes=0,Vv(t,e,n)}return Or(t,e,n)}var Jv,yd,Qv,Yv;Jv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yd=function(){};Qv=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ai(lr.current);var s=null;switch(n){case"input":o=$c(t,o),r=$c(t,r),s=[];break;case"select":o=ut({},o,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":o=Hc(t,o),r=Hc(t,r),s=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cl)}Zc(n,r);var l;n=null;for(h in o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&o[h]!=null)if(h==="style"){var u=o[h];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Bs.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var d=r[h];if(u=o!=null?o[h]:void 0,r.hasOwnProperty(h)&&d!==u&&(d!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(h,n)),n=d;else h==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(h,d)):h==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(h,""+d):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Bs.hasOwnProperty(h)?(d!=null&&h==="onScroll"&&tt("scroll",t),s||u===d||(s=[])):(s=s||[]).push(h,d))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};Yv=function(t,e,n,r){n!==r&&(e.flags|=4)};function ms(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function lb(t,e,n){var r=e.pendingProps;switch(mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return dn(e.type)&&Ol(),$t(e),null;case 3:return r=e.stateNode,zo(),nt(cn),nt(Ht),Eh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ha(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(Td(Jn),Jn=null))),yd(t,e),$t(e),null;case 5:Sh(e);var o=Ai(Ys.current);if(n=e.type,t!==null&&e.stateNode!=null)Qv(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(se(166));return $t(e),null}if(t=Ai(lr.current),Ha(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sr]=e,r[Js]=s,t=(e.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(o=0;o<Ss.length;o++)tt(Ss[o],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":tp(r,s),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},tt("invalid",r);break;case"textarea":rp(r,s),tt("invalid",r)}Zc(n,s),o=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Wa(r.textContent,u,t),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Wa(r.textContent,u,t),o=["children",""+u]):Bs.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&tt("scroll",r)}switch(n){case"input":Ma(r),np(r,s,!0);break;case"textarea":Ma(r),ip(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cl)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Pg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[sr]=e,t[Js]=r,Jv(t,e,!1,!1),e.stateNode=t;e:{switch(l=qc(n,r),n){case"dialog":tt("cancel",t),tt("close",t),o=r;break;case"iframe":case"object":case"embed":tt("load",t),o=r;break;case"video":case"audio":for(o=0;o<Ss.length;o++)tt(Ss[o],t);o=r;break;case"source":tt("error",t),o=r;break;case"img":case"image":case"link":tt("error",t),tt("load",t),o=r;break;case"details":tt("toggle",t),o=r;break;case"input":tp(t,r),o=$c(t,r),tt("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ut({},r,{value:void 0}),tt("invalid",t);break;case"textarea":rp(t,r),o=Hc(t,r),tt("invalid",t);break;default:o=r}Zc(n,o),u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?Og(t,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Tg(t,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&$s(t,d):typeof d=="number"&&$s(t,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bs.hasOwnProperty(s)?d!=null&&s==="onScroll"&&tt("scroll",t):d!=null&&eh(t,s,d,l))}switch(n){case"input":Ma(t),np(t,r,!1);break;case"textarea":Ma(t),ip(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=Cl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $t(e),null;case 6:if(t&&e.stateNode!=null)Yv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(se(166));if(n=Ai(Ys.current),Ai(lr.current),Ha(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(s=r.nodeValue!==n)&&(t=wn,t!==null))switch(t.tag){case 3:Wa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wa(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return $t(e),null;case 13:if(nt(at),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&_n!==null&&e.mode&1&&!(e.flags&128))gv(),jo(),e.flags|=98560,s=!1;else if(s=Ha(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(se(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(se(317));s[sr]=e}else jo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),s=!1}else Jn!==null&&(Td(Jn),Jn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Ct===0&&(Ct=3):zh())),e.updateQueue!==null&&(e.flags|=4),$t(e),null);case 4:return zo(),yd(t,e),t===null&&Ks(e.stateNode.containerInfo),$t(e),null;case 10:return yh(e.type._context),$t(e),null;case 17:return dn(e.type)&&Ol(),$t(e),null;case 19:if(nt(at),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)ms(s,!1);else{if(Ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=zl(t),l!==null){for(e.flags|=128,ms(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ye(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>No&&(e.flags|=128,r=!0,ms(s,!1),e.lanes=4194304)}else{if(!r)if(t=zl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ms(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!ot)return $t(e),null}else 2*gt()-s.renderingStartTime>No&&n!==1073741824&&(e.flags|=128,r=!0,ms(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,n=at.current,Ye(at,r?n&1|2:n&1),e):($t(e),null);case 22:case 23:return Mh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?pn&1073741824&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),null;case 24:return null;case 25:return null}throw Error(se(156,e.tag))}function ub(t,e){switch(mh(e),e.tag){case 1:return dn(e.type)&&Ol(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zo(),nt(cn),nt(Ht),Eh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sh(e),null;case 13:if(nt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(se(340));jo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(at),null;case 4:return zo(),null;case 10:return yh(e.type._context),null;case 22:case 23:return Mh(),null;case 24:return null;default:return null}}var qa=!1,Wt=!1,cb=typeof WeakSet=="function"?WeakSet:Set,ce=null;function xo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){dt(t,e,r)}else n.current=null}function wd(t,e,n){try{n()}catch(r){dt(t,e,r)}}var qp=!1;function db(t,e){if(rd=kl,t=rv(),fh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,h=0,f=0,m=t,p=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(u=l+o),m!==s||r!==0&&m.nodeType!==3||(d=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++h===o&&(u=l),p===s&&++f===r&&(d=l),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(id={focusedElem:t,selectionRange:n},kl=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var b=_.memoizedProps,T=_.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:Vn(e.type,b),T);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(A){dt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return _=qp,qp=!1,_}function Is(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var s=o.destroy;o.destroy=void 0,s!==void 0&&wd(e,n,s)}o=o.next}while(o!==r)}}function hu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xv(t){var e=t.alternate;e!==null&&(t.alternate=null,Xv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Js],delete e[ad],delete e[q1],delete e[K1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e_(t){return t.tag===5||t.tag===3||t.tag===4}function Kp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cl));else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}function Sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sd(t,e,n),t=t.sibling;t!==null;)Sd(t,e,n),t=t.sibling}var zt=null,qn=!1;function Nr(t,e,n){for(n=n.child;n!==null;)t_(t,e,n),n=n.sibling}function t_(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:Wt||xo(n,e);case 6:var r=zt,o=qn;zt=null,Nr(t,e,n),zt=r,qn=o,zt!==null&&(qn?(t=zt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(qn?(t=zt,n=n.stateNode,t.nodeType===8?hc(t.parentNode,n):t.nodeType===1&&hc(t,n),Vs(t)):hc(zt,n.stateNode));break;case 4:r=zt,o=qn,zt=n.stateNode.containerInfo,qn=!0,Nr(t,e,n),zt=r,qn=o;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var s=o,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&wd(n,e,l),o=o.next}while(o!==r)}Nr(t,e,n);break;case 1:if(!Wt&&(xo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){dt(n,e,u)}Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Nr(t,e,n),Wt=r):Nr(t,e,n);break;default:Nr(t,e,n)}}function Gp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cb),e.forEach(function(r){var o=wb.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function $n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var s=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:zt=u.stateNode,qn=!1;break e;case 3:zt=u.stateNode.containerInfo,qn=!0;break e;case 4:zt=u.stateNode.containerInfo,qn=!0;break e}u=u.return}if(zt===null)throw Error(se(160));t_(s,l,o),zt=null,qn=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(h){dt(o,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n_(e,t),e=e.sibling}function n_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($n(e,t),rr(t),r&4){try{Is(3,t,t.return),hu(3,t)}catch(b){dt(t,t.return,b)}try{Is(5,t,t.return)}catch(b){dt(t,t.return,b)}}break;case 1:$n(e,t),rr(t),r&512&&n!==null&&xo(n,n.return);break;case 5:if($n(e,t),rr(t),r&512&&n!==null&&xo(n,n.return),t.flags&32){var o=t.stateNode;try{$s(o,"")}catch(b){dt(t,t.return,b)}}if(r&4&&(o=t.stateNode,o!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Eg(o,s),qc(u,l);var h=qc(u,s);for(l=0;l<d.length;l+=2){var f=d[l],m=d[l+1];f==="style"?Og(o,m):f==="dangerouslySetInnerHTML"?Tg(o,m):f==="children"?$s(o,m):eh(o,f,m,h)}switch(u){case"input":Fc(o,s);break;case"textarea":kg(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ko(o,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?ko(o,!!s.multiple,s.defaultValue,!0):ko(o,!!s.multiple,s.multiple?[]:"",!1))}o[Js]=s}catch(b){dt(t,t.return,b)}}break;case 6:if($n(e,t),rr(t),r&4){if(t.stateNode===null)throw Error(se(162));o=t.stateNode,s=t.memoizedProps;try{o.nodeValue=s}catch(b){dt(t,t.return,b)}}break;case 3:if($n(e,t),rr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(e.containerInfo)}catch(b){dt(t,t.return,b)}break;case 4:$n(e,t),rr(t);break;case 13:$n(e,t),rr(t),o=t.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Ih=gt())),r&4&&Gp(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(h=Wt)||f,$n(e,t),Wt=h):$n(e,t),rr(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(m=ce=f;ce!==null;){switch(p=ce,v=p.child,p.tag){case 0:case 11:case 14:case 15:Is(4,p,p.return);break;case 1:xo(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(b){dt(r,n,b)}}break;case 5:xo(p,p.return);break;case 22:if(p.memoizedState!==null){Qp(m);continue}}v!==null?(v.return=p,ce=v):Qp(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{o=m.stateNode,h?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Cg("display",l))}catch(b){dt(t,t.return,b)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(b){dt(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:$n(e,t),rr(t),r&4&&Gp(t);break;case 21:break;default:$n(e,t),rr(t)}}function rr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e_(n)){var r=n;break e}n=n.return}throw Error(se(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&($s(o,""),r.flags&=-33);var s=Kp(t);Sd(t,s,o);break;case 3:case 4:var l=r.stateNode.containerInfo,u=Kp(t);xd(t,u,l);break;default:throw Error(se(161))}}catch(d){dt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hb(t,e,n){ce=t,r_(t)}function r_(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var o=ce,s=o.child;if(o.tag===22&&r){var l=o.memoizedState!==null||qa;if(!l){var u=o.alternate,d=u!==null&&u.memoizedState!==null||Wt;u=qa;var h=Wt;if(qa=l,(Wt=d)&&!h)for(ce=o;ce!==null;)l=ce,d=l.child,l.tag===22&&l.memoizedState!==null?Yp(o):d!==null?(d.return=l,ce=d):Yp(o);for(;s!==null;)ce=s,r_(s),s=s.sibling;ce=o,qa=u,Wt=h}Jp(t)}else o.subtreeFlags&8772&&s!==null?(s.return=o,ce=s):Jp(t)}}function Jp(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||hu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Vn(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&jp(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jp(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Vs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}Wt||e.flags&512&&bd(e)}catch(p){dt(e,e.return,p)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Qp(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function Yp(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{hu(4,e)}catch(d){dt(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){dt(e,o,d)}}var s=e.return;try{bd(e)}catch(d){dt(e,s,d)}break;case 5:var l=e.return;try{bd(e)}catch(d){dt(e,l,d)}}}catch(d){dt(e,e.return,d)}if(e===t){ce=null;break}var u=e.sibling;if(u!==null){u.return=e.return,ce=u;break}ce=e.return}}var fb=Math.ceil,Ul=Lr.ReactCurrentDispatcher,Ah=Lr.ReactCurrentOwner,Rn=Lr.ReactCurrentBatchConfig,ze=0,It=null,xt=null,Dt=0,pn=0,So=si(0),Ct=0,na=null,Bi=0,fu=0,Rh=0,js=null,an=null,Ih=0,No=1/0,yr=null,Bl=!1,Ed=null,ei=null,Ka=!1,qr=null,$l=0,Ms=0,kd=null,ml=-1,gl=0;function Yt(){return ze&6?gt():ml!==-1?ml:ml=gt()}function ti(t){return t.mode&1?ze&2&&Dt!==0?Dt&-Dt:J1.transition!==null?(gl===0&&(gl=$g()),gl):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Kg(t.type)),t):1}function Yn(t,e,n,r){if(50<Ms)throw Ms=0,kd=null,Error(se(185));ca(t,n,r),(!(ze&2)||t!==It)&&(t===It&&(!(ze&2)&&(fu|=n),Ct===4&&Hr(t,Dt)),hn(t,r),n===1&&ze===0&&!(e.mode&1)&&(No=gt()+500,uu&&ai()))}function hn(t,e){var n=t.callbackNode;Jw(t,e);var r=El(t,t===It?Dt:0);if(r===0)n!==null&&ap(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ap(n),e===1)t.tag===0?G1(Xp.bind(null,t)):fv(Xp.bind(null,t)),V1(function(){!(ze&6)&&ai()}),n=null;else{switch(Fg(r)){case 1:n=oh;break;case 4:n=Ug;break;case 16:n=Sl;break;case 536870912:n=Bg;break;default:n=Sl}n=d_(n,i_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i_(t,e){if(ml=-1,gl=0,ze&6)throw Error(se(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=El(t,t===It?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fl(t,r);else{e=r;var o=ze;ze|=2;var s=s_();(It!==t||Dt!==e)&&(yr=null,No=gt()+500,Mi(t,e));do try{gb();break}catch(u){o_(t,u)}while(!0);_h(),Ul.current=s,ze=o,xt!==null?e=0:(It=null,Dt=0,e=Ct)}if(e!==0){if(e===2&&(o=Yc(t),o!==0&&(r=o,e=Pd(t,o))),e===1)throw n=na,Mi(t,0),Hr(t,r),hn(t,gt()),n;if(e===6)Hr(t,r);else{if(o=t.current.alternate,!(r&30)&&!pb(o)&&(e=Fl(t,r),e===2&&(s=Yc(t),s!==0&&(r=s,e=Pd(t,s))),e===1))throw n=na,Mi(t,0),Hr(t,r),hn(t,gt()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(se(345));case 2:Si(t,an,yr);break;case 3:if(Hr(t,r),(r&130023424)===r&&(e=Ih+500-gt(),10<e)){if(El(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Yt(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=sd(Si.bind(null,t,an,yr),e);break}Si(t,an,yr);break;case 4:if(Hr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var l=31-Qn(r);s=1<<l,l=e[l],l>o&&(o=l),r&=~s}if(r=o,r=gt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fb(r/1960))-r,10<r){t.timeoutHandle=sd(Si.bind(null,t,an,yr),r);break}Si(t,an,yr);break;case 5:Si(t,an,yr);break;default:throw Error(se(329))}}}return hn(t,gt()),t.callbackNode===n?i_.bind(null,t):null}function Pd(t,e){var n=js;return t.current.memoizedState.isDehydrated&&(Mi(t,e).flags|=256),t=Fl(t,e),t!==2&&(e=an,an=n,e!==null&&Td(e)),t}function Td(t){an===null?an=t:an.push.apply(an,t)}function pb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],s=o.getSnapshot;o=o.value;try{if(!Xn(s(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(t,e){for(e&=~Rh,e&=~fu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qn(e),r=1<<n;t[n]=-1,e&=~r}}function Xp(t){if(ze&6)throw Error(se(327));Lo();var e=El(t,0);if(!(e&1))return hn(t,gt()),null;var n=Fl(t,e);if(t.tag!==0&&n===2){var r=Yc(t);r!==0&&(e=r,n=Pd(t,r))}if(n===1)throw n=na,Mi(t,0),Hr(t,e),hn(t,gt()),n;if(n===6)throw Error(se(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Si(t,an,yr),hn(t,gt()),null}function jh(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(No=gt()+500,uu&&ai())}}function $i(t){qr!==null&&qr.tag===0&&!(ze&6)&&Lo();var e=ze;ze|=1;var n=Rn.transition,r=Fe;try{if(Rn.transition=null,Fe=1,t)return t()}finally{Fe=r,Rn.transition=n,ze=e,!(ze&6)&&ai()}}function Mh(){pn=So.current,nt(So)}function Mi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,H1(n)),xt!==null)for(n=xt.return;n!==null;){var r=n;switch(mh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ol();break;case 3:zo(),nt(cn),nt(Ht),Eh();break;case 5:Sh(r);break;case 4:zo();break;case 13:nt(at);break;case 19:nt(at);break;case 10:yh(r.type._context);break;case 22:case 23:Mh()}n=n.return}if(It=t,xt=t=ni(t.current,null),Dt=pn=e,Ct=0,na=null,Rh=fu=Bi=0,an=js=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=o,r.next=l}n.pending=r}Li=null}return t}function o_(t,e){do{var n=xt;try{if(_h(),hl.current=Nl,Dl){for(var r=lt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Dl=!1}if(Ui=0,Rt=Tt=lt=null,Rs=!1,Xs=0,Ah.current=null,n===null||n.return===null){Ct=1,na=e,xt=null;break}e:{var s=t,l=n.return,u=n,d=e;if(e=Dt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var h=d,f=u,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Bp(l);if(v!==null){v.flags&=-257,$p(v,l,u,s,e),v.mode&1&&Up(s,h,e),e=v,d=h;var _=e.updateQueue;if(_===null){var b=new Set;b.add(d),e.updateQueue=b}else _.add(d);break e}else{if(!(e&1)){Up(s,h,e),zh();break e}d=Error(se(426))}}else if(ot&&u.mode&1){var T=Bp(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),$p(T,l,u,s,e),gh(Do(d,u));break e}}s=d=Do(d,u),Ct!==4&&(Ct=2),js===null?js=[s]:js.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=Fv(s,d,e);Ip(s,w);break e;case 1:u=d;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ei===null||!ei.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=Wv(s,u,e);Ip(s,A);break e}}s=s.return}while(s!==null)}l_(n)}catch(N){e=N,xt===n&&n!==null&&(xt=n=n.return);continue}break}while(!0)}function s_(){var t=Ul.current;return Ul.current=Nl,t===null?Nl:t}function zh(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),It===null||!(Bi&268435455)&&!(fu&268435455)||Hr(It,Dt)}function Fl(t,e){var n=ze;ze|=2;var r=s_();(It!==t||Dt!==e)&&(yr=null,Mi(t,e));do try{mb();break}catch(o){o_(t,o)}while(!0);if(_h(),ze=n,Ul.current=r,xt!==null)throw Error(se(261));return It=null,Dt=0,Ct}function mb(){for(;xt!==null;)a_(xt)}function gb(){for(;xt!==null&&!$w();)a_(xt)}function a_(t){var e=c_(t.alternate,t,pn);t.memoizedProps=t.pendingProps,e===null?l_(t):xt=e,Ah.current=null}function l_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ub(n,e),n!==null){n.flags&=32767,xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ct=6,xt=null;return}}else if(n=lb(n,e,pn),n!==null){xt=n;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Ct===0&&(Ct=5)}function Si(t,e,n){var r=Fe,o=Rn.transition;try{Rn.transition=null,Fe=1,vb(t,e,n,r)}finally{Rn.transition=o,Fe=r}return null}function vb(t,e,n,r){do Lo();while(qr!==null);if(ze&6)throw Error(se(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(se(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Qw(t,s),t===It&&(xt=It=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ka||(Ka=!0,d_(Sl,function(){return Lo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var l=Fe;Fe=1;var u=ze;ze|=4,Ah.current=null,db(t,n),n_(n,t),D1(id),kl=!!rd,id=rd=null,t.current=n,hb(n),Fw(),ze=u,Fe=l,Rn.transition=s}else t.current=n;if(Ka&&(Ka=!1,qr=t,$l=o),s=t.pendingLanes,s===0&&(ei=null),Vw(n.stateNode),hn(t,gt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Bl)throw Bl=!1,t=Ed,Ed=null,t;return $l&1&&t.tag!==0&&Lo(),s=t.pendingLanes,s&1?t===kd?Ms++:(Ms=0,kd=t):Ms=0,ai(),null}function Lo(){if(qr!==null){var t=Fg($l),e=Rn.transition,n=Fe;try{if(Rn.transition=null,Fe=16>t?16:t,qr===null)var r=!1;else{if(t=qr,qr=null,$l=0,ze&6)throw Error(se(331));var o=ze;for(ze|=4,ce=t.current;ce!==null;){var s=ce,l=s.child;if(ce.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var h=u[d];for(ce=h;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Is(8,f,s)}var m=f.child;if(m!==null)m.return=f,ce=m;else for(;ce!==null;){f=ce;var p=f.sibling,v=f.return;if(Xv(f),f===h){ce=null;break}if(p!==null){p.return=v,ce=p;break}ce=v}}}var _=s.alternate;if(_!==null){var b=_.child;if(b!==null){_.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}ce=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,ce=l;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Is(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ce=w;break e}ce=s.return}}var x=t.current;for(ce=x;ce!==null;){l=ce;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,ce=S;else e:for(l=x;ce!==null;){if(u=ce,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:hu(9,u)}}catch(N){dt(u,u.return,N)}if(u===l){ce=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,ce=A;break e}ce=u.return}}if(ze=o,ai(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(iu,t)}catch{}r=!0}return r}finally{Fe=n,Rn.transition=e}}return!1}function em(t,e,n){e=Do(n,e),e=Fv(t,e,1),t=Xr(t,e,1),e=Yt(),t!==null&&(ca(t,1,e),hn(t,e))}function dt(t,e,n){if(t.tag===3)em(t,t,n);else for(;e!==null;){if(e.tag===3){em(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=Do(n,t),t=Wv(e,t,1),e=Xr(e,t,1),t=Yt(),e!==null&&(ca(e,1,t),hn(e,t));break}}e=e.return}}function _b(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yt(),t.pingedLanes|=t.suspendedLanes&n,It===t&&(Dt&n)===n&&(Ct===4||Ct===3&&(Dt&130023424)===Dt&&500>gt()-Ih?Mi(t,0):Rh|=n),hn(t,e)}function u_(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=Yt();t=Cr(t,e),t!==null&&(ca(t,e,n),hn(t,n))}function yb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u_(t,n)}function wb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(se(314))}r!==null&&r.delete(e),u_(t,n)}var c_;c_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,ab(t,e,n);un=!!(t.flags&131072)}else un=!1,ot&&e.flags&1048576&&pv(e,Rl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pl(t,e),t=e.pendingProps;var o=Io(e,Ht.current);Oo(e,n),o=Ph(null,e,r,t,o,n);var s=Th();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,Ll(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,bh(e),o.updater=du,e.stateNode=o,o._reactInternals=e,fd(e,r,t,n),e=gd(null,e,r,!0,s,n)):(e.tag=0,ot&&s&&ph(e),Jt(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pl(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=xb(r),t=Vn(r,t),o){case 0:e=md(null,e,r,t,n);break e;case 1:e=Hp(null,e,r,t,n);break e;case 11:e=Fp(null,e,r,t,n);break e;case 14:e=Wp(null,e,r,Vn(r.type,t),n);break e}throw Error(se(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vn(r,o),md(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vn(r,o),Hp(t,e,r,o,n);case 3:e:{if(qv(e),t===null)throw Error(se(387));r=e.pendingProps,s=e.memoizedState,o=s.element,wv(t,e),Ml(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=Do(Error(se(423)),e),e=Vp(t,e,r,n,o);break e}else if(r!==o){o=Do(Error(se(424)),e),e=Vp(t,e,r,n,o);break e}else for(_n=Yr(e.stateNode.containerInfo.firstChild),wn=e,ot=!0,Jn=null,n=_v(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jo(),r===o){e=Or(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return bv(e),t===null&&cd(e),r=e.type,o=e.pendingProps,s=t!==null?t.memoizedProps:null,l=o.children,od(r,o)?l=null:s!==null&&od(r,s)&&(e.flags|=32),Zv(t,e),Jt(t,e,l,n),e.child;case 6:return t===null&&cd(e),null;case 13:return Kv(t,e,n);case 4:return xh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Mo(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vn(r,o),Fp(t,e,r,o,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,l=o.value,Ye(Il,r._currentValue),r._currentValue=l,s!==null)if(Xn(s.value,l)){if(s.children===o.children&&!cn.current){e=Or(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=Er(-1,n&-n),d.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?d.next=d:(d.next=f.next,f.next=d),h.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),dd(s.return,n,e),u.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(se(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),dd(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}Jt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Oo(e,n),o=In(o),r=r(o),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,o=Vn(r,e.pendingProps),o=Vn(r.type,o),Wp(t,e,r,o,n);case 15:return Hv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Vn(r,o),pl(t,e),e.tag=1,dn(r)?(t=!0,Ll(e)):t=!1,Oo(e,n),$v(e,r,o),fd(e,r,o,n),gd(null,e,r,!0,t,n);case 19:return Gv(t,e,n);case 22:return Vv(t,e,n)}throw Error(se(156,e.tag))};function d_(t,e){return Ng(t,e)}function bb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new bb(t,e,n,r)}function Dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xb(t){if(typeof t=="function")return Dh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nh)return 11;if(t===rh)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vl(t,e,n,r,o,s){var l=2;if(r=t,typeof t=="function")Dh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case fo:return zi(n.children,o,s,e);case th:l=8,o|=8;break;case Dc:return t=An(12,n,e,o|2),t.elementType=Dc,t.lanes=s,t;case Nc:return t=An(13,n,e,o),t.elementType=Nc,t.lanes=s,t;case Uc:return t=An(19,n,e,o),t.elementType=Uc,t.lanes=s,t;case bg:return pu(n,o,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yg:l=10;break e;case wg:l=9;break e;case nh:l=11;break e;case rh:l=14;break e;case $r:l=16,r=null;break e}throw Error(se(130,t==null?t:typeof t,""))}return e=An(l,n,e,o),e.elementType=t,e.type=r,e.lanes=s,e}function zi(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function pu(t,e,n,r){return t=An(22,t,r,e),t.elementType=bg,t.lanes=n,t.stateNode={isHidden:!1},t}function wc(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function bc(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sb(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Nh(t,e,n,r,o,s,l,u,d){return t=new Sb(t,e,n,u,d),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bh(s),t}function Eb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h_(t){if(!t)return ii;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(se(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(se(171))}if(t.tag===1){var n=t.type;if(dn(n))return hv(t,n,e)}return e}function f_(t,e,n,r,o,s,l,u,d){return t=Nh(n,r,!0,t,o,s,l,u,d),t.context=h_(null),n=t.current,r=Yt(),o=ti(n),s=Er(r,o),s.callback=e??null,Xr(n,s,o),t.current.lanes=o,ca(t,o,r),hn(t,r),t}function mu(t,e,n,r){var o=e.current,s=Yt(),l=ti(o);return n=h_(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xr(o,e,l),t!==null&&(Yn(t,o,l,s),dl(t,o,l)),l}function Wl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function tm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uh(t,e){tm(t,e),(t=t.alternate)&&tm(t,e)}function kb(){return null}var p_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bh(t){this._internalRoot=t}gu.prototype.render=Bh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(se(409));mu(t,e,null,null)};gu.prototype.unmount=Bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){mu(null,t,null,null)}),e[Tr]=null}};function gu(t){this._internalRoot=t}gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&qg(t)}};function $h(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nm(){}function Pb(t,e,n,r,o){if(o){if(typeof r=="function"){var s=r;r=function(){var h=Wl(l);s.call(h)}}var l=f_(e,r,t,0,null,!1,!1,"",nm);return t._reactRootContainer=l,t[Tr]=l.current,Ks(t.nodeType===8?t.parentNode:t),$i(),l}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var h=Wl(d);u.call(h)}}var d=Nh(t,0,!1,null,null,!1,!1,"",nm);return t._reactRootContainer=d,t[Tr]=d.current,Ks(t.nodeType===8?t.parentNode:t),$i(function(){mu(e,d,n,r)}),d}function _u(t,e,n,r,o){var s=n._reactRootContainer;if(s){var l=s;if(typeof o=="function"){var u=o;o=function(){var d=Wl(l);u.call(d)}}mu(e,l,t,o)}else l=Pb(n,e,t,o,r);return Wl(l)}Wg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xs(e.pendingLanes);n!==0&&(sh(e,n|1),hn(e,gt()),!(ze&6)&&(No=gt()+500,ai()))}break;case 13:$i(function(){var r=Cr(t,1);if(r!==null){var o=Yt();Yn(r,t,1,o)}}),Uh(t,1)}};ah=function(t){if(t.tag===13){var e=Cr(t,134217728);if(e!==null){var n=Yt();Yn(e,t,134217728,n)}Uh(t,134217728)}};Hg=function(t){if(t.tag===13){var e=ti(t),n=Cr(t,e);if(n!==null){var r=Yt();Yn(n,t,e,r)}Uh(t,e)}};Vg=function(){return Fe};Zg=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};Gc=function(t,e,n){switch(e){case"input":if(Fc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=lu(r);if(!o)throw Error(se(90));Sg(r),Fc(r,o)}}}break;case"textarea":kg(t,n);break;case"select":e=n.value,e!=null&&ko(t,!!n.multiple,e,!1)}};Rg=jh;Ig=$i;var Tb={usingClientEntryPoint:!1,Events:[ha,vo,lu,Lg,Ag,jh]},gs={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cb={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zg(t),t===null?null:t.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||kb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ga.isDisabled&&Ga.supportsFiber)try{iu=Ga.inject(Cb),ar=Ga}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tb;xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(e))throw Error(se(200));return Eb(t,e,null,n)};xn.createRoot=function(t,e){if(!$h(t))throw Error(se(299));var n=!1,r="",o=p_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Nh(t,1,!1,null,null,n,!1,r,o),t[Tr]=e.current,Ks(t.nodeType===8?t.parentNode:t),new Bh(e)};xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(se(188)):(t=Object.keys(t).join(","),Error(se(268,t)));return t=zg(e),t=t===null?null:t.stateNode,t};xn.flushSync=function(t){return $i(t)};xn.hydrate=function(t,e,n){if(!vu(e))throw Error(se(200));return _u(null,t,e,!0,n)};xn.hydrateRoot=function(t,e,n){if(!$h(t))throw Error(se(405));var r=n!=null&&n.hydratedSources||null,o=!1,s="",l=p_;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=f_(e,null,t,1,n??null,o,!1,s,l),t[Tr]=e.current,Ks(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new gu(e)};xn.render=function(t,e,n){if(!vu(e))throw Error(se(200));return _u(null,t,e,!1,n)};xn.unmountComponentAtNode=function(t){if(!vu(t))throw Error(se(40));return t._reactRootContainer?($i(function(){_u(null,null,t,!1,function(){t._reactRootContainer=null,t[Tr]=null})}),!0):!1};xn.unstable_batchedUpdates=jh;xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vu(n))throw Error(se(200));if(t==null||t._reactInternals===void 0)throw Error(se(38));return _u(t,e,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function m_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m_)}catch(t){console.error(t)}}m_(),mg.exports=xn;var yu=mg.exports;const Ob=ng(yu),Lb=qd({__proto__:null,default:Ob},[yu]);var rm=yu;Mc.createRoot=rm.createRoot,Mc.hydrateRoot=rm.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},it.apply(this,arguments)}var wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(wt||(wt={}));const im="popstate";function Ab(t){t===void 0&&(t={});function e(r,o){let{pathname:s,search:l,hash:u}=r.location;return ra("",{pathname:s,search:l,hash:u},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Fi(o)}return Ib(e,n,null,t)}function Ae(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rb(){return Math.random().toString(36).substr(2,8)}function om(t,e){return{usr:t.state,key:t.key,idx:e}}function ra(t,e,n,r){return n===void 0&&(n=null),it({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?li(e):e,{state:n,key:e&&e.key||r||Rb()})}function Fi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ib(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:s=!1}=r,l=o.history,u=wt.Pop,d=null,h=f();h==null&&(h=0,l.replaceState(it({},l.state,{idx:h}),""));function f(){return(l.state||{idx:null}).idx}function m(){u=wt.Pop;let T=f(),w=T==null?null:T-h;h=T,d&&d({action:u,location:b.location,delta:w})}function p(T,w){u=wt.Push;let x=ra(b.location,T,w);h=f()+1;let S=om(x,h),A=b.createHref(x);try{l.pushState(S,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;o.location.assign(A)}s&&d&&d({action:u,location:b.location,delta:1})}function v(T,w){u=wt.Replace;let x=ra(b.location,T,w);h=f();let S=om(x,h),A=b.createHref(x);l.replaceState(S,"",A),s&&d&&d({action:u,location:b.location,delta:0})}function _(T){let w=o.location.origin!=="null"?o.location.origin:o.location.href,x=typeof T=="string"?T:Fi(T);return x=x.replace(/ $/,"%20"),Ae(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let b={get action(){return u},get location(){return t(o,l)},listen(T){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(im,m),d=T,()=>{o.removeEventListener(im,m),d=null}},createHref(T){return e(o,T)},createURL:_,encodeLocation(T){let w=_(T);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(T){return l.go(T)}};return b}var $e;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($e||($e={}));const jb=new Set(["lazy","caseSensitive","path","id","index","children"]);function Mb(t){return t.index===!0}function Hl(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((o,s)=>{let l=[...n,String(s)],u=typeof o.id=="string"?o.id:l.join("-");if(Ae(o.index!==!0||!o.children,"Cannot specify children on an index route"),Ae(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),Mb(o)){let d=it({},o,e(o),{id:u});return r[u]=d,d}else{let d=it({},o,e(o),{id:u,children:void 0});return r[u]=d,o.children&&(d.children=Hl(o.children,e,l,r)),d}})}function ki(t,e,n){return n===void 0&&(n="/"),_l(t,e,n,!1)}function _l(t,e,n,r){let o=typeof e=="string"?li(e):e,s=Vo(o.pathname||"/",n);if(s==null)return null;let l=g_(t);Db(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let h=Kb(s);u=Zb(l[d],h,r)}return u}function zb(t,e){let{route:n,pathname:r,params:o}=t;return{id:n.id,pathname:r,params:o,data:e[n.id],handle:n.handle}}function g_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ae(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let h=kr([r,d.relativePath]),f=n.concat(d);s.children&&s.children.length>0&&(Ae(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),g_(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:Hb(h,s.index),routesMeta:f})};return t.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))o(s,l);else for(let d of v_(s.path))o(s,l,d)}),e}function v_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let l=v_(r.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),o&&u.push(...l),u.map(d=>t.startsWith("/")&&d===""?"/":d)}function Db(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Vb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nb=/^:[\w-]+$/,Ub=3,Bb=2,$b=1,Fb=10,Wb=-2,sm=t=>t==="*";function Hb(t,e){let n=t.split("/"),r=n.length;return n.some(sm)&&(r+=Wb),e&&(r+=Bb),n.filter(o=>!sm(o)).reduce((o,s)=>o+(Nb.test(s)?Ub:s===""?$b:Fb),r)}function Vb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function Zb(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,o={},s="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],h=u===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=am({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),p=d.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=am({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!m)return null;Object.assign(o,m.params),l.push({params:o,pathname:kr([s,m.pathname]),pathnameBase:Qb(kr([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=kr([s,m.pathnameBase]))}return l}function am(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((h,f,m)=>{let{paramName:p,isOptional:v}=f;if(p==="*"){let b=u[m]||"";l=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const _=u[m];return v&&!_?h[p]=void 0:h[p]=(_||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function qb(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Uo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function Kb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uo(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Gb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?li(t):t;return{pathname:n?n.startsWith("/")?n:Jb(n,e):e,search:Yb(r),hash:Xb(o)}}function Jb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function xc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function __(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fh(t,e){let n=__(t);return e?n.map((r,o)=>o===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wh(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=li(t):(o=it({},t),Ae(!o.pathname||!o.pathname.includes("?"),xc("?","pathname","search",o)),Ae(!o.pathname||!o.pathname.includes("#"),xc("#","pathname","hash",o)),Ae(!o.search||!o.search.includes("#"),xc("#","search","hash",o)));let s=t===""||o.pathname==="",l=s?"/":o.pathname,u;if(l==null)u=n;else{let m=e.length-1;if(!r&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),m-=1;o.pathname=p.join("/")}u=m>=0?e[m]:"/"}let d=Gb(o,u),h=l&&l!=="/"&&l.endsWith("/"),f=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}const kr=t=>t.join("/").replace(/\/\/+/g,"/"),Qb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Yb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Vl{constructor(e,n,r,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function ia(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y_=["post","put","patch","delete"],ex=new Set(y_),tx=["get",...y_],nx=new Set(tx),rx=new Set([301,302,303,307,308]),ix=new Set([307,308]),Sc={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ox={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Hh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sx=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),w_="remix-router-transitions";function ax(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Ae(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let $=t.detectErrorBoundary;o=Z=>({hasErrorBoundary:$(Z)})}else o=sx;let s={},l=Hl(t.routes,o,void 0,s),u,d=t.basename||"/",h=t.dataStrategy||dx,f=t.patchRoutesOnNavigation,m=it({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),p=null,v=new Set,_=null,b=null,T=null,w=t.hydrationData!=null,x=ki(l,t.history.location,d),S=!1,A=null;if(x==null&&!f){let $=sn(404,{pathname:t.history.location.pathname}),{matches:Z,route:Y}=_m(l);x=Z,A={[Y.id]:$}}x&&!t.hydrationData&&tn(x,l,t.history.location.pathname).active&&(x=null);let N;if(x)if(x.some($=>$.route.lazy))N=!1;else if(!x.some($=>$.route.loader))N=!0;else if(m.v7_partialHydration){let $=t.hydrationData?t.hydrationData.loaderData:null,Z=t.hydrationData?t.hydrationData.errors:null;if(Z){let Y=x.findIndex(re=>Z[re.route.id]!==void 0);N=x.slice(0,Y+1).every(re=>!Od(re.route,$,Z))}else N=x.every(Y=>!Od(Y.route,$,Z))}else N=t.hydrationData!=null;else if(N=!1,x=[],m.v7_partialHydration){let $=tn(null,l,t.history.location.pathname);$.active&&$.matches&&(S=!0,x=$.matches)}let O,P={historyAction:t.history.action,location:t.history.location,matches:x,initialized:N,navigation:Sc,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},k=wt.Pop,C=!1,j,U=!1,B=new Map,V=null,F=!1,G=!1,I=[],R=new Set,z=new Map,H=0,W=-1,ne=new Map,ee=new Set,ae=new Map,te=new Map,K=new Set,oe=new Map,xe=new Map,Ee;function Re(){if(p=t.history.listen($=>{let{action:Z,location:Y,delta:re}=$;if(Ee){Ee(),Ee=void 0;return}Uo(xe.size===0||re!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=zn({currentLocation:P.location,nextLocation:Y,historyAction:Z});if(X&&re!=null){let me=new Promise(_e=>{Ee=_e});t.history.go(re*-1),cr(X,{state:"blocked",location:Y,proceed(){cr(X,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),me.then(()=>t.history.go(re))},reset(){let _e=new Map(P.blockers);_e.set(X,vs),ke({blockers:_e})}});return}return Ke(Z,Y)}),n){kx(e,B);let $=()=>Px(e,B);e.addEventListener("pagehide",$),V=()=>e.removeEventListener("pagehide",$)}return P.initialized||Ke(wt.Pop,P.location,{initialHydration:!0}),O}function Ne(){p&&p(),V&&V(),v.clear(),j&&j.abort(),P.fetchers.forEach(($,Z)=>Et(Z)),P.blockers.forEach(($,Z)=>Rr(Z))}function Ze($){return v.add($),()=>v.delete($)}function ke($,Z){Z===void 0&&(Z={}),P=it({},P,$);let Y=[],re=[];m.v7_fetcherPersist&&P.fetchers.forEach((X,me)=>{X.state==="idle"&&(K.has(me)?re.push(me):Y.push(me))}),K.forEach(X=>{!P.fetchers.has(X)&&!z.has(X)&&re.push(X)}),[...v].forEach(X=>X(P,{deletedFetchers:re,viewTransitionOpts:Z.viewTransitionOpts,flushSync:Z.flushSync===!0})),m.v7_fetcherPersist?(Y.forEach(X=>P.fetchers.delete(X)),re.forEach(X=>Et(X))):re.forEach(X=>K.delete(X))}function Ot($,Z,Y){var re,X;let{flushSync:me}=Y===void 0?{}:Y,_e=P.actionData!=null&&P.navigation.formMethod!=null&&Kn(P.navigation.formMethod)&&P.navigation.state==="loading"&&((re=$.state)==null?void 0:re._isRedirect)!==!0,de;Z.actionData?Object.keys(Z.actionData).length>0?de=Z.actionData:de=null:_e?de=P.actionData:de=null;let he=Z.loaderData?gm(P.loaderData,Z.loaderData,Z.matches||[],Z.errors):P.loaderData,ue=P.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((Oe,kt)=>ue.set(kt,vs)));let pe=C===!0||P.navigation.formMethod!=null&&Kn(P.navigation.formMethod)&&((X=$.state)==null?void 0:X._isRedirect)!==!0;u&&(l=u,u=void 0),F||k===wt.Pop||(k===wt.Push?t.history.push($,$.state):k===wt.Replace&&t.history.replace($,$.state));let we;if(k===wt.Pop){let Oe=B.get(P.location.pathname);Oe&&Oe.has($.pathname)?we={currentLocation:P.location,nextLocation:$}:B.has($.pathname)&&(we={currentLocation:$,nextLocation:P.location})}else if(U){let Oe=B.get(P.location.pathname);Oe?Oe.add($.pathname):(Oe=new Set([$.pathname]),B.set(P.location.pathname,Oe)),we={currentLocation:P.location,nextLocation:$}}ke(it({},Z,{actionData:de,loaderData:he,historyAction:k,location:$,initialized:!0,navigation:Sc,revalidation:"idle",restoreScrollPosition:di($,Z.matches||P.matches),preventScrollReset:pe,blockers:ue}),{viewTransitionOpts:we,flushSync:me===!0}),k=wt.Pop,C=!1,U=!1,F=!1,G=!1,I=[]}async function Vt($,Z){if(typeof $=="number"){t.history.go($);return}let Y=Cd(P.location,P.matches,d,m.v7_prependBasename,$,m.v7_relativeSplatPath,Z==null?void 0:Z.fromRouteId,Z==null?void 0:Z.relative),{path:re,submission:X,error:me}=lm(m.v7_normalizeFormMethod,!1,Y,Z),_e=P.location,de=ra(P.location,re,Z&&Z.state);de=it({},de,t.history.encodeLocation(de));let he=Z&&Z.replace!=null?Z.replace:void 0,ue=wt.Push;he===!0?ue=wt.Replace:he===!1||X!=null&&Kn(X.formMethod)&&X.formAction===P.location.pathname+P.location.search&&(ue=wt.Replace);let pe=Z&&"preventScrollReset"in Z?Z.preventScrollReset===!0:void 0,we=(Z&&Z.flushSync)===!0,Oe=zn({currentLocation:_e,nextLocation:de,historyAction:ue});if(Oe){cr(Oe,{state:"blocked",location:de,proceed(){cr(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),Vt($,Z)},reset(){let kt=new Map(P.blockers);kt.set(Oe,vs),ke({blockers:kt})}});return}return await Ke(ue,de,{submission:X,pendingError:me,preventScrollReset:pe,replace:Z&&Z.replace,enableViewTransition:Z&&Z.viewTransition,flushSync:we})}function qe(){if(Mn(),ke({revalidation:"loading"}),P.navigation.state!=="submitting"){if(P.navigation.state==="idle"){Ke(P.historyAction,P.location,{startUninterruptedRevalidation:!0});return}Ke(k||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:U===!0})}}async function Ke($,Z,Y){j&&j.abort(),j=null,k=$,F=(Y&&Y.startUninterruptedRevalidation)===!0,dr(P.location,P.matches),C=(Y&&Y.preventScrollReset)===!0,U=(Y&&Y.enableViewTransition)===!0;let re=u||l,X=Y&&Y.overrideNavigation,me=Y!=null&&Y.initialHydration&&P.matches&&P.matches.length>0&&!S?P.matches:ki(re,Z,d),_e=(Y&&Y.flushSync)===!0;if(me&&P.initialized&&!G&&vx(P.location,Z)&&!(Y&&Y.submission&&Kn(Y.submission.formMethod))){Ot(Z,{matches:me},{flushSync:_e});return}let de=tn(me,re,Z.pathname);if(de.active&&de.matches&&(me=de.matches),!me){let{error:He,notFoundMatches:Me,route:rt}=Ir(Z.pathname);Ot(Z,{matches:Me,loaderData:{},errors:{[rt.id]:He}},{flushSync:_e});return}j=new AbortController;let he=ro(t.history,Z,j.signal,Y&&Y.submission),ue;if(Y&&Y.pendingError)ue=[Pi(me).route.id,{type:$e.error,error:Y.pendingError}];else if(Y&&Y.submission&&Kn(Y.submission.formMethod)){let He=await Ue(he,Z,Y.submission,me,de.active,{replace:Y.replace,flushSync:_e});if(He.shortCircuited)return;if(He.pendingActionResult){let[Me,rt]=He.pendingActionResult;if(mn(rt)&&ia(rt.error)&&rt.error.status===404){j=null,Ot(Z,{matches:He.matches,loaderData:{},errors:{[Me]:rt.error}});return}}me=He.matches||me,ue=He.pendingActionResult,X=Ec(Z,Y.submission),_e=!1,de.active=!1,he=ro(t.history,he.url,he.signal)}let{shortCircuited:pe,matches:we,loaderData:Oe,errors:kt}=await De(he,Z,me,de.active,X,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,_e,ue);pe||(j=null,Ot(Z,it({matches:we||me},vm(ue),{loaderData:Oe,errors:kt})))}async function Ue($,Z,Y,re,X,me){me===void 0&&(me={}),Mn();let _e=Sx(Z,Y);if(ke({navigation:_e},{flushSync:me.flushSync===!0}),X){let ue=await nn(re,Z.pathname,$.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let pe=Pi(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[pe,{type:$e.error,error:ue.error}]}}else if(ue.matches)re=ue.matches;else{let{notFoundMatches:pe,error:we,route:Oe}=Ir(Z.pathname);return{matches:pe,pendingActionResult:[Oe.id,{type:$e.error,error:we}]}}}let de,he=Es(re,Z);if(!he.route.action&&!he.route.lazy)de={type:$e.error,error:sn(405,{method:$.method,pathname:Z.pathname,routeId:he.route.id})};else if(de=(await ht("action",P,$,[he],re,null))[he.route.id],$.signal.aborted)return{shortCircuited:!0};if(Ri(de)){let ue;return me&&me.replace!=null?ue=me.replace:ue=fm(de.response.headers.get("Location"),new URL($.url),d)===P.location.pathname+P.location.search,await Ie($,de,!0,{submission:Y,replace:ue}),{shortCircuited:!0}}if(Kr(de))throw sn(400,{type:"defer-action"});if(mn(de)){let ue=Pi(re,he.route.id);return(me&&me.replace)!==!0&&(k=wt.Push),{matches:re,pendingActionResult:[ue.route.id,de]}}return{matches:re,pendingActionResult:[he.route.id,de]}}async function De($,Z,Y,re,X,me,_e,de,he,ue,pe){let we=X||Ec(Z,me),Oe=me||_e||wm(we),kt=!F&&(!m.v7_partialHydration||!he);if(re){if(kt){let et=ct(pe);ke(it({navigation:we},et!==void 0?{actionData:et}:{}),{flushSync:ue})}let Te=await nn(Y,Z.pathname,$.signal);if(Te.type==="aborted")return{shortCircuited:!0};if(Te.type==="error"){let et=Pi(Te.partialMatches).route.id;return{matches:Te.partialMatches,loaderData:{},errors:{[et]:Te.error}}}else if(Te.matches)Y=Te.matches;else{let{error:et,notFoundMatches:pr,route:Nn}=Ir(Z.pathname);return{matches:pr,loaderData:{},errors:{[Nn.id]:et}}}}let He=u||l,[Me,rt]=cm(t.history,P,Y,Oe,Z,m.v7_partialHydration&&he===!0,m.v7_skipActionErrorRevalidation,G,I,R,K,ae,ee,He,d,pe);if(qt(Te=>!(Y&&Y.some(et=>et.route.id===Te))||Me&&Me.some(et=>et.route.id===Te)),W=++H,Me.length===0&&rt.length===0){let Te=fn();return Ot(Z,it({matches:Y,loaderData:{},errors:pe&&mn(pe[1])?{[pe[0]]:pe[1].error}:null},vm(pe),Te?{fetchers:new Map(P.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(kt){let Te={};if(!re){Te.navigation=we;let et=ct(pe);et!==void 0&&(Te.actionData=et)}rt.length>0&&(Te.fetchers=vt(rt)),ke(Te,{flushSync:ue})}rt.forEach(Te=>{pt(Te.key),Te.controller&&z.set(Te.key,Te.controller)});let hr=()=>rt.forEach(Te=>pt(Te.key));j&&j.signal.addEventListener("abort",hr);let{loaderResults:hi,fetcherResults:rn}=await Zt(P,Y,Me,rt,$);if($.signal.aborted)return{shortCircuited:!0};j&&j.signal.removeEventListener("abort",hr),rt.forEach(Te=>z.delete(Te.key));let kn=Ja(hi);if(kn)return await Ie($,kn.result,!0,{replace:de}),{shortCircuited:!0};if(kn=Ja(rn),kn)return ee.add(kn.key),await Ie($,kn.result,!0,{replace:de}),{shortCircuited:!0};let{loaderData:Qo,errors:fi}=mm(P,Y,hi,pe,rt,rn,oe);oe.forEach((Te,et)=>{Te.subscribe(pr=>{(pr||Te.done)&&oe.delete(et)})}),m.v7_partialHydration&&he&&P.errors&&(fi=it({},P.errors,fi));let fr=fn(),Ki=Ar(W),jr=fr||Ki||rt.length>0;return it({matches:Y,loaderData:Qo,errors:fi},jr?{fetchers:new Map(P.fetchers)}:{})}function ct($){if($&&!mn($[1]))return{[$[0]]:$[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function vt($){return $.forEach(Z=>{let Y=P.fetchers.get(Z.key),re=_s(void 0,Y?Y.data:void 0);P.fetchers.set(Z.key,re)}),new Map(P.fetchers)}function Ge($,Z,Y,re){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");pt($);let X=(re&&re.flushSync)===!0,me=u||l,_e=Cd(P.location,P.matches,d,m.v7_prependBasename,Y,m.v7_relativeSplatPath,Z,re==null?void 0:re.relative),de=ki(me,_e,d),he=tn(de,me,_e);if(he.active&&he.matches&&(de=he.matches),!de){St($,Z,sn(404,{pathname:_e}),{flushSync:X});return}let{path:ue,submission:pe,error:we}=lm(m.v7_normalizeFormMethod,!0,_e,re);if(we){St($,Z,we,{flushSync:X});return}let Oe=Es(de,ue),kt=(re&&re.preventScrollReset)===!0;if(pe&&Kn(pe.formMethod)){Lt($,Z,ue,Oe,de,he.active,X,kt,pe);return}ae.set($,{routeId:Z,path:ue}),Xe($,Z,ue,Oe,de,he.active,X,kt,pe)}async function Lt($,Z,Y,re,X,me,_e,de,he){Mn(),ae.delete($);function ue(ve){if(!ve.route.action&&!ve.route.lazy){let Be=sn(405,{method:he.formMethod,pathname:Y,routeId:Z});return St($,Z,Be,{flushSync:_e}),!0}return!1}if(!me&&ue(re))return;let pe=P.fetchers.get($);We($,Ex(he,pe),{flushSync:_e});let we=new AbortController,Oe=ro(t.history,Y,we.signal,he);if(me){let ve=await nn(X,new URL(Oe.url).pathname,Oe.signal,$);if(ve.type==="aborted")return;if(ve.type==="error"){St($,Z,ve.error,{flushSync:_e});return}else if(ve.matches){if(X=ve.matches,re=Es(X,Y),ue(re))return}else{St($,Z,sn(404,{pathname:Y}),{flushSync:_e});return}}z.set($,we);let kt=H,Me=(await ht("action",P,Oe,[re],X,$))[re.route.id];if(Oe.signal.aborted){z.get($)===we&&z.delete($);return}if(m.v7_fetcherPersist&&K.has($)){if(Ri(Me)||mn(Me)){We($,Br(void 0));return}}else{if(Ri(Me))if(z.delete($),W>kt){We($,Br(void 0));return}else return ee.add($),We($,_s(he)),Ie(Oe,Me,!1,{fetcherSubmission:he,preventScrollReset:de});if(mn(Me)){St($,Z,Me.error);return}}if(Kr(Me))throw sn(400,{type:"defer-action"});let rt=P.navigation.location||P.location,hr=ro(t.history,rt,we.signal),hi=u||l,rn=P.navigation.state!=="idle"?ki(hi,P.navigation.location,d):P.matches;Ae(rn,"Didn't find any matches after fetcher action");let kn=++H;ne.set($,kn);let Qo=_s(he,Me.data);P.fetchers.set($,Qo);let[fi,fr]=cm(t.history,P,rn,he,rt,!1,m.v7_skipActionErrorRevalidation,G,I,R,K,ae,ee,hi,d,[re.route.id,Me]);fr.filter(ve=>ve.key!==$).forEach(ve=>{let Be=ve.key,pi=P.fetchers.get(Be),Mr=_s(void 0,pi?pi.data:void 0);P.fetchers.set(Be,Mr),pt(Be),ve.controller&&z.set(Be,ve.controller)}),ke({fetchers:new Map(P.fetchers)});let Ki=()=>fr.forEach(ve=>pt(ve.key));we.signal.addEventListener("abort",Ki);let{loaderResults:jr,fetcherResults:Te}=await Zt(P,rn,fi,fr,hr);if(we.signal.aborted)return;we.signal.removeEventListener("abort",Ki),ne.delete($),z.delete($),fr.forEach(ve=>z.delete(ve.key));let et=Ja(jr);if(et)return Ie(hr,et.result,!1,{preventScrollReset:de});if(et=Ja(Te),et)return ee.add(et.key),Ie(hr,et.result,!1,{preventScrollReset:de});let{loaderData:pr,errors:Nn}=mm(P,rn,jr,void 0,fr,Te,oe);if(P.fetchers.has($)){let ve=Br(Me.data);P.fetchers.set($,ve)}Ar(kn),P.navigation.state==="loading"&&kn>W?(Ae(k,"Expected pending action"),j&&j.abort(),Ot(P.navigation.location,{matches:rn,loaderData:pr,errors:Nn,fetchers:new Map(P.fetchers)})):(ke({errors:Nn,loaderData:gm(P.loaderData,pr,rn,Nn),fetchers:new Map(P.fetchers)}),G=!1)}async function Xe($,Z,Y,re,X,me,_e,de,he){let ue=P.fetchers.get($);We($,_s(he,ue?ue.data:void 0),{flushSync:_e});let pe=new AbortController,we=ro(t.history,Y,pe.signal);if(me){let Me=await nn(X,new URL(we.url).pathname,we.signal,$);if(Me.type==="aborted")return;if(Me.type==="error"){St($,Z,Me.error,{flushSync:_e});return}else if(Me.matches)X=Me.matches,re=Es(X,Y);else{St($,Z,sn(404,{pathname:Y}),{flushSync:_e});return}}z.set($,pe);let Oe=H,He=(await ht("loader",P,we,[re],X,$))[re.route.id];if(Kr(He)&&(He=await Vh(He,we.signal,!0)||He),z.get($)===pe&&z.delete($),!we.signal.aborted){if(K.has($)){We($,Br(void 0));return}if(Ri(He))if(W>Oe){We($,Br(void 0));return}else{ee.add($),await Ie(we,He,!1,{preventScrollReset:de});return}if(mn(He)){St($,Z,He.error);return}Ae(!Kr(He),"Unhandled fetcher deferred data"),We($,Br(He.data))}}async function Ie($,Z,Y,re){let{submission:X,fetcherSubmission:me,preventScrollReset:_e,replace:de}=re===void 0?{}:re;Z.response.headers.has("X-Remix-Revalidate")&&(G=!0);let he=Z.response.headers.get("Location");Ae(he,"Expected a Location header on the redirect Response"),he=fm(he,new URL($.url),d);let ue=ra(P.location,he,{_isRedirect:!0});if(n){let Me=!1;if(Z.response.headers.has("X-Remix-Reload-Document"))Me=!0;else if(Hh.test(he)){const rt=t.history.createURL(he);Me=rt.origin!==e.location.origin||Vo(rt.pathname,d)==null}if(Me){de?e.location.replace(he):e.location.assign(he);return}}j=null;let pe=de===!0||Z.response.headers.has("X-Remix-Replace")?wt.Replace:wt.Push,{formMethod:we,formAction:Oe,formEncType:kt}=P.navigation;!X&&!me&&we&&Oe&&kt&&(X=wm(P.navigation));let He=X||me;if(ix.has(Z.response.status)&&He&&Kn(He.formMethod))await Ke(pe,ue,{submission:it({},He,{formAction:he}),preventScrollReset:_e||C,enableViewTransition:Y?U:void 0});else{let Me=Ec(ue,X);await Ke(pe,ue,{overrideNavigation:Me,fetcherSubmission:me,preventScrollReset:_e||C,enableViewTransition:Y?U:void 0})}}async function ht($,Z,Y,re,X,me){let _e,de={};try{_e=await hx(h,$,Z,Y,re,X,me,s,o)}catch(he){return re.forEach(ue=>{de[ue.route.id]={type:$e.error,error:he}}),de}for(let[he,ue]of Object.entries(_e))if(_x(ue)){let pe=ue.result;de[he]={type:$e.redirect,response:mx(pe,Y,he,X,d,m.v7_relativeSplatPath)}}else de[he]=await px(ue);return de}async function Zt($,Z,Y,re,X){let me=$.matches,_e=ht("loader",$,X,Y,Z,null),de=Promise.all(re.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let Oe=(await ht("loader",$,ro(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:Oe}}else return Promise.resolve({[pe.key]:{type:$e.error,error:sn(404,{pathname:pe.path})}})})),he=await _e,ue=(await de).reduce((pe,we)=>Object.assign(pe,we),{});return await Promise.all([bx(Z,he,X.signal,me,$.loaderData),xx(Z,ue,re)]),{loaderResults:he,fetcherResults:ue}}function Mn(){G=!0,I.push(...qt()),ae.forEach(($,Z)=>{z.has(Z)&&R.add(Z),pt(Z)})}function We($,Z,Y){Y===void 0&&(Y={}),P.fetchers.set($,Z),ke({fetchers:new Map(P.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function St($,Z,Y,re){re===void 0&&(re={});let X=Pi(P.matches,Z);Et($),ke({errors:{[X.route.id]:Y},fetchers:new Map(P.fetchers)},{flushSync:(re&&re.flushSync)===!0})}function ft($){return te.set($,(te.get($)||0)+1),K.has($)&&K.delete($),P.fetchers.get($)||ox}function Et($){let Z=P.fetchers.get($);z.has($)&&!(Z&&Z.state==="loading"&&ne.has($))&&pt($),ae.delete($),ne.delete($),ee.delete($),m.v7_fetcherPersist&&K.delete($),R.delete($),P.fetchers.delete($)}function Ut($){let Z=(te.get($)||0)-1;Z<=0?(te.delete($),K.add($),m.v7_fetcherPersist||Et($)):te.set($,Z),ke({fetchers:new Map(P.fetchers)})}function pt($){let Z=z.get($);Z&&(Z.abort(),z.delete($))}function jt($){for(let Z of $){let Y=ft(Z),re=Br(Y.data);P.fetchers.set(Z,re)}}function fn(){let $=[],Z=!1;for(let Y of ee){let re=P.fetchers.get(Y);Ae(re,"Expected fetcher: "+Y),re.state==="loading"&&(ee.delete(Y),$.push(Y),Z=!0)}return jt($),Z}function Ar($){let Z=[];for(let[Y,re]of ne)if(re<$){let X=P.fetchers.get(Y);Ae(X,"Expected fetcher: "+Y),X.state==="loading"&&(pt(Y),ne.delete(Y),Z.push(Y))}return jt(Z),Z.length>0}function ur($,Z){let Y=P.blockers.get($)||vs;return xe.get($)!==Z&&xe.set($,Z),Y}function Rr($){P.blockers.delete($),xe.delete($)}function cr($,Z){let Y=P.blockers.get($)||vs;Ae(Y.state==="unblocked"&&Z.state==="blocked"||Y.state==="blocked"&&Z.state==="blocked"||Y.state==="blocked"&&Z.state==="proceeding"||Y.state==="blocked"&&Z.state==="unblocked"||Y.state==="proceeding"&&Z.state==="unblocked","Invalid blocker state transition: "+Y.state+" -> "+Z.state);let re=new Map(P.blockers);re.set($,Z),ke({blockers:re})}function zn($){let{currentLocation:Z,nextLocation:Y,historyAction:re}=$;if(xe.size===0)return;xe.size>1&&Uo(!1,"A router only supports one blocker at a time");let X=Array.from(xe.entries()),[me,_e]=X[X.length-1],de=P.blockers.get(me);if(!(de&&de.state==="proceeding")&&_e({currentLocation:Z,nextLocation:Y,historyAction:re}))return me}function Ir($){let Z=sn(404,{pathname:$}),Y=u||l,{matches:re,route:X}=_m(Y);return qt(),{notFoundMatches:re,route:X,error:Z}}function qt($){let Z=[];return oe.forEach((Y,re)=>{(!$||$(re))&&(Y.cancel(),Z.push(re),oe.delete(re))}),Z}function En($,Z,Y){if(_=$,T=Z,b=Y||null,!w&&P.navigation===Sc){w=!0;let re=di(P.location,P.matches);re!=null&&ke({restoreScrollPosition:re})}return()=>{_=null,T=null,b=null}}function Dn($,Z){return b&&b($,Z.map(re=>zb(re,P.loaderData)))||$.key}function dr($,Z){if(_&&T){let Y=Dn($,Z);_[Y]=T()}}function di($,Z){if(_){let Y=Dn($,Z),re=_[Y];if(typeof re=="number")return re}return null}function tn($,Z,Y){if(f)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:_l(Z,Y,d,!0)}}else return{active:!0,matches:_l(Z,Y,d,!0)||[]};return{active:!1,matches:null}}async function nn($,Z,Y,re){if(!f)return{type:"success",matches:$};let X=$;for(;;){let me=u==null,_e=u||l,de=s;try{await f({signal:Y,path:Z,matches:X,fetcherKey:re,patch:(pe,we)=>{Y.aborted||hm(pe,we,_e,de,o)}})}catch(pe){return{type:"error",error:pe,partialMatches:X}}finally{me&&!Y.aborted&&(l=[...l])}if(Y.aborted)return{type:"aborted"};let he=ki(_e,Z,d);if(he)return{type:"success",matches:he};let ue=_l(_e,Z,d,!0);if(!ue||X.length===ue.length&&X.every((pe,we)=>pe.route.id===ue[we].route.id))return{type:"success",matches:null};X=ue}}function Jo($){s={},u=Hl($,o,void 0,s)}function ku($,Z){let Y=u==null;hm($,Z,u||l,s,o),Y&&(l=[...l],ke({}))}return O={get basename(){return d},get future(){return m},get state(){return P},get routes(){return l},get window(){return e},initialize:Re,subscribe:Ze,enableScrollRestoration:En,navigate:Vt,fetch:Ge,revalidate:qe,createHref:$=>t.history.createHref($),encodeLocation:$=>t.history.encodeLocation($),getFetcher:ft,deleteFetcher:Ut,dispose:Ne,getBlocker:ur,deleteBlocker:Rr,patchRoutes:ku,_internalFetchControllers:z,_internalActiveDeferreds:oe,_internalSetRoutes:Jo},O}function lx(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Cd(t,e,n,r,o,s,l,u){let d,h;if(l){d=[];for(let m of e)if(d.push(m),m.route.id===l){h=m;break}}else d=e,h=e[e.length-1];let f=Wh(o||".",Fh(d,s),Vo(t.pathname,n)||t.pathname,u==="path");if(o==null&&(f.search=t.search,f.hash=t.hash),(o==null||o===""||o===".")&&h){let m=Zh(f.search);if(h.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&m){let p=new URLSearchParams(f.search),v=p.getAll("index");p.delete("index"),v.filter(b=>b).forEach(b=>p.append("index",b));let _=p.toString();f.search=_?"?"+_:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:kr([n,f.pathname])),Fi(f)}function lm(t,e,n,r){if(!r||!lx(r))return{path:n};if(r.formMethod&&!wx(r.formMethod))return{path:n,error:sn(405,{method:r.formMethod})};let o=()=>({path:n,error:sn(400,{type:"invalid-body"})}),s=r.formMethod||"get",l=t?s.toUpperCase():s.toLowerCase(),u=S_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Kn(l))return o();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((v,_)=>{let[b,T]=_;return""+v+b+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!Kn(l))return o();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return o()}}}Ae(typeof FormData=="function","FormData is not available in this environment");let d,h;if(r.formData)d=Ld(r.formData),h=r.formData;else if(r.body instanceof FormData)d=Ld(r.body),h=r.body;else if(r.body instanceof URLSearchParams)d=r.body,h=pm(d);else if(r.body==null)d=new URLSearchParams,h=new FormData;else try{d=new URLSearchParams(r.body),h=pm(d)}catch{return o()}let f={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Kn(f.formMethod))return{path:n,submission:f};let m=li(n);return e&&m.search&&Zh(m.search)&&d.append("index",""),m.search="?"+d,{path:Fi(m),submission:f}}function um(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(o=>o.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function cm(t,e,n,r,o,s,l,u,d,h,f,m,p,v,_,b){let T=b?mn(b[1])?b[1].error:b[1].data:void 0,w=t.createURL(e.location),x=t.createURL(o),S=n;s&&e.errors?S=um(n,Object.keys(e.errors)[0],!0):b&&mn(b[1])&&(S=um(n,b[0]));let A=b?b[1].statusCode:void 0,N=l&&A&&A>=400,O=S.filter((k,C)=>{let{route:j}=k;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return Od(j,e.loaderData,e.errors);if(ux(e.loaderData,e.matches[C],k)||d.some(V=>V===k.route.id))return!0;let U=e.matches[C],B=k;return dm(k,it({currentUrl:w,currentParams:U.params,nextUrl:x,nextParams:B.params},r,{actionResult:T,actionStatus:A,defaultShouldRevalidate:N?!1:u||w.pathname+w.search===x.pathname+x.search||w.search!==x.search||b_(U,B)}))}),P=[];return m.forEach((k,C)=>{if(s||!n.some(F=>F.route.id===k.routeId)||f.has(C))return;let j=ki(v,k.path,_);if(!j){P.push({key:C,routeId:k.routeId,path:k.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(C),B=Es(j,k.path),V=!1;p.has(C)?V=!1:h.has(C)?(h.delete(C),V=!0):U&&U.state!=="idle"&&U.data===void 0?V=u:V=dm(B,it({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:n[n.length-1].params},r,{actionResult:T,actionStatus:A,defaultShouldRevalidate:N?!1:u})),V&&P.push({key:C,routeId:k.routeId,path:k.path,matches:j,match:B,controller:new AbortController})}),[O,P]}function Od(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,o=n!=null&&n[t.id]!==void 0;return!r&&o?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!o}function ux(t,e,n){let r=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return r||o}function b_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function dm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function hm(t,e,n,r,o){var s;let l;if(t){let h=r[t];Ae(h,"No route found to patch children into: routeId = "+t),h.children||(h.children=[]),l=h.children}else l=n;let u=e.filter(h=>!l.some(f=>x_(h,f))),d=Hl(u,o,[t||"_","patch",String(((s=l)==null?void 0:s.length)||"0")],r);l.push(...d)}function x_(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var o;return(o=e.children)==null?void 0:o.some(s=>x_(n,s))}):!1}async function cx(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let o=n[t.id];Ae(o,"No route found in manifest");let s={};for(let l in r){let d=o[l]!==void 0&&l!=="hasErrorBoundary";Uo(!d,'Route "'+o.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!d&&!jb.has(l)&&(s[l]=r[l])}Object.assign(o,s),Object.assign(o,it({},e(o),{lazy:void 0}))}async function dx(t){let{matches:e}=t,n=e.filter(o=>o.shouldLoad);return(await Promise.all(n.map(o=>o.resolve()))).reduce((o,s,l)=>Object.assign(o,{[n[l].route.id]:s}),{})}async function hx(t,e,n,r,o,s,l,u,d,h){let f=s.map(v=>v.route.lazy?cx(v.route,d,u):void 0),m=s.map((v,_)=>{let b=f[_],T=o.some(x=>x.route.id===v.route.id);return it({},v,{shouldLoad:T,resolve:async x=>(x&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(T=!0),T?fx(e,r,v,b,x,h):Promise.resolve({type:$e.data,result:void 0}))})}),p=await t({matches:m,request:r,params:s[0].params,fetcherKey:l,context:h});try{await Promise.all(f)}catch{}return p}async function fx(t,e,n,r,o,s){let l,u,d=h=>{let f,m=new Promise((_,b)=>f=b);u=()=>f(),e.signal.addEventListener("abort",u);let p=_=>typeof h!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):h({request:e,params:n.params,context:s},..._!==void 0?[_]:[]),v=(async()=>{try{return{type:"data",result:await(o?o(b=>p(b)):p())}}catch(_){return{type:"error",result:_}}})();return Promise.race([v,m])};try{let h=n.route[t];if(r)if(h){let f,[m]=await Promise.all([d(h).catch(p=>{f=p}),r]);if(f!==void 0)throw f;l=m}else if(await r,h=n.route[t],h)l=await d(h);else if(t==="action"){let f=new URL(e.url),m=f.pathname+f.search;throw sn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:$e.data,result:void 0};else if(h)l=await d(h);else{let f=new URL(e.url),m=f.pathname+f.search;throw sn(404,{pathname:m})}Ae(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(h){return{type:$e.error,result:h}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function px(t){let{result:e,type:n}=t;if(E_(e)){let m;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(p){return{type:$e.error,error:p}}return n===$e.error?{type:$e.error,error:new Vl(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:$e.data,data:m,statusCode:e.status,headers:e.headers}}if(n===$e.error){if(ym(e)){var r,o;if(e.data instanceof Error){var s,l;return{type:$e.error,error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:$e.error,error:new Vl(((r=e.init)==null?void 0:r.status)||500,void 0,e.data),statusCode:ia(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}}return{type:$e.error,error:e,statusCode:ia(e)?e.status:void 0}}if(yx(e)){var u,d;return{type:$e.deferred,deferredData:e,statusCode:(u=e.init)==null?void 0:u.status,headers:((d=e.init)==null?void 0:d.headers)&&new Headers(e.init.headers)}}if(ym(e)){var h,f;return{type:$e.data,data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}}return{type:$e.data,data:e}}function mx(t,e,n,r,o,s){let l=t.headers.get("Location");if(Ae(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Hh.test(l)){let u=r.slice(0,r.findIndex(d=>d.route.id===n)+1);l=Cd(new URL(e.url),u,o,!0,l,s),t.headers.set("Location",l)}return t}function fm(t,e,n){if(Hh.test(t)){let r=t,o=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Vo(o.pathname,n)!=null;if(o.origin===e.origin&&s)return o.pathname+o.search+o.hash}return t}function ro(t,e,n,r){let o=t.createURL(S_(e)).toString(),s={signal:n};if(r&&Kn(r.formMethod)){let{formMethod:l,formEncType:u}=r;s.method=l.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=Ld(r.formData):s.body=r.formData}return new Request(o,s)}function Ld(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function pm(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function gx(t,e,n,r,o){let s={},l=null,u,d=!1,h={},f=n&&mn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let p=m.route.id,v=e[p];if(Ae(!Ri(v),"Cannot handle redirect results in processLoaderData"),mn(v)){let _=v.error;f!==void 0&&(_=f,f=void 0),l=l||{};{let b=Pi(t,p);l[b.route.id]==null&&(l[b.route.id]=_)}s[p]=void 0,d||(d=!0,u=ia(v.error)?v.error.status:500),v.headers&&(h[p]=v.headers)}else Kr(v)?(r.set(p,v.deferredData),s[p]=v.deferredData.data,v.statusCode!=null&&v.statusCode!==200&&!d&&(u=v.statusCode),v.headers&&(h[p]=v.headers)):(s[p]=v.data,v.statusCode&&v.statusCode!==200&&!d&&(u=v.statusCode),v.headers&&(h[p]=v.headers))}),f!==void 0&&n&&(l={[n[0]]:f},s[n[0]]=void 0),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:h}}function mm(t,e,n,r,o,s,l){let{loaderData:u,errors:d}=gx(e,n,r,l);return o.forEach(h=>{let{key:f,match:m,controller:p}=h,v=s[f];if(Ae(v,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(mn(v)){let _=Pi(t.matches,m==null?void 0:m.route.id);d&&d[_.route.id]||(d=it({},d,{[_.route.id]:v.error})),t.fetchers.delete(f)}else if(Ri(v))Ae(!1,"Unhandled fetcher revalidation redirect");else if(Kr(v))Ae(!1,"Unhandled fetcher deferred data");else{let _=Br(v.data);t.fetchers.set(f,_)}}),{loaderData:u,errors:d}}function gm(t,e,n,r){let o=it({},e);for(let s of n){let l=s.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(o[l]=e[l]):t[l]!==void 0&&s.route.loader&&(o[l]=t[l]),r&&r.hasOwnProperty(l))break}return o}function vm(t){return t?mn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Pi(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function _m(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function sn(t,e){let{pathname:n,routeId:r,method:o,type:s,message:l}=e===void 0?{}:e,u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",o&&n&&r?d="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?d="defer() is not supported in actions":s==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d='Route "'+r+'" does not match URL "'+n+'"'):t===404?(u="Not Found",d='No route matches URL "'+n+'"'):t===405&&(u="Method Not Allowed",o&&n&&r?d="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(d='Invalid request method "'+o.toUpperCase()+'"')),new Vl(t||500,u,new Error(d),!0)}function Ja(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,o]=e[n];if(Ri(o))return{key:r,result:o}}}function S_(t){let e=typeof t=="string"?li(t):t;return Fi(it({},e,{hash:""}))}function vx(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _x(t){return E_(t.result)&&rx.has(t.result.status)}function Kr(t){return t.type===$e.deferred}function mn(t){return t.type===$e.error}function Ri(t){return(t&&t.type)===$e.redirect}function ym(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function yx(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function E_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function wx(t){return nx.has(t.toLowerCase())}function Kn(t){return ex.has(t.toLowerCase())}async function bx(t,e,n,r,o){let s=Object.entries(e);for(let l=0;l<s.length;l++){let[u,d]=s[l],h=t.find(p=>(p==null?void 0:p.route.id)===u);if(!h)continue;let f=r.find(p=>p.route.id===h.route.id),m=f!=null&&!b_(f,h)&&(o&&o[h.route.id])!==void 0;Kr(d)&&m&&await Vh(d,n,!1).then(p=>{p&&(e[u]=p)})}}async function xx(t,e,n){for(let r=0;r<n.length;r++){let{key:o,routeId:s,controller:l}=n[r],u=e[o];t.find(h=>(h==null?void 0:h.route.id)===s)&&Kr(u)&&(Ae(l,"Expected an AbortController for revalidating fetcher deferred result"),await Vh(u,l.signal,!0).then(h=>{h&&(e[o]=h)}))}}async function Vh(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$e.data,data:t.deferredData.unwrappedData}}catch(o){return{type:$e.error,error:o}}return{type:$e.data,data:t.deferredData.data}}}function Zh(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Es(t,e){let n=typeof e=="string"?li(e).search:e.search;if(t[t.length-1].route.index&&Zh(n||""))return t[t.length-1];let r=__(t);return r[r.length-1]}function wm(t){let{formMethod:e,formAction:n,formEncType:r,text:o,formData:s,json:l}=t;if(!(!e||!n||!r)){if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Ec(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Sx(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _s(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Ex(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Br(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function kx(t,e){try{let n=t.sessionStorage.getItem(w_);if(n){let r=JSON.parse(n);for(let[o,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(o,new Set(s||[]))}}catch{}}function Px(t,e){if(e.size>0){let n={};for(let[r,o]of e)n[r]=[...o];try{t.sessionStorage.setItem(w_,JSON.stringify(n))}catch(r){Uo(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zl(){return Zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zl.apply(this,arguments)}const wu=J.createContext(null),k_=J.createContext(null),Vi=J.createContext(null),qh=J.createContext(null),ui=J.createContext({outlet:null,matches:[],isDataRoute:!1}),P_=J.createContext(null);function Tx(t,e){let{relative:n}=e===void 0?{}:e;pa()||Ae(!1);let{basename:r,navigator:o}=J.useContext(Vi),{hash:s,pathname:l,search:u}=C_(t,{relative:n}),d=l;return r!=="/"&&(d=l==="/"?r:kr([r,l])),o.createHref({pathname:d,search:u,hash:s})}function pa(){return J.useContext(qh)!=null}function ma(){return pa()||Ae(!1),J.useContext(qh).location}function T_(t){J.useContext(Vi).static||J.useLayoutEffect(t)}function Zo(){let{isDataRoute:t}=J.useContext(ui);return t?Bx():Cx()}function Cx(){pa()||Ae(!1);let t=J.useContext(wu),{basename:e,future:n,navigator:r}=J.useContext(Vi),{matches:o}=J.useContext(ui),{pathname:s}=ma(),l=JSON.stringify(Fh(o,n.v7_relativeSplatPath)),u=J.useRef(!1);return T_(()=>{u.current=!0}),J.useCallback(function(h,f){if(f===void 0&&(f={}),!u.current)return;if(typeof h=="number"){r.go(h);return}let m=Wh(h,JSON.parse(l),s,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:kr([e,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[e,r,l,s,t])}function Ox(){let{matches:t}=J.useContext(ui),e=t[t.length-1];return e?e.params:{}}function C_(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=J.useContext(Vi),{matches:o}=J.useContext(ui),{pathname:s}=ma(),l=JSON.stringify(Fh(o,r.v7_relativeSplatPath));return J.useMemo(()=>Wh(t,JSON.parse(l),s,n==="path"),[t,l,s,n])}function Lx(t,e,n,r){pa()||Ae(!1);let{navigator:o}=J.useContext(Vi),{matches:s}=J.useContext(ui),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let h=ma(),f;f=h;let m=f.pathname||"/",p=m;if(d!=="/"){let b=d.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=ki(t,{pathname:p});return Mx(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},u,b.params),pathname:kr([d,o.encodeLocation?o.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?d:kr([d,o.encodeLocation?o.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r)}function Ax(){let t=Ux(),e=ia(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),n?J.createElement("pre",{style:o},n):null,null)}const Rx=J.createElement(Ax,null);class Ix extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?J.createElement(ui.Provider,{value:this.props.routeContext},J.createElement(P_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jx(t){let{routeContext:e,match:n,children:r}=t,o=J.useContext(wu);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),J.createElement(ui.Provider,{value:e},r)}function Mx(t,e,n,r){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=(o=n)==null?void 0:o.errors;if(u!=null){let f=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);f>=0||Ae(!1),l=l.slice(0,Math.min(l.length,f+1))}let d=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let m=l[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:p,errors:v}=n,_=m.route.loader&&p[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,m,p)=>{let v,_=!1,b=null,T=null;n&&(v=u&&m.route.id?u[m.route.id]:void 0,b=m.route.errorElement||Rx,d&&(h<0&&p===0?($x("route-fallback"),_=!0,T=null):h===p&&(_=!0,T=m.route.hydrateFallbackElement||null)));let w=e.concat(l.slice(0,p+1)),x=()=>{let S;return v?S=b:_?S=T:m.route.Component?S=J.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,J.createElement(jx,{match:m,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?J.createElement(Ix,{location:n.location,revalidation:n.revalidation,component:b,error:v,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var O_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(O_||{}),L_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(L_||{});function zx(t){let e=J.useContext(wu);return e||Ae(!1),e}function Dx(t){let e=J.useContext(k_);return e||Ae(!1),e}function Nx(t){let e=J.useContext(ui);return e||Ae(!1),e}function A_(t){let e=Nx(),n=e.matches[e.matches.length-1];return n.route.id||Ae(!1),n.route.id}function Ux(){var t;let e=J.useContext(P_),n=Dx(),r=A_();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Bx(){let{router:t}=zx(O_.UseNavigateStable),e=A_(L_.UseNavigateStable),n=J.useRef(!1);return T_(()=>{n.current=!0}),J.useCallback(function(o,s){s===void 0&&(s={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Zl({fromRouteId:e},s)))},[t,e])}const bm={};function $x(t,e,n){bm[t]||(bm[t]=!0)}function Fx(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Wx(t){let{basename:e="/",children:n=null,location:r,navigationType:o=wt.Pop,navigator:s,static:l=!1,future:u}=t;pa()&&Ae(!1);let d=e.replace(/^\/*/,"/"),h=J.useMemo(()=>({basename:d,navigator:s,static:l,future:Zl({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof r=="string"&&(r=li(r));let{pathname:f="/",search:m="",hash:p="",state:v=null,key:_="default"}=r,b=J.useMemo(()=>{let T=Vo(f,d);return T==null?null:{location:{pathname:T,search:m,hash:p,state:v,key:_},navigationType:o}},[d,f,m,p,v,_,o]);return b==null?null:J.createElement(Vi.Provider,{value:h},J.createElement(qh.Provider,{children:n,value:b}))}new Promise(()=>{});function Hx(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:J.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:J.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:J.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oa.apply(this,arguments)}function Vx(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function Zx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qx(t,e){return t.button===0&&(!e||e==="_self")&&!Zx(t)}function Ad(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function Kx(t,e){let n=Ad(t);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(s=>{n.append(o,s)})}),n}const Gx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jx="6";try{window.__reactRouterVersion=Jx}catch{}function Qx(t,e){return ax({basename:e==null?void 0:e.basename,future:oa({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:Ab({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Yx(),routes:t,mapRouteProperties:Hx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Yx(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=oa({},e,{errors:Xx(e.errors)})),e}function Xx(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,o]of e)if(o&&o.__type==="RouteErrorResponse")n[r]=new Vl(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let s=window[o.__subType];if(typeof s=="function")try{let l=new s(o.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let s=new Error(o.message);s.stack="",n[r]=s}}else n[r]=o;return n}const eS=J.createContext({isTransitioning:!1}),tS=J.createContext(new Map),nS="startTransition",xm=_w[nS],rS="flushSync",Sm=Lb[rS];function iS(t){xm?xm(t):t()}function ys(t){Sm?Sm(t):t()}let oS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function sS(t){let{fallbackElement:e,router:n,future:r}=t,[o,s]=J.useState(n.state),[l,u]=J.useState(),[d,h]=J.useState({isTransitioning:!1}),[f,m]=J.useState(),[p,v]=J.useState(),[_,b]=J.useState(),T=J.useRef(new Map),{v7_startTransition:w}=r||{},x=J.useCallback(k=>{w?iS(k):k()},[w]),S=J.useCallback((k,C)=>{let{deletedFetchers:j,flushSync:U,viewTransitionOpts:B}=C;k.fetchers.forEach((F,G)=>{F.data!==void 0&&T.current.set(G,F.data)}),j.forEach(F=>T.current.delete(F));let V=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!B||V){U?ys(()=>s(k)):x(()=>s(k));return}if(U){ys(()=>{p&&(f&&f.resolve(),p.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:B.currentLocation,nextLocation:B.nextLocation})});let F=n.window.document.startViewTransition(()=>{ys(()=>s(k))});F.finished.finally(()=>{ys(()=>{m(void 0),v(void 0),u(void 0),h({isTransitioning:!1})})}),ys(()=>v(F));return}p?(f&&f.resolve(),p.skipTransition(),b({state:k,currentLocation:B.currentLocation,nextLocation:B.nextLocation})):(u(k),h({isTransitioning:!0,flushSync:!1,currentLocation:B.currentLocation,nextLocation:B.nextLocation}))},[n.window,p,f,T,x]);J.useLayoutEffect(()=>n.subscribe(S),[n,S]),J.useEffect(()=>{d.isTransitioning&&!d.flushSync&&m(new oS)},[d]),J.useEffect(()=>{if(f&&l&&n.window){let k=l,C=f.promise,j=n.window.document.startViewTransition(async()=>{x(()=>s(k)),await C});j.finished.finally(()=>{m(void 0),v(void 0),u(void 0),h({isTransitioning:!1})}),v(j)}},[x,l,f,n.window]),J.useEffect(()=>{f&&l&&o.location.key===l.location.key&&f.resolve()},[f,p,o.location,l]),J.useEffect(()=>{!d.isTransitioning&&_&&(u(_.state),h({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),b(void 0))},[d.isTransitioning,_]),J.useEffect(()=>{},[]);let A=J.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,C,j)=>n.navigate(k,{state:C,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(k,C,j)=>n.navigate(k,{replace:!0,state:C,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),N=n.basename||"/",O=J.useMemo(()=>({router:n,navigator:A,static:!1,basename:N}),[n,A,N]),P=J.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return J.useEffect(()=>Fx(r,n.future),[r,n.future]),J.createElement(J.Fragment,null,J.createElement(wu.Provider,{value:O},J.createElement(k_.Provider,{value:o},J.createElement(tS.Provider,{value:T.current},J.createElement(eS.Provider,{value:d},J.createElement(Wx,{basename:N,location:o.location,navigationType:o.historyAction,navigator:A,future:P},o.initialized||n.future.v7_partialHydration?J.createElement(aS,{routes:n.routes,future:n.future,state:o}):e))))),null)}const aS=J.memo(lS);function lS(t){let{routes:e,future:n,state:r}=t;return Lx(e,void 0,r,n)}const uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yn=J.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:s,replace:l,state:u,target:d,to:h,preventScrollReset:f,viewTransition:m}=e,p=Vx(e,Gx),{basename:v}=J.useContext(Vi),_,b=!1;if(typeof h=="string"&&cS.test(h)&&(_=h,uS))try{let S=new URL(window.location.href),A=h.startsWith("//")?new URL(S.protocol+h):new URL(h),N=Vo(A.pathname,v);A.origin===S.origin&&N!=null?h=N+A.search+A.hash:b=!0}catch{}let T=Tx(h,{relative:o}),w=dS(h,{replace:l,state:u,target:d,preventScrollReset:f,relative:o,viewTransition:m});function x(S){r&&r(S),S.defaultPrevented||w(S)}return J.createElement("a",oa({},p,{href:_||T,onClick:b||s?r:x,ref:n,target:d}))});var Em;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Em||(Em={}));var km;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(km||(km={}));function dS(t,e){let{target:n,replace:r,state:o,preventScrollReset:s,relative:l,viewTransition:u}=e===void 0?{}:e,d=Zo(),h=ma(),f=C_(t,{relative:l});return J.useCallback(m=>{if(qx(m,n)){m.preventDefault();let p=r!==void 0?r:Fi(h)===Fi(f);d(t,{replace:p,state:o,preventScrollReset:s,relative:l,viewTransition:u})}},[h,d,f,r,o,n,t,s,l,u])}function hS(t){let e=J.useRef(Ad(t)),n=J.useRef(!1),r=ma(),o=J.useMemo(()=>Kx(r.search,n.current?null:e.current),[r.search]),s=Zo(),l=J.useCallback((u,d)=>{const h=Ad(typeof u=="function"?u(o):u);n.current=!0,s("?"+h,d)},[s,o]);return[o,l]}const fS="modulepreload",pS=function(t){return"/CipherDispatch/"+t},Pm={},Zi=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=pS(d),d in Pm)return;Pm[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":fS,h||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),h)return new Promise((p,v)=>{m.addEventListener("load",p),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return o.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return e().catch(s)})};function mS(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisteredSW:s,onRegisterError:l}=t;let u,d;const h=async(m=!0)=>{await d};async function f(){if("serviceWorker"in navigator){if(u=await Zi(async()=>{const{Workbox:m}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:m}},[]).then(({Workbox:m})=>new m("/CipherDispatch/sw.js",{scope:"/CipherDispatch/",type:"classic"})).catch(m=>{l==null||l(m)}),!u)return;u.addEventListener("activated",m=>{(m.isUpdate||m.isExternal)&&window.location.reload()}),u.addEventListener("installed",m=>{m.isUpdate||r==null||r()}),u.register({immediate:e}).then(m=>{s?s("/CipherDispatch/sw.js",m):o==null||o(m)}).catch(m=>{l==null||l(m)})}}return d=f(),h}var Rd=function(t,e){return Rd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Rd(t,e)};function R_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ql=function(){return ql=Object.assign||function(e){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ql.apply(this,arguments)};function qo(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function I_(t,e,n,r){var o=arguments.length,s=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(s=(o<3?l(s):o>3?l(e,n,s):l(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function j_(t,e){return function(n,r){e(n,r,t)}}function M_(t,e,n,r,o,s){function l(w){if(w!==void 0&&typeof w!="function")throw new TypeError("Function expected");return w}for(var u=r.kind,d=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?r.static?t:t.prototype:null,f=e||(h?Object.getOwnPropertyDescriptor(h,r.name):{}),m,p=!1,v=n.length-1;v>=0;v--){var _={};for(var b in r)_[b]=b==="access"?{}:r[b];for(var b in r.access)_.access[b]=r.access[b];_.addInitializer=function(w){if(p)throw new TypeError("Cannot add initializers after decoration has completed");s.push(l(w||null))};var T=(0,n[v])(u==="accessor"?{get:f.get,set:f.set}:f[d],_);if(u==="accessor"){if(T===void 0)continue;if(T===null||typeof T!="object")throw new TypeError("Object expected");(m=l(T.get))&&(f.get=m),(m=l(T.set))&&(f.set=m),(m=l(T.init))&&o.unshift(m)}else(m=l(T))&&(u==="field"?o.unshift(m):f[d]=m)}h&&Object.defineProperty(h,r.name,f),p=!0}function z_(t,e,n){for(var r=arguments.length>2,o=0;o<e.length;o++)n=r?e[o].call(t,n):e[o].call(t);return r?n:void 0}function D_(t){return typeof t=="symbol"?t:"".concat(t)}function N_(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function U_(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function fe(t,e,n,r){function o(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(f){try{h(r.next(f))}catch(m){l(m)}}function d(f){try{h(r.throw(f))}catch(m){l(m)}}function h(f){f.done?s(f.value):o(f.value).then(u,d)}h((r=r.apply(t,e||[])).next())})}function B_(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(f){return d([h,f])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,o&&(s=h[0]&2?o.return:h[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,h[1])).done)return s;switch(o=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,o=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(f){h=[6,f],o=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var bu=Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function $_(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&bu(e,t,n)}function Kl(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kh(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,s=[],l;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return s}function F_(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Kh(arguments[e]));return t}function W_(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var s=arguments[e],l=0,u=s.length;l<u;l++,o++)r[o]=s[l];return r}function H_(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,s;r<o;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Bo(t){return this instanceof Bo?(this.v=t,this):new Bo(t)}function V_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,s=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),o[Symbol.asyncIterator]=function(){return this},o;function l(v){return function(_){return Promise.resolve(_).then(v,m)}}function u(v,_){r[v]&&(o[v]=function(b){return new Promise(function(T,w){s.push([v,b,T,w])>1||d(v,b)})},_&&(o[v]=_(o[v])))}function d(v,_){try{h(r[v](_))}catch(b){p(s[0][3],b)}}function h(v){v.value instanceof Bo?Promise.resolve(v.value.v).then(f,m):p(s[0][2],v)}function f(v){d("next",v)}function m(v){d("throw",v)}function p(v,_){v(_),s.shift(),s.length&&d(s[0][0],s[0][1])}}function Z_(t){var e,n;return e={},r("next"),r("throw",function(o){throw o}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(o,s){e[o]=t[o]?function(l){return(n=!n)?{value:Bo(t[o](l)),done:!1}:s?s(l):l}:s}}function q_(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Kl=="function"?Kl(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(l){return new Promise(function(u,d){l=t[s](l),o(u,d,l.done,l.value)})}}function o(s,l,u,d){Promise.resolve(d).then(function(h){s({value:h,done:u})},l)}}function K_(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var gS=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Id=function(t){return Id=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},Id(t)};function G_(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=Id(t),r=0;r<n.length;r++)n[r]!=="default"&&bu(e,t,n[r]);return gS(e,t),e}function J_(t){return t&&t.__esModule?t:{default:t}}function Q_(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function Y_(t,e,n,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function X_(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ey(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(o=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var vS=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function ty(t){function e(s){t.error=t.hasError?new vS(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(o,function(l){return e(l),o()})}else r|=1}catch(l){e(l)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function ny(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,o,s,l){return r?e?".jsx":".js":o&&(!s||!l)?n:o+s+"."+l.toLowerCase()+"js"}):t}const _S={__extends:R_,__assign:ql,__rest:qo,__decorate:I_,__param:j_,__esDecorate:M_,__runInitializers:z_,__propKey:D_,__setFunctionName:N_,__metadata:U_,__awaiter:fe,__generator:B_,__createBinding:bu,__exportStar:$_,__values:Kl,__read:Kh,__spread:F_,__spreadArrays:W_,__spreadArray:H_,__await:Bo,__asyncGenerator:V_,__asyncDelegator:Z_,__asyncValues:q_,__makeTemplateObject:K_,__importStar:G_,__importDefault:J_,__classPrivateFieldGet:Q_,__classPrivateFieldSet:Y_,__classPrivateFieldIn:X_,__addDisposableResource:ey,__disposeResources:ty,__rewriteRelativeImportExtension:ny},yS=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ey,get __assign(){return ql},__asyncDelegator:Z_,__asyncGenerator:V_,__asyncValues:q_,__await:Bo,__awaiter:fe,__classPrivateFieldGet:Q_,__classPrivateFieldIn:X_,__classPrivateFieldSet:Y_,__createBinding:bu,__decorate:I_,__disposeResources:ty,__esDecorate:M_,__exportStar:$_,__extends:R_,__generator:B_,__importDefault:J_,__importStar:G_,__makeTemplateObject:K_,__metadata:U_,__param:j_,__propKey:D_,__read:Kh,__rest:qo,__rewriteRelativeImportExtension:ny,__runInitializers:z_,__setFunctionName:N_,__spread:F_,__spreadArray:H_,__spreadArrays:W_,__values:Kl,default:_S},Symbol.toStringTag,{value:"Module"})),wS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zi(async()=>{const{default:r}=await Promise.resolve().then(()=>qi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Gh extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Tm extends Gh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cm extends Gh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Om extends Gh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var jd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(jd||(jd={}));class bS{constructor(e,{headers:n={},customFetch:r,region:o=jd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=wS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return fe(this,arguments,void 0,function*(n,r={}){var o;try{const{headers:s,method:l,body:u,signal:d}=r;let h={},{region:f}=r;f||(f=this.region);const m=new URL(`${this.url}/${n}`);f&&f!=="any"&&(h["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let p;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;const v=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:p,signal:d}).catch(w=>{throw w.name==="AbortError"?w:new Tm(w)}),_=v.headers.get("x-relay-error");if(_&&_==="true")throw new Cm(v);if(!v.ok)throw new Om(v);let b=((o=v.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),T;return b==="application/json"?T=yield v.json():b==="application/octet-stream"||b==="application/pdf"?T=yield v.blob():b==="text/event-stream"?T=v:b==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Tm(s)}:{data:null,error:s,response:s instanceof Om||s instanceof Cm?s.context:void 0}}})}}var Qt={};const Ko=rg(yS);var Qa={},Ya={},Xa={},el={},tl={},xS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$o=xS();const SS=$o.fetch,ry=$o.fetch.bind($o),iy=$o.Headers,ES=$o.Request,kS=$o.Response,qi=Object.freeze(Object.defineProperty({__proto__:null,Headers:iy,Request:ES,Response:kS,default:ry,fetch:SS},Symbol.toStringTag,{value:"Module"})),PS=rg(qi);var nl={},Lm;function oy(){if(Lm)return nl;Lm=1,Object.defineProperty(nl,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return nl.default=t,nl}var Am;function sy(){if(Am)return tl;Am=1,Object.defineProperty(tl,"__esModule",{value:!0});const t=Ko,e=t.__importDefault(PS),n=t.__importDefault(oy());class r{constructor(s){var l,u;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(l=s.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=s.signal,this.isMaybeSingle=(u=s.isMaybeSingle)!==null&&u!==void 0?u:!1,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=new Headers(this.headers),this.headers.set(s,l),this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var f,m,p,v;let _=null,b=null,T=null,w=h.status,x=h.statusText;if(h.ok){if(this.method!=="HEAD"){const O=await h.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=O:b=JSON.parse(O))}const A=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),N=(p=h.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");A&&N&&N.length>1&&(T=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(_={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,T=null,w=406,x="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const A=await h.text();try{_=JSON.parse(A),Array.isArray(_)&&h.status===404&&(b=[],_=null,w=200,x="OK")}catch{h.status===404&&A===""?(w=204,x="No Content"):_={message:A}}if(_&&this.isMaybeSingle&&(!((v=_==null?void 0:_.details)===null||v===void 0)&&v.includes("0 rows"))&&(_=null,w=200,x="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:b,count:T,status:w,statusText:x}});return this.shouldThrowOnError||(d=d.catch(h=>{var f,m,p;return{error:{message:`${(f=h==null?void 0:h.name)!==null&&f!==void 0?f:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(m=h==null?void 0:h.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=h==null?void 0:h.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),d.then(s,l)}returns(){return this}overrideTypes(){return this}}return tl.default=r,tl}var Rm;function ay(){if(Rm)return el;Rm=1,Object.defineProperty(el,"__esModule",{value:!0});const e=Ko.__importDefault(sy());class n extends e.default{select(o){let s=!1;const l=(o??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:s=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${o}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:s,referencedTable:l=s}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${o}`),this}range(o,s,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${o}`),this.url.searchParams.set(h,`${s-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:s=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:h="text"}={}){var f;const m=[o?"analyze":null,s?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${p}"; options=${m};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return el.default=n,el}var Im;function Jh(){if(Im)return Xa;Im=1,Object.defineProperty(Xa,"__esModule",{value:!0});const e=Ko.__importDefault(ay()),n=new RegExp("[,()]");class r extends e.default{eq(s,l){return this.url.searchParams.append(s,`eq.${l}`),this}neq(s,l){return this.url.searchParams.append(s,`neq.${l}`),this}gt(s,l){return this.url.searchParams.append(s,`gt.${l}`),this}gte(s,l){return this.url.searchParams.append(s,`gte.${l}`),this}lt(s,l){return this.url.searchParams.append(s,`lt.${l}`),this}lte(s,l){return this.url.searchParams.append(s,`lte.${l}`),this}like(s,l){return this.url.searchParams.append(s,`like.${l}`),this}likeAllOf(s,l){return this.url.searchParams.append(s,`like(all).{${l.join(",")}}`),this}likeAnyOf(s,l){return this.url.searchParams.append(s,`like(any).{${l.join(",")}}`),this}ilike(s,l){return this.url.searchParams.append(s,`ilike.${l}`),this}ilikeAllOf(s,l){return this.url.searchParams.append(s,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(s,l){return this.url.searchParams.append(s,`ilike(any).{${l.join(",")}}`),this}is(s,l){return this.url.searchParams.append(s,`is.${l}`),this}in(s,l){const u=Array.from(new Set(l)).map(d=>typeof d=="string"&&n.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cs.{${l.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(l)}`),this}containedBy(s,l){return typeof l=="string"?this.url.searchParams.append(s,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(s,`cd.{${l.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(l)}`),this}rangeGt(s,l){return this.url.searchParams.append(s,`sr.${l}`),this}rangeGte(s,l){return this.url.searchParams.append(s,`nxl.${l}`),this}rangeLt(s,l){return this.url.searchParams.append(s,`sl.${l}`),this}rangeLte(s,l){return this.url.searchParams.append(s,`nxr.${l}`),this}rangeAdjacent(s,l){return this.url.searchParams.append(s,`adj.${l}`),this}overlaps(s,l){return typeof l=="string"?this.url.searchParams.append(s,`ov.${l}`):this.url.searchParams.append(s,`ov.{${l.join(",")}}`),this}textSearch(s,l,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const f=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${f}.${l}`),this}match(s){return Object.entries(s).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(s,l,u){return this.url.searchParams.append(s,`not.${l}.${u}`),this}or(s,{foreignTable:l,referencedTable:u=l}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,l,u){return this.url.searchParams.append(s,`${l}.${u}`),this}}return Xa.default=r,Xa}var jm;function ly(){if(jm)return Ya;jm=1,Object.defineProperty(Ya,"__esModule",{value:!0});const e=Ko.__importDefault(Jh());class n{constructor(o,{headers:s={},schema:l,fetch:u}){this.url=o,this.headers=new Headers(s),this.schema=l,this.fetch=u}select(o,s){const{head:l=!1,count:u}=s??{},d=l?"HEAD":"GET";let h=!1;const f=(o??"*").split("").map(m=>/\s/.test(m)&&!h?"":(m==='"'&&(h=!h),m)).join("");return this.url.searchParams.set("select",f),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:s,defaultToNull:l=!0}={}){var u;const d="POST";if(s&&this.headers.append("Prefer",`count=${s}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const h=o.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(o,{onConflict:s,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){var h;const f="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(m.length>0){const p=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(o,{count:s}={}){var l;const u="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:o}={}){var s;const l="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return Ya.default=n,Ya}var Mm;function TS(){if(Mm)return Qa;Mm=1,Object.defineProperty(Qa,"__esModule",{value:!0});const t=Ko,e=t.__importDefault(ly()),n=t.__importDefault(Jh());class r{constructor(s,{headers:l={},schema:u,fetch:d}={}){this.url=s,this.headers=new Headers(l),this.schemaName=u,this.fetch=d}from(s){const l=new URL(`${this.url}/${s}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,l={},{head:u=!1,get:d=!1,count:h}={}){var f;let m;const p=new URL(`${this.url}/rpc/${s}`);let v;u||d?(m=u?"HEAD":"GET",Object.entries(l).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{p.searchParams.append(b,T)})):(m="POST",v=l);const _=new Headers(this.headers);return h&&_.set("Prefer",`count=${h}`),new n.default({method:m,url:p,headers:_,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return Qa.default=r,Qa}Object.defineProperty(Qt,"__esModule",{value:!0});var uy=Qt.PostgrestError=yy=Qt.PostgrestBuilder=vy=Qt.PostgrestTransformBuilder=my=Qt.PostgrestFilterBuilder=fy=Qt.PostgrestQueryBuilder=dy=Qt.PostgrestClient=void 0;const Go=Ko,cy=Go.__importDefault(TS());var dy=Qt.PostgrestClient=cy.default;const hy=Go.__importDefault(ly());var fy=Qt.PostgrestQueryBuilder=hy.default;const py=Go.__importDefault(Jh());var my=Qt.PostgrestFilterBuilder=py.default;const gy=Go.__importDefault(ay());var vy=Qt.PostgrestTransformBuilder=gy.default;const _y=Go.__importDefault(sy());var yy=Qt.PostgrestBuilder=_y.default;const wy=Go.__importDefault(oy());uy=Qt.PostgrestError=wy.default;var by=Qt.default={PostgrestClient:cy.default,PostgrestQueryBuilder:hy.default,PostgrestFilterBuilder:py.default,PostgrestTransformBuilder:gy.default,PostgrestBuilder:_y.default,PostgrestError:wy.default};const CS=qd({__proto__:null,get PostgrestBuilder(){return yy},get PostgrestClient(){return dy},get PostgrestError(){return uy},get PostgrestFilterBuilder(){return my},get PostgrestQueryBuilder(){return fy},get PostgrestTransformBuilder(){return vy},default:by},[Qt]),{PostgrestClient:OS,PostgrestQueryBuilder:vP,PostgrestFilterBuilder:_P,PostgrestTransformBuilder:yP,PostgrestBuilder:wP,PostgrestError:bP}=by||CS;class LS{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const AS="2.78.0",RS=`realtime-js/${AS}`,IS="1.0.0",Md=1e4,jS=1e3,MS=100;var zs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zs||(zs={}));var Pt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Pt||(Pt={}));var Gn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Gn||(Gn={}));var zd;(function(t){t.websocket="websocket"})(zd||(zd={}));var Ti;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ti||(Ti={}));class zS{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+o));l=l+o;const d=r.decode(e.slice(l,l+s));l=l+s;const h=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:d,payload:h}}}class xy{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const zm=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,l)=>(s[l]=DS(l,t,e,o),s),{}):{}},DS=(t,e,n,r)=>{const o=e.find(u=>u.name===t),s=o==null?void 0:o.type,l=n[t];return s&&!r.includes(s)?Sy(s,l):Dd(l)},Sy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $S(e,n)}switch(t){case Qe.bool:return NS(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return US(e);case Qe.json:case Qe.jsonb:return BS(e);case Qe.timestamp:return FS(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return Dd(e);default:return Dd(e)}},Dd=t=>t,NS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},US=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},BS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$S=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const l=t.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(u=>Sy(e,u))}return t},FS=t=>typeof t=="string"?t.replace(" ","T"):t,Ey=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class kc{constructor(e,n,r={},o=Md){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dm;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Dm||(Dm={}));class Ds{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ds.syncState(this.state,o,s,l),this.pendingDiffs.forEach(d=>{this.state=Ds.syncDiff(this.state,d,s,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:s,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ds.syncDiff(this.state,o,s,l),u())}),this.onJoin((o,s,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:s,newPresences:l})}),this.onLeave((o,s,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const s=this.cloneDeep(e),l=this.transformState(n),u={},d={};return this.map(s,(h,f)=>{l[h]||(d[h]=f)}),this.map(l,(h,f)=>{const m=s[h];if(m){const p=f.map(T=>T.presence_ref),v=m.map(T=>T.presence_ref),_=f.filter(T=>v.indexOf(T.presence_ref)<0),b=m.filter(T=>p.indexOf(T.presence_ref)<0);_.length>0&&(u[h]=_),b.length>0&&(d[h]=b)}else u[h]=f}),this.syncDiff(s,{joins:u,leaves:d},r,o)}static syncDiff(e,n,r,o){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(s,(u,d)=>{var h;const f=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(d),f.length>0){const m=e[u].map(v=>v.presence_ref),p=f.filter(v=>m.indexOf(v.presence_ref)<0);e[u].unshift(...p)}r(u,f,d)}),this.map(l,(u,d)=>{let h=e[u];if(!h)return;const f=d.map(m=>m.presence_ref);h=h.filter(m=>f.indexOf(m.presence_ref)<0),e[u]=h,o(u,h,d),h.length===0&&delete e[u]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Nm;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Nm||(Nm={}));var Ns;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ns||(Ns={}));var wr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class Qh{constructor(e,n={config:{}},r){var o,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new kc(this,Gn.join,this.params,this.timeout),this.rejoinTimer=new xy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Gn.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Ds(this),this.broadcastEndpointURL=Ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,o,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,h=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&o!==void 0?o:[],f=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},p={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:f}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(wr.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(wr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var _;if(this.socket.setAuth(),v===void 0){e==null||e(wr.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,T=(_=b==null?void 0:b.length)!==null&&_!==void 0?_:0,w=[];for(let x=0;x<T;x++){const S=b[x],{filter:{event:A,schema:N,table:O,filter:P}}=S,k=v&&v[x];if(k&&k.event===A&&k.schema===N&&k.table===O&&k.filter===P)w.push(Object.assign(Object.assign({},S),{id:k.id}));else{this.unsubscribe(),this.state=Pt.errored,e==null||e(wr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(wr.SUBSCRIBED);return}}).receive("error",v=>{this.state=Pt.errored,e==null||e(wr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Pt.joined&&e===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var o;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const h=await u.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,u,d;const h=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Gn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new kc(this,Gn.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,s=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(s),l}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new kc(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,s;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:h,join:f}=Gn;if(r&&[u,d,h,f].indexOf(l)>=0&&r!==this._joinRef())return;let p=this._onMessage(l,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var _,b,T;return((_=v.filter)===null||_===void 0?void 0:_.event)==="*"||((T=(b=v.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(v=>v.callback(p,r)):(s=this.bindings[l])===null||s===void 0||s.filter(v=>{var _,b,T,w,x,S;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in v){const A=v.id,N=(_=v.filter)===null||_===void 0?void 0:_.event;return A&&((b=n.ids)===null||b===void 0?void 0:b.includes(A))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const A=(x=(w=v==null?void 0:v.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return A==="*"||A===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===l}).map(v=>{if(typeof p=="object"&&"ids"in p){const _=p.data,{schema:b,table:T,commit_timestamp:w,type:x,errors:S}=_;p=Object.assign(Object.assign({},{schema:b,table:T,commit_timestamp:w,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(_))}v.callback(p,r)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),s={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(s):this.bindings[o]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var s;return!(((s=o.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&Qh.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Gn.close,{},e)}_onError(e){this._on(Gn.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=zm(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=zm(e.columns,e.old_record)),n}}const Pc=()=>{},rl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},WS=[1e3,2e3,5e3,1e4],HS=1e4,VS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ZS{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Md,this.transport=null,this.heartbeatIntervalMs=rl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Pc,this.ref=0,this.reconnectTimer=null,this.logger=Pc,this.conn=null,this.sendBuffer=[],this.serializer=new zS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...l)=>Zi(async()=>{const{default:u}=await Promise.resolve().then(()=>qi);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...l)=>s(...l)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${zd.websocket}`,this.httpEndpoint=Ey(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:IS}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zs.connecting:return Ti.Connecting;case zs.open:return Ti.Open;case zs.closing:return Ti.Closing;default:return Ti.Closed}}isConnected(){return this.connectionState()===Ti.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(s=>s.topic===r);if(o)return o;{const s=new Qh(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:o,ref:s}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${s})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(jS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},rl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:s,ref:l}=n,u=l?`(${l})`:"",d=s.status||"";this.log("receive",`${d} ${r} ${o} ${u}`.trim(),s),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,s,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Gn.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([VS],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:RS};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Gn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new xy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},rl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,s,l,u,d,h,f;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Md,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:rl.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:Pc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:m=>WS[m-1]||HS,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(m,p)=>p(JSON.stringify(m)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Yh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function st(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class qS extends Yh{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nd extends Yh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zi(async()=>{const{default:r}=await Promise.resolve().then(()=>qi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},KS=()=>fe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Zi(()=>Promise.resolve().then(()=>qi),void 0)).Response:Response}),Ud=t=>{if(Array.isArray(t))return t.map(n=>Ud(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[o]=Ud(r)}),e},GS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Tc=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},JS=(t,e,n)=>fe(void 0,void 0,void 0,function*(){const r=yield KS();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const s=t.status||500,l=(o==null?void 0:o.statusCode)||s+"";e(new qS(Tc(o),s,l))}).catch(o=>{e(new Nd(Tc(o),o))}):e(new Nd(Tc(t),t))}),QS=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(GS(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function ga(t,e,n,r,o,s){return fe(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,QS(e,r,o,s)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>JS(d,u,r))})})}function sa(t,e,n,r){return fe(this,void 0,void 0,function*(){return ga(t,"GET",e,n,r)})}function Zn(t,e,n,r,o){return fe(this,void 0,void 0,function*(){return ga(t,"POST",e,r,o,n)})}function Bd(t,e,n,r,o){return fe(this,void 0,void 0,function*(){return ga(t,"PUT",e,r,o,n)})}function YS(t,e,n,r){return fe(this,void 0,void 0,function*(){return ga(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ef(t,e,n,r,o){return fe(this,void 0,void 0,function*(){return ga(t,"DELETE",e,r,o,n)})}class XS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return fe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}var ky;class eE{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[ky]="BlobDownloadBuilder",this.promise=null}asStream(){return new XS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return fe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(st(e))return{data:null,error:e};throw e}})}}ky=Symbol.toStringTag;const tE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Um={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nE{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Xh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return fe(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},Um),o);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(u=Object.assign(Object.assign({},u),o.headers));const h=this._removeEmptyFolders(n),f=this._getFinalPath(h),m=yield(e=="PUT"?Bd:Zn)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(st(s))return{data:null,error:s};throw s}})}upload(e,n,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return fe(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),l=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",n);try{let d;const h=Object.assign({upsert:Um.upsert},o),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,f["cache-control"]=`max-age=${h.cacheControl}`,f["content-type"]=h.contentType);const m=yield Bd(this.fetch,u.toString(),d,{headers:f});return{data:{path:s,fullPath:m.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(st(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const s=yield Zn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(this.url+s.url),u=l.searchParams.get("token");if(!u)throw new Yh("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}update(e,n,r){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return fe(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}copy(e,n,r){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return fe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),s=yield Zn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return fe(this,void 0,void 0,function*(){try{const o=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"",u=this._getFinalPath(e),d=()=>sa(this.fetch,`${this.url}/${o}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new eE(d,this.shouldThrowOnError)}info(e){return fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield sa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ud(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}exists(e){return fe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield YS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r)&&r instanceof Nd){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&o.push(s);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${h}`)}}}remove(e){return fe(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}list(e,n,r){return fe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},tE),n),{prefix:e||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}listV2(e,n){return fe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Py="2.78.0",Ty={"X-Client-Info":`storage-js/${Py}`};class rE{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const s=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),n),this.fetch=Xh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return fe(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield sa(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield sa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}createBucket(e){return fe(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(st(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return fe(this,void 0,void 0,function*(){try{return{data:yield Bd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(st(r))return{data:null,error:r};throw r}})}emptyBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class iE{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ty),n),this.fetch=Xh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}listBuckets(e){return fe(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),o=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield sa(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield ef(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(st(n))return{data:null,error:n};throw n}})}}const tf={"X-Client-Info":`storage-js/${Py}`,"Content-Type":"application/json"};class Cy extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function gn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Cc extends Cy{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class oE extends Cy{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Bm;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Bm||(Bm={}));const nf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zi(async()=>{const{default:r}=await Promise.resolve().then(()=>qi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},sE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$m=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aE=(t,e,n)=>fe(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const o=t.status||500,s=t;if(typeof s.json=="function")s.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||o+"";e(new Cc($m(l),o,u))}).catch(()=>{const l=o+"",u=s.statusText||`HTTP ${o} error`;e(new Cc(u,o,l))});else{const l=o+"",u=s.statusText||`HTTP ${o} error`;e(new Cc(u,o,l))}}else e(new oE($m(t),t))}),lE=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(sE(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),n)):o};function uE(t,e,n,r,o,s){return fe(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(n,lE(e,r,o,s)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>aE(d,u,r))})})}function vn(t,e,n,r,o){return fe(this,void 0,void 0,function*(){return uE(t,"POST",e,r,o,n)})}class cE{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tf),n),this.fetch=nf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return fe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}listIndexes(e){return fe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return fe(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}}class dE{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tf),n),this.fetch=nf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield vn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}getVectors(e){return fe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}listVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield vn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}queryVectors(e){return fe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return fe(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield vn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}}class hE{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tf),n),this.fetch=nf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}getBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:yield vn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}listBuckets(){return fe(this,arguments,void 0,function*(e={}){try{return{data:yield vn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return fe(this,void 0,void 0,function*(){try{return{data:(yield vn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}}class fE extends hE{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new pE(this.url,this.headers,e,this.fetch)}}class pE extends cE{constructor(e,n,r,o){super(e,n,o),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return fe(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return fe(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return fe(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return fe(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new mE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class mE extends dE{constructor(e,n,r,o,s){super(e,n,s),this.vectorBucketName=r,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return fe(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return fe(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return fe(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return fe(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return fe(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class gE extends rE{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new nE(this.url,this.headers,e,this.fetch)}get vectors(){return new fE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new iE(this.url+"/iceberg",this.headers,this.fetch)}}const vE="2.78.0";let ks="";typeof Deno<"u"?ks="deno":typeof document<"u"?ks="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ks="react-native":ks="node";const _E={"X-Client-Info":`supabase-js-${ks}/${vE}`},yE={headers:_E},wE={schema:"public"},bE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xE={},SE=t=>{let e;return t?e=t:typeof fetch>"u"?e=ry:e=fetch,(...n)=>e(...n)},EE=()=>typeof Headers>"u"?iy:Headers,kE=(t,e,n)=>{const r=SE(n),o=EE();return async(s,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let h=new o(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),r(s,Object.assign(Object.assign({},l),{headers:h}))}};function PE(t){return t.endsWith("/")?t:t+"/"}function TE(t,e){var n,r;const{db:o,auth:s,realtime:l,global:u}=t,{db:d,auth:h,realtime:f,global:m}=e,p={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},f),l),storage:{},global:Object.assign(Object.assign(Object.assign({},m),u),{headers:Object.assign(Object.assign({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function CE(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PE(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Oy="2.78.0",uo=30*1e3,$d=3,Oc=$d*uo,OE="http://localhost:9999",LE="supabase.auth.token",AE={"X-Client-Info":`gotrue-js/${Oy}`},Fd="X-Supabase-Api-Version",Ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},RE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IE=10*60*1e3;class aa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jE extends aa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function ME(t){return ge(t)&&t.name==="AuthApiError"}class Ci extends aa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class ci extends aa{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class Fn extends ci{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function zE(t){return ge(t)&&t.name==="AuthSessionMissingError"}class io extends ci{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class il extends ci{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ol extends ci{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DE(t){return ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fm extends ci{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wd extends ci{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Lc(t){return ge(t)&&t.name==="AuthRetryableFetchError"}class Wm extends ci{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Hd extends ci{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hm=` 	
\r=`.split(""),NE=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hm.length;e+=1)t[Hm[e].charCodeAt(0)]=-2;for(let e=0;e<Gl.length;e+=1)t[Gl[e].charCodeAt(0)]=e;return t})();function Vm(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gl[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Gl[r]),e.queuedBits-=6}}function Ay(t,e,n){const r=NE[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Zm(t){const e=[],n=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},s=l=>{$E(l,r,n)};for(let l=0;l<t.length;l+=1)Ay(t.charCodeAt(l),o,s);return e.join("")}function UE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BE(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}UE(r,e)}}function $E(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ao(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Ay(t.charCodeAt(o),n,r);return new Uint8Array(e)}function FE(t){const e=[];return BE(t,n=>e.push(n)),new Uint8Array(e)}function Ii(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>Vm(o,n,r)),Vm(null,n,r),e.join("")}function WE(t){return Math.round(Date.now()/1e3)+t}function HE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Gt=()=>typeof window<"u"&&typeof document<"u",wi={tested:!1,writable:!1},Ry=()=>{if(!Gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(wi.tested)return wi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),wi.tested=!0,wi.writable=!0}catch{wi.tested=!0,wi.writable=!1}return wi.writable};function VE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,s)=>{e[s]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const Iy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Zi(async()=>{const{default:r}=await Promise.resolve().then(()=>qi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ZE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",co=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},bi=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ur=async(t,e)=>{await t.removeItem(e)};class xu{constructor(){this.promise=new xu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}xu.promiseConstructor=Promise;function Ac(t){const e=t.split(".");if(e.length!==3)throw new Hd("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!RE.test(e[r]))throw new Hd("JWT not in base64url format");return{header:JSON.parse(Zm(e[0])),payload:JSON.parse(Zm(e[1])),signature:Ao(e[2]),raw:{header:e[0],payload:e[1]}}}async function qE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function KE(t,e){return new Promise((r,o)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await t(s);if(!e(s,null,l)){r(l);return}}catch(l){if(!e(s,l)){o(l);return}}})()})}function GE(t){return("0"+t.toString(16)).substr(-2)}function JE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let s=0;s<56;s++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,GE).join("")}async function QE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(s=>String.fromCharCode(s)).join("")}async function YE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await QE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function oo(t,e,n=!1){const r=JE();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await co(t,`${e}-code-verifier`,o);const s=await YE(r);return[s,r===s?"plain":"s256"]}const XE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ek(t){const e=t.headers.get(Fd);if(!e||!e.match(XE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function nk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function so(t){if(!rk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rc(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ik(t,e){return new Proxy(t,{get:(n,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,o)}})}function qm(t){return JSON.parse(JSON.stringify(t))}const Ei=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ok=[502,503,504];async function Km(t){var e;if(!ZE(t))throw new Wd(Ei(t),0);if(ok.includes(t.status))throw new Wd(Ei(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ci(Ei(s),s)}let r;const o=ek(t);if(o&&o.getTime()>=Ly["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Wm(Ei(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new Wm(Ei(n),t.status,n.weak_password.reasons);throw new jE(Ei(n),t.status||500,r)}const sk=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function be(t,e,n,r){var o;const s=Object.assign({},r==null?void 0:r.headers);s[Fd]||(s[Fd]=Ly["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await ak(t,e,n+u,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function ak(t,e,n,r,o,s){const l=sk(e,r,o,s);let u;try{u=await t(n,Object.assign({},l))}catch(d){throw console.error(d),new Wd(Ei(d),0)}if(u.ok||await Km(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await Km(d)}}function Wn(t){var e;let n=null;ck(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=WE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Gm(t){const e=Wn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vr(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lk(t){return{data:t,error:null}}function uk(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s}=t,l=qo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:s},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Jm(t){return t}function ck(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ic=["global","local","others"];class dk{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Iy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Ic[0]){if(Ic.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ic.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Vr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=qo(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:uk,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vr})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,s,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},f=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:Jm});if(f.error)throw f.error;const m=await f.json(),p=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=f.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(_.split(";")[1].split("=")[1]);h[`${T}Page`]=b}),h.total=parseInt(p)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){so(e);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vr})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){so(e);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Vr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){so(e);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Vr})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){so(e.userId);try{const{data:n,error:r}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(e){so(e.userId),so(e.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,o,s,l,u,d;try{const h={nextPage:null,lastPage:0,total:0},f=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&s!==void 0?s:""},xform:Jm});if(f.error)throw f.error;const m=await f.json(),p=(l=f.headers.get("x-total-count"))!==null&&l!==void 0?l:0,v=(d=(u=f.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return v.length>0&&(v.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(_.split(";")[1].split("=")[1]);h[`${T}Page`]=b}),h.total=parseInt(p)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(ge(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function Qm(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const ao={debug:!!(globalThis&&Ry()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class hk extends jy{}async function fk(t,e,n){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new hk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ao.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function pk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function My(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function mk(t){return parseInt(t,16)}function gk(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function vk(t){var e;const{chainId:n,domain:r,expirationTime:o,issuedAt:s=new Date,nonce:l,notBefore:u,requestId:d,resources:h,scheme:f,uri:m,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=My(t.address),_=f?`${f}://${r}`:r,b=t.statement?`${t.statement}
`:"",T=`${_} wants you to sign in with your Ethereum account:
${v}

${b}`;let w=`URI: ${m}
Version: ${p}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(o&&(w+=`
Expiration Time: ${o.toISOString()}`),u&&(w+=`
Not Before: ${u.toISOString()}`),d&&(w+=`
Request ID: ${d}`),h){let x=`
Resources:`;for(const S of h){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);x+=`
- ${S}`}w+=x}return`${T}
${w}`}class bt extends Error{constructor({message:e,code:n,cause:r,name:o}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=o??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class Jl extends bt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function _k({error:t,options:e}){var n,r,o;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=s.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(zy(l)){if(s.rp.id!==l)return new bt({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function yk({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new bt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(zy(r)){if(n.rpId!==r)return new bt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class wk{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const bk=new wk;function xk(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,o=qo(t,["challenge","user","excludeCredentials"]),s=Ao(e).buffer,l=Object.assign(Object.assign({},n),{id:Ao(n.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:s,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Ao(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function Sk(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=qo(t,["challenge","allowCredentials"]),o=Ao(e).buffer,s=Object.assign(Object.assign({},r),{challenge:o});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];s.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ao(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Ek(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ii(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ii(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function kk(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ii(new Uint8Array(o.authenticatorData)),clientDataJSON:Ii(new Uint8Array(o.clientDataJSON)),signature:Ii(new Uint8Array(o.signature)),userHandle:o.userHandle?Ii(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function zy(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ym(){var t,e;return!!(Gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Pk(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",e)}:{data:null,error:new Jl("Empty credential response",e)}}catch(e){return{data:null,error:_k({error:e,options:t})}}}async function Tk(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Jl("Browser returned unexpected credential type",e)}:{data:null,error:new Jl("Empty credential response",e)}}catch(e){return{data:null,error:yk({error:e,options:t})}}}const Ck={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Ok={userVerification:"preferred",hints:["security-key"]};function Ql(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of t)if(o)for(const s in o){const l=o[s];if(l!==void 0)if(Array.isArray(l))r[s]=l;else if(n(l))r[s]=l;else if(e(l)){const u=r[s];e(u)?r[s]=Ql(u,l):r[s]=Ql(l)}else r[s]=l}return r}function Lk(t,e){return Ql(Ck,t,e||{})}function Ak(t,e){return Ql(Ok,t,e||{})}class Rk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:o},s){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!l)return{data:null,error:u};const d=o??bk.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${r}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=Lk(l.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:m}=await Pk({publicKey:h,signal:d});return f?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}case"request":{const h=Ak(l.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:m}=await Tk(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return f?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:m}}}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Ci("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},s){if(!n)return{data:null,error:new aa("rpId is required for WebAuthn authentication")};try{if(!Ym())return{data:null,error:new Ci("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:o},{request:s});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:n,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Ci("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},s){if(!n)return{data:null,error:new aa("rpId is required for WebAuthn registration")};try{if(!Ym())return{data:null,error:new Ci("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:u};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:o},{create:s});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:n,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return ge(l)?{data:null,error:l}:{data:null,error:new Ci("Unexpected error in register",l)}}}}pk();const Ik={url:OE,storageKey:LE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xm(t,e,n){return await n()}const lo={};class la{get jwks(){var e,n;return(n=(e=lo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=lo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{cachedAt:e})}constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=la.nextInstanceID,la.nextInstanceID+=1,this.instanceID>0&&Gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Ik),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new dk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Iy(o.fetch),this.lock=o.lock||Xm,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Gt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=fk:this.lock=Xm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Rk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Ry()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Qm(this.memoryStorage)),Gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Oy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=VE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Gt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),DE(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new Ci("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Wn}),{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,r,o;try{let s;if("email"in e){const{email:f,password:m,options:p}=e;let v=null,_=null;this.flowType==="pkce"&&([v,_]=await oo(this.storage,this.storageKey)),s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:_},xform:Wn})}else if("phone"in e){const{phone:f,password:m,options:p}=e;s=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(o=p==null?void 0:p.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Wn})}else throw new il("You must provide either an email or phone number and a password");const{data:l,error:u}=s;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(s){if(ge(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:l,options:u}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Gm})}else if("phone"in e){const{phone:s,password:l,options:u}=e;n=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Gm})}else throw new il("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new io}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,o,s,l,u,d,h,f,m,p;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:b,wallet:T,statement:w,options:x}=e;let S;if(Gt())if(typeof T=="object")S=T;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")S=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=T}const A=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href),N=await S.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=My(N[0]);let P=(r=x==null?void 0:x.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!P){const C=await S.request({method:"eth_chainId"});P=mk(C)}const k={domain:A.host,address:O,statement:w,uri:A.href,version:"1",chainId:P,nonce:(o=x==null?void 0:x.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=x==null?void 0:x.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(f=x==null?void 0:x.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=vk(k),_=await S.request({method:"personal_sign",params:[gk(v),O]})}try{const{data:b,error:T}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:_},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Wn});if(T)throw T;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new io}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:T})}catch(b){if(ge(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var n,r,o,s,l,u,d,h,f,m,p,v;let _,b;if("message"in e)_=e.message,b=e.signature;else{const{chain:T,wallet:w,statement:x,options:S}=e;let A;if(Gt())if(typeof w=="object")A=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))A=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const N=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in A&&A.signIn){const O=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),x?{statement:x}:null));let P;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")P=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)P=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)_=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),b=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${N.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(o=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((h=S==null?void 0:S.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(f=S==null?void 0:S.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const O=await A.signMessage(new TextEncoder().encode(_),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=O}}try{const{data:T,error:w}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:Ii(b)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Wn});if(w)throw w;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new io}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:w})}catch(T){if(ge(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await bi(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:s,error:l}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Wn});if(await Ur(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new io}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:o??null}),error:l})}catch(s){if(ge(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:s,nonce:l}=e,u=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Wn}),{data:d,error:h}=u;return h?{data:{user:null,session:null},error:h}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new io}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:h})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,s,l;try{if("email"in e){const{email:u,options:d}=e;let h=null,f=null;this.flowType==="pkce"&&([h,f]=await oo(this.storage,this.storageKey));const{error:m}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:u,options:d}=e,{data:h,error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:f}}throw new il("You must provide either an email or phone number.")}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var n,r;try{let o,s;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:o,xform:Wn});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:h,session:d},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await oo(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:lk})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Fn;const{error:o}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(ge(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:s}=e,{error:l}=await be(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:o,options:s}=e,{data:l,error:u}=await be(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new il("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await bi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Oc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await bi(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=Rc()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=ik(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vr}):await this._useSession(async n=>{var r,o,s;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fn}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&s!==void 0?s:void 0,xform:Vr})})}catch(n){if(ge(n))return zE(n)&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:s}=r;if(s)throw s;if(!o.session)throw new Fn;const l=o.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await oo(this.storage,this.storageKey));const{data:h,error:f}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Vr});if(f)throw f;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Fn;const n=Date.now()/1e3;let r=n,o=!0,s=null;const{payload:l}=Ac(e.access_token);if(l.exp&&(r=l.exp,o=r<=n),o){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:l,error:u}=n;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Fn;const{data:o,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Gt())throw new ol("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ol(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Fm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ol("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fm("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:s,refresh_token:l,expires_in:u,expires_at:d,token_type:h}=e;if(!s||!u||!l||!h)throw new ol("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(u);let p=f+m;d&&(p=parseInt(d));const v=p-f;v*1e3<=uo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const _=p-m;f-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,p,f):f-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,p,f);const{data:b,error:T}=await this._getUser(s);if(T)throw T;const w={provider_token:r,provider_refresh_token:o,access_token:s,expires_in:m,expires_at:p,refresh_token:l,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(r){if(ge(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await bi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:s}=n;if(s)return{error:s};const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(ME(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=HE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await oo(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(ge(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:o}=await this._useSession(async s=>{var l,u,d,h,f;const{data:m,error:p}=s;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&f!==void 0?f:void 0})});if(o)throw o;return Gt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ge(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:o,data:{session:s}}=n;if(o)throw o;const{options:l,provider:u,token:d,access_token:h,nonce:f}=e,m=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:h,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wn}),{data:p,error:v}=m;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new io}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),{data:p,error:v})}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:s,error:l}=n;if(l)throw l;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await KE(async o=>(o>0&&await qE(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Wn})),(o,s)=>{const l=200*Math.pow(2,o);return s&&Lc(s)&&Date.now()+l-r<uo})}catch(r){if(this._debug(n,"error",r),ge(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Gt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await bi(this.storage,this.storageKey);if(o&&this.userStorage){let l=await bi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await co(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:Rc()}else if(o&&!o.user&&!o.user){const l=await bi(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await Ur(this.storage,this.storageKey+"-user"),await co(this.storage,this.storageKey,o)):o.user=Rc()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const s=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Oc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Oc}s`),s){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),Lc(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new xu;const{data:s,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!s.session)throw new Fn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(o,"error",s),ge(s)){const l={data:null,error:s};return Lc(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,n)}catch(d){s.push(d)}});if(await Promise.all(l),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await co(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const s=qm(o);await co(this.storage,this.storageKey,s)}else{const o=qm(n);await co(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Ur(this.storage,this.storageKey),await Ur(this.storage,this.storageKey+"-code-verifier"),await Ur(this.storage,this.storageKey+"-user"),this.userStorage&&await Ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),uo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/uo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${uo}ms, refresh threshold is ${$d} ticks`),o<=$d&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await oo(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);o.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:s}=n;return s?{data:null,error:s}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:s,error:l}=n;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:h}=await be(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&d.type==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:s}=n;if(s)return{data:null,error:s};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ek(e.webauthn.credential_response):kk(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:s}=n;if(s)return{data:null,error:s};const l=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:xk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Sk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])o.all.push(s),s.status==="verified"&&o[s.factor_type].push(s);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ac(r.access_token);let l=null;s.aal&&(l=s.aal);let u=l;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const h=s.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:o}=n;return o?{data:null,error:o}:r?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):{data:null,error:new Fn}})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:s}=r;if(s)return{data:null,error:s};if(!o)return{data:null,error:new Fn};const l=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:o},error:s}=r;if(s)return{data:null,error:s};if(!o)return{data:null,error:new Fn};const l=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&Gt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(u=>u.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+IE>o)return r;const{data:s,error:l}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=o,r=s.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:_}=await this.getSession();if(_||!v.session)return{data:null,error:_};r=v.session.access_token}const{header:o,payload:s,signature:l,raw:{header:u,payload:d}}=Ac(r);n!=null&&n.allowExpired||tk(s.exp);const h=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:s,header:o,signature:l},error:null}}const f=nk(o.alg),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,l,FE(`${u}.${d}`)))throw new Hd("Invalid JWT signature");return{data:{claims:s,header:o,signature:l},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}}la.nextInstanceID=0;const jk=la;class Mk extends jk{constructor(e){super(e)}}class zk{constructor(e,n,r){var o,s,l;this.supabaseUrl=e,this.supabaseKey=n;const u=CE(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:wE,realtime:xE,auth:Object.assign(Object.assign({},bE),{storageKey:d}),global:yE},f=TE(r??{},h);this.storageKey=(o=f.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=f.auth)!==null&&l!==void 0?l:{},this.headers,f.global.fetch),this.fetch=kE(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new OS(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new gE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new bS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:s,storageKey:l,flowType:u,lock:d,debug:h},f,m){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mk({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),f),storageKey:l,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:s,flowType:u,lock:d,debug:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ZS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dk=(t,e,n)=>new zk(t,e,n);function Nk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Nk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ve=Dk("https://qrouuoycvxxxutkxkxpp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyb3V1b3ljdnh4eHV0a3hreHBwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxODMyNDgsImV4cCI6MjA3Nzc1OTI0OH0.LXKVdTXNgHgoILlHJcSaGnzyWlaT0-oBxbEgl5ipA48");function Uk(){console.log("GITHUB PAGES BASENAME ACTIVE");const t=Zo(),[e,n]=J.useState(null);J.useEffect(()=>{(async()=>{console.log("App: Checking authentication...");const{data:{user:o}}=await Ve.auth.getUser();if(console.log("App: User from auth:",o),!o)return console.log("App: No user found, redirecting to login"),t("/login");console.log("App: Fetching profile for user_id:",o.id);const{data:s,error:l}=await Ve.from("profiles").select("user_id, role").eq("user_id",o.id).single();if(console.log("App: Profile data:",s,"Error:",l),!s)return console.log("App: No profile found, redirecting to login"),t("/login");console.log("App: Profile loaded successfully:",s),n(s)})()},[]);const r=async()=>{await Ve.auth.signOut(),t("/login")};return e?M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:32},children:M.jsxs("div",{style:{maxWidth:800,margin:"0 auto"},children:[M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:32,background:"#2d3748",border:"1px solid #4a5568",padding:20,borderRadius:12,boxShadow:"0 4px 6px rgba(0,0,0,0.5)"},children:[M.jsxs("h2",{style:{margin:0,color:"#e2e8f0"},children:["Welcome, ",e.role==="admin"?"Admin":"Appraiser"]}),M.jsx("button",{onClick:r,style:{padding:"10px 20px",background:"#ef4444",color:"white",border:"none",borderRadius:6,fontWeight:"bold",cursor:"pointer"},onMouseOver:o=>o.currentTarget.style.background="#dc2626",onMouseOut:o=>o.currentTarget.style.background="#ef4444",children:"Logout"})]}),e.role==="admin"?M.jsxs("div",{style:{display:"grid",gap:16},children:[M.jsxs(yn,{to:"/admin/claims",style:{background:"#2d3748",border:"1px solid #4a5568",padding:24,borderRadius:12,textDecoration:"none",color:"#e2e8f0",boxShadow:"0 4px 6px rgba(0,0,0,0.5)",transition:"transform 0.2s"},onMouseOver:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseOut:o=>o.currentTarget.style.transform="translateY(0)",children:[M.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),M.jsx("h3",{style:{margin:0,marginBottom:8,color:"#e2e8f0"},children:"View All Claims"}),M.jsx("p",{style:{margin:0,color:"#a0aec0"},children:"View and manage all active claims in the system"})]}),M.jsxs(yn,{to:"/admin/claims/new",style:{background:"#2d3748",border:"1px solid #4a5568",padding:24,borderRadius:12,textDecoration:"none",color:"#e2e8f0",boxShadow:"0 4px 6px rgba(0,0,0,0.5)",transition:"transform 0.2s"},onMouseOver:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseOut:o=>o.currentTarget.style.transform="translateY(0)",children:[M.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),M.jsx("h3",{style:{margin:0,marginBottom:8,color:"#e2e8f0"},children:"Create New Claim"}),M.jsx("p",{style:{margin:0,color:"#a0aec0"},children:"Start a new insurance claim with customer and vehicle details"})]}),M.jsxs(yn,{to:"/admin/claims?archived=true",style:{background:"#2d3748",border:"1px solid #4a5568",padding:24,borderRadius:12,textDecoration:"none",color:"#e2e8f0",boxShadow:"0 4px 6px rgba(0,0,0,0.5)",transition:"transform 0.2s"},onMouseOver:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseOut:o=>o.currentTarget.style.transform="translateY(0)",children:[M.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),M.jsx("h3",{style:{margin:0,marginBottom:8,color:"#e2e8f0"},children:"Archived Claims"}),M.jsx("p",{style:{margin:0,color:"#a0aec0"},children:"View completed and archived claims for record keeping"})]})]}):M.jsx("div",{style:{display:"grid",gap:16},children:M.jsxs(yn,{to:"/my-claims",style:{background:"#2d3748",border:"1px solid #4a5568",padding:24,borderRadius:12,textDecoration:"none",color:"#e2e8f0",boxShadow:"0 4px 6px rgba(0,0,0,0.5)",transition:"transform 0.2s"},onMouseOver:o=>o.currentTarget.style.transform="translateY(-2px)",onMouseOut:o=>o.currentTarget.style.transform="translateY(0)",children:[M.jsx("div",{style:{fontSize:48,marginBottom:12},children:""}),M.jsx("h3",{style:{margin:0,marginBottom:8,color:"#e2e8f0"},children:"My Claims"}),M.jsx("p",{style:{margin:0,color:"#a0aec0"},children:"View claims assigned to you and manage appraisals"})]})})]})}):null}function Bk(){const[t,e]=J.useState(""),[n,r]=J.useState(""),o=Zo(),s=async()=>{console.log("Attempting login with:",t);const{data:l,error:u}=await Ve.auth.signInWithPassword({email:t,password:n});if(u)return console.error("Login error:",u),alert(u.message);console.log("Login successful:",l),o("/")};return M.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)"},children:M.jsxs("div",{style:{background:"rgba(45, 55, 72, 0.85)",backdropFilter:"blur(10px)",padding:40,borderRadius:16,boxShadow:"0 15px 35px rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",width:"100%",maxWidth:400},children:[M.jsx("h2",{style:{marginTop:0,marginBottom:32,textAlign:"center",color:"#e2e8f0"},children:"Auto Appraisal Login"}),M.jsxs("div",{style:{display:"grid",gap:16},children:[M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:"bold",color:"#e2e8f0"},children:"Email"}),M.jsx("input",{placeholder:"Enter your email",value:t,onChange:l=>e(l.target.value),style:{width:"100%",padding:12,fontSize:16,border:"1px solid #4a5568",borderRadius:6,boxSizing:"border-box",background:"#2d3748",color:"#e2e8f0"}})]}),M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",marginBottom:8,fontWeight:"bold",color:"#e2e8f0"},children:"Password"}),M.jsx("input",{placeholder:"Enter your password",type:"password",value:n,onChange:l=>r(l.target.value),style:{width:"100%",padding:12,fontSize:16,border:"1px solid #4a5568",borderRadius:6,boxSizing:"border-box",background:"#2d3748",color:"#e2e8f0"}})]}),M.jsx("button",{onClick:s,style:{width:"100%",padding:14,fontSize:16,fontWeight:"bold",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:6,cursor:"pointer",marginTop:8},onMouseOver:l=>l.currentTarget.style.background="linear-gradient(135deg, #764ba2 0%, #667eea 100%)",onMouseOut:l=>l.currentTarget.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",children:"Sign In"})]})]})})}function Dy(t,e){const n=J.useRef(e);J.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const $k=1;function Fk(t){return Object.freeze({__version:$k,map:t})}function Wk(t,e){return Object.freeze({...t,...e})}const Ny=J.createContext(null),Uy=Ny.Provider;function By(){const t=J.useContext(Ny);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Hk(t){function e(n,r){const{instance:o,context:s}=t(n).current;return J.useImperativeHandle(r,()=>o),n.children==null?null:Us.createElement(Uy,{value:s},n.children)}return J.forwardRef(e)}function Vk(t){function e(n,r){const[o,s]=J.useState(!1),{instance:l}=t(n,s).current;J.useImperativeHandle(r,()=>l),J.useEffect(function(){o&&l.update()},[l,o,n.children]);const u=l._contentNode;return u?yu.createPortal(n.children,u):null}return J.forwardRef(e)}function Zk(t){function e(n,r){const{instance:o}=t(n).current;return J.useImperativeHandle(r,()=>o),null}return J.forwardRef(e)}function $y(t,e){const n=J.useRef();J.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function rf(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function qk(t,e){return function(r,o){const s=By(),l=t(rf(r,s),s);return Dy(s.map,r.attribution),$y(l.current,r.eventHandlers),e(l.current,s,r,o),l}}var Vd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(nw,function(n){var r="1.9.4";function o(i){var a,c,g,y;for(c=1,g=arguments.length;c<g;c++){y=arguments[c];for(a in y)i[a]=y[a]}return i}var s=Object.create||function(){function i(){}return function(a){return i.prototype=a,new i}}();function l(i,a){var c=Array.prototype.slice;if(i.bind)return i.bind.apply(i,c.call(arguments,1));var g=c.call(arguments,2);return function(){return i.apply(a,g.length?g.concat(c.call(arguments)):arguments)}}var u=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function h(i,a,c){var g,y,E,D;return D=function(){g=!1,y&&(E.apply(c,y),y=!1)},E=function(){g?y=arguments:(i.apply(c,arguments),setTimeout(D,a),g=!0)},E}function f(i,a,c){var g=a[1],y=a[0],E=g-y;return i===g&&c?i:((i-y)%E+E)%E+y}function m(){return!1}function p(i,a){if(a===!1)return i;var c=Math.pow(10,a===void 0?6:a);return Math.round(i*c)/c}function v(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function _(i){return v(i).split(/\s+/)}function b(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{});for(var c in a)i.options[c]=a[c];return i.options}function T(i,a,c){var g=[];for(var y in i)g.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(i[y]));return(!a||a.indexOf("?")===-1?"?":"&")+g.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function x(i,a){return i.replace(w,function(c,g){var y=a[g];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(a)),y})}var S=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function A(i,a){for(var c=0;c<i.length;c++)if(i[c]===a)return c;return-1}var N="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function O(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var P=0;function k(i){var a=+new Date,c=Math.max(0,16-(a-P));return P=a+c,window.setTimeout(i,c)}var C=window.requestAnimationFrame||O("RequestAnimationFrame")||k,j=window.cancelAnimationFrame||O("CancelAnimationFrame")||O("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function U(i,a,c){if(c&&C===k)i.call(a);else return C.call(window,l(i,a))}function B(i){i&&j.call(window,i)}var V={__proto__:null,extend:o,create:s,bind:l,get lastId(){return u},stamp:d,throttle:h,wrapNum:f,falseFn:m,formatNum:p,trim:v,splitWords:_,setOptions:b,getParamString:T,template:x,isArray:S,indexOf:A,emptyImageUrl:N,requestFn:C,cancelFn:j,requestAnimFrame:U,cancelAnimFrame:B};function F(){}F.extend=function(i){var a=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,g=s(c);g.constructor=a,a.prototype=g;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(a[y]=this[y]);return i.statics&&o(a,i.statics),i.includes&&(G(i.includes),o.apply(null,[g].concat(i.includes))),o(g,i),delete g.statics,delete g.includes,g.options&&(g.options=c.options?s(c.options):{},o(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var E=0,D=g._initHooks.length;E<D;E++)g._initHooks[E].call(this)}},a},F.include=function(i){var a=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},F.mergeOptions=function(i){return o(this.prototype.options,i),this},F.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),c=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function G(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=S(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(i,a,c){if(typeof i=="object")for(var g in i)this._on(g,i[g],a);else{i=_(i);for(var y=0,E=i.length;y<E;y++)this._on(i[y],a,c)}return this},off:function(i,a,c){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],a);else{i=_(i);for(var y=arguments.length===1,E=0,D=i.length;E<D;E++)y?this._off(i[E]):this._off(i[E],a,c)}return this},_on:function(i,a,c,g){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,c)===!1){c===this&&(c=void 0);var y={fn:a,ctx:c};g&&(y.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(y)}},_off:function(i,a,c){var g,y,E;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(y=0,E=g.length;y<E;y++)g[y].fn=m;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var D=this._listens(i,a,c);if(D!==!1){var q=g[D];this._firingCount&&(q.fn=m,this._events[i]=g=g.slice()),g.splice(D,1)}}},fire:function(i,a,c){if(!this.listens(i,c))return this;var g=o({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var y=this._events[i];if(y){this._firingCount=this._firingCount+1||1;for(var E=0,D=y.length;E<D;E++){var q=y[E],Q=q.fn;q.once&&this.off(i,Q,q.ctx),Q.call(q.ctx||this,g)}this._firingCount--}}return c&&this._propagateEvent(g),this},listens:function(i,a,c,g){typeof i!="string"&&console.warn('"string" type argument expected');var y=a;typeof a!="function"&&(g=!!a,y=void 0,c=void 0);var E=this._events&&this._events[i];if(E&&E.length&&this._listens(i,y,c)!==!1)return!0;if(g){for(var D in this._eventParents)if(this._eventParents[D].listens(i,a,c,g))return!0}return!1},_listens:function(i,a,c){if(!this._events)return!1;var g=this._events[i]||[];if(!a)return!!g.length;c===this&&(c=void 0);for(var y=0,E=g.length;y<E;y++)if(g[y].fn===a&&g[y].ctx===c)return y;return!1},once:function(i,a,c){if(typeof i=="object")for(var g in i)this._on(g,i[g],a,!0);else{i=_(i);for(var y=0,E=i.length;y<E;y++)this._on(i[y],a,c,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var R=F.extend(I);function z(i,a,c){this.x=c?Math.round(i):i,this.y=c?Math.round(a):a}var H=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(i){return this.clone()._add(W(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(W(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new z(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new z(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(i){i=W(i);var a=i.x-this.x,c=i.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(i){return i=W(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=W(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function W(i,a,c){return i instanceof z?i:S(i)?new z(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new z(i.x,i.y):new z(i,a,c)}function ne(i,a){if(i)for(var c=a?[i,a]:i,g=0,y=c.length;g<y;g++)this.extend(c[g])}ne.prototype={extend:function(i){var a,c;if(!i)return this;if(i instanceof z||typeof i[0]=="number"||"x"in i)a=c=W(i);else if(i=ee(i),a=i.min,c=i.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(i){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,c;return typeof i[0]=="number"||i instanceof z?i=W(i):i=ee(i),i instanceof ne?(a=i.min,c=i.max):a=c=i,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(i){i=ee(i);var a=this.min,c=this.max,g=i.min,y=i.max,E=y.x>=a.x&&g.x<=c.x,D=y.y>=a.y&&g.y<=c.y;return E&&D},overlaps:function(i){i=ee(i);var a=this.min,c=this.max,g=i.min,y=i.max,E=y.x>a.x&&g.x<c.x,D=y.y>a.y&&g.y<c.y;return E&&D},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,c=this.max,g=Math.abs(a.x-c.x)*i,y=Math.abs(a.y-c.y)*i;return ee(W(a.x-g,a.y-y),W(c.x+g,c.y+y))},equals:function(i){return i?(i=ee(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ee(i,a){return!i||i instanceof ne?i:new ne(i,a)}function ae(i,a){if(i)for(var c=a?[i,a]:i,g=0,y=c.length;g<y;g++)this.extend(c[g])}ae.prototype={extend:function(i){var a=this._southWest,c=this._northEast,g,y;if(i instanceof K)g=i,y=i;else if(i instanceof ae){if(g=i._southWest,y=i._northEast,!g||!y)return this}else return i?this.extend(oe(i)||te(i)):this;return!a&&!c?(this._southWest=new K(g.lat,g.lng),this._northEast=new K(y.lat,y.lng)):(a.lat=Math.min(g.lat,a.lat),a.lng=Math.min(g.lng,a.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(i){var a=this._southWest,c=this._northEast,g=Math.abs(a.lat-c.lat)*i,y=Math.abs(a.lng-c.lng)*i;return new ae(new K(a.lat-g,a.lng-y),new K(c.lat+g,c.lng+y))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof K||"lat"in i?i=oe(i):i=te(i);var a=this._southWest,c=this._northEast,g,y;return i instanceof ae?(g=i.getSouthWest(),y=i.getNorthEast()):g=y=i,g.lat>=a.lat&&y.lat<=c.lat&&g.lng>=a.lng&&y.lng<=c.lng},intersects:function(i){i=te(i);var a=this._southWest,c=this._northEast,g=i.getSouthWest(),y=i.getNorthEast(),E=y.lat>=a.lat&&g.lat<=c.lat,D=y.lng>=a.lng&&g.lng<=c.lng;return E&&D},overlaps:function(i){i=te(i);var a=this._southWest,c=this._northEast,g=i.getSouthWest(),y=i.getNorthEast(),E=y.lat>a.lat&&g.lat<c.lat,D=y.lng>a.lng&&g.lng<c.lng;return E&&D},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=te(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(i,a){return i instanceof ae?i:new ae(i,a)}function K(i,a,c){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,c!==void 0&&(this.alt=+c)}K.prototype={equals:function(i,a){if(!i)return!1;i=oe(i);var c=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return c<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+p(this.lat,i)+", "+p(this.lng,i)+")"},distanceTo:function(i){return Ee.distance(this,oe(i))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,c=a/Math.cos(Math.PI/180*this.lat);return te([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function oe(i,a,c){return i instanceof K?i:S(i)&&typeof i[0]!="object"?i.length===3?new K(i[0],i[1],i[2]):i.length===2?new K(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new K(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new K(i,a,c)}var xe={latLngToPoint:function(i,a){var c=this.projection.project(i),g=this.scale(a);return this.transformation._transform(c,g)},pointToLatLng:function(i,a){var c=this.scale(a),g=this.transformation.untransform(i,c);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(i),g=this.transformation.transform(a.min,c),y=this.transformation.transform(a.max,c);return new ne(g,y)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?f(i.lng,this.wrapLng,!0):i.lng,c=this.wrapLat?f(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new K(c,a,g)},wrapLatLngBounds:function(i){var a=i.getCenter(),c=this.wrapLatLng(a),g=a.lat-c.lat,y=a.lng-c.lng;if(g===0&&y===0)return i;var E=i.getSouthWest(),D=i.getNorthEast(),q=new K(E.lat-g,E.lng-y),Q=new K(D.lat-g,D.lng-y);return new ae(q,Q)}},Ee=o({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var c=Math.PI/180,g=i.lat*c,y=a.lat*c,E=Math.sin((a.lat-i.lat)*c/2),D=Math.sin((a.lng-i.lng)*c/2),q=E*E+Math.cos(g)*Math.cos(y)*D*D,Q=2*Math.atan2(Math.sqrt(q),Math.sqrt(1-q));return this.R*Q}}),Re=6378137,Ne={R:Re,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,c=this.MAX_LATITUDE,g=Math.max(Math.min(c,i.lat),-c),y=Math.sin(g*a);return new z(this.R*i.lng*a,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(i){var a=180/Math.PI;return new K((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:function(){var i=Re*Math.PI;return new ne([-i,-i],[i,i])}()};function Ze(i,a,c,g){if(S(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=c,this._d=g}Ze.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new z((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function ke(i,a,c,g){return new Ze(i,a,c,g)}var Ot=o({},Ee,{code:"EPSG:3857",projection:Ne,transformation:function(){var i=.5/(Math.PI*Ne.R);return ke(i,.5,-i,.5)}()}),Vt=o({},Ot,{code:"EPSG:900913"});function qe(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Ke(i,a){var c="",g,y,E,D,q,Q;for(g=0,E=i.length;g<E;g++){for(q=i[g],y=0,D=q.length;y<D;y++)Q=q[y],c+=(y?"L":"M")+Q.x+" "+Q.y;c+=a?X.svg?"z":"x":""}return c||"M0 0"}var Ue=document.documentElement.style,De="ActiveXObject"in window,ct=De&&!document.addEventListener,vt="msLaunchUri"in navigator&&!("documentMode"in document),Ge=re("webkit"),Lt=re("android"),Xe=re("android 2")||re("android 3"),Ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ht=Lt&&re("Google")&&Ie<537&&!("AudioNode"in window),Zt=!!window.opera,Mn=!vt&&re("chrome"),We=re("gecko")&&!Ge&&!Zt&&!De,St=!Mn&&re("safari"),ft=re("phantom"),Et="OTransition"in Ue,Ut=navigator.platform.indexOf("Win")===0,pt=De&&"transition"in Ue,jt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xe,fn="MozPerspective"in Ue,Ar=!window.L_DISABLE_3D&&(pt||jt||fn)&&!Et&&!ft,ur=typeof orientation<"u"||re("mobile"),Rr=ur&&Ge,cr=ur&&jt,zn=!window.PointerEvent&&window.MSPointerEvent,Ir=!!(window.PointerEvent||zn),qt="ontouchstart"in window||!!window.TouchEvent,En=!window.L_NO_TOUCH&&(qt||Ir),Dn=ur&&Zt,dr=ur&&We,di=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tn=function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,a),window.removeEventListener("testPassiveEventSupport",m,a)}catch{}return i}(),nn=function(){return!!document.createElement("canvas").getContext}(),Jo=!!(document.createElementNS&&qe("svg").createSVGRect),ku=!!Jo&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$=!Jo&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Z=navigator.platform.indexOf("Mac")===0,Y=navigator.platform.indexOf("Linux")===0;function re(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var X={ie:De,ielt9:ct,edge:vt,webkit:Ge,android:Lt,android23:Xe,androidStock:ht,opera:Zt,chrome:Mn,gecko:We,safari:St,phantom:ft,opera12:Et,win:Ut,ie3d:pt,webkit3d:jt,gecko3d:fn,any3d:Ar,mobile:ur,mobileWebkit:Rr,mobileWebkit3d:cr,msPointer:zn,pointer:Ir,touch:En,touchNative:qt,mobileOpera:Dn,mobileGecko:dr,retina:di,passiveEvents:tn,canvas:nn,svg:Jo,vml:$,inlineSvg:ku,mac:Z,linux:Y},me=X.msPointer?"MSPointerDown":"pointerdown",_e=X.msPointer?"MSPointerMove":"pointermove",de=X.msPointer?"MSPointerUp":"pointerup",he=X.msPointer?"MSPointerCancel":"pointercancel",ue={touchstart:me,touchmove:_e,touchend:de,touchcancel:he},pe={touchstart:kn,touchmove:rn,touchend:rn,touchcancel:rn},we={},Oe=!1;function kt(i,a,c){return a==="touchstart"&&hi(),pe[a]?(c=pe[a].bind(this,c),i.addEventListener(ue[a],c,!1),c):(console.warn("wrong event specified:",a),m)}function He(i,a,c){if(!ue[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(ue[a],c,!1)}function Me(i){we[i.pointerId]=i}function rt(i){we[i.pointerId]&&(we[i.pointerId]=i)}function hr(i){delete we[i.pointerId]}function hi(){Oe||(document.addEventListener(me,Me,!0),document.addEventListener(_e,rt,!0),document.addEventListener(de,hr,!0),document.addEventListener(he,hr,!0),Oe=!0)}function rn(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in we)a.touches.push(we[c]);a.changedTouches=[a],i(a)}}function kn(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Mt(a),rn(i,a)}function Qo(i){var a={},c,g;for(g in i)c=i[g],a[g]=c&&c.bind?c.bind(i):c;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var fi=200;function fr(i,a){i.addEventListener("dblclick",a);var c=0,g;function y(E){if(E.detail!==1){g=E.detail;return}if(!(E.pointerType==="mouse"||E.sourceCapabilities&&!E.sourceCapabilities.firesTouchEvents)){var D=df(E);if(!(D.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!D.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var q=Date.now();q-c<=fi?(g++,g===2&&a(Qo(E))):g=1,c=q}}}return i.addEventListener("click",y),{dblclick:a,simDblclick:y}}function Ki(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var jr=_a(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Te=_a(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),et=Te==="webkitTransition"||Te==="OTransition"?Te+"End":"transitionend";function pr(i){return typeof i=="string"?document.getElementById(i):i}function Nn(i,a){var c=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);c=g?g[a]:null}return c==="auto"?null:c}function ve(i,a,c){var g=document.createElement(i);return g.className=a||"",c&&c.appendChild(g),g}function Be(i){var a=i.parentNode;a&&a.removeChild(i)}function pi(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Mr(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function Gi(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Pu(i,a){if(i.classList!==void 0)return i.classList.contains(a);var c=va(i);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function Pe(i,a){if(i.classList!==void 0)for(var c=_(a),g=0,y=c.length;g<y;g++)i.classList.add(c[g]);else if(!Pu(i,a)){var E=va(i);Tu(i,(E?E+" ":"")+a)}}function mt(i,a){i.classList!==void 0?i.classList.remove(a):Tu(i,v((" "+va(i)+" ").replace(" "+a+" "," ")))}function Tu(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function va(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Pn(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&o0(i,a)}function o0(i,a){var c=!1,g="DXImageTransform.Microsoft.Alpha";try{c=i.filters.item(g)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):i.style.filter+=" progid:"+g+"(opacity="+a+")"}function _a(i){for(var a=document.documentElement.style,c=0;c<i.length;c++)if(i[c]in a)return i[c];return!1}function mi(i,a,c){var g=a||new z(0,0);i.style[jr]=(X.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(c?" scale("+c+")":"")}function _t(i,a){i._leaflet_pos=a,X.any3d?mi(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function gi(i){return i._leaflet_pos||new z(0,0)}var Yo,Xo,Cu;if("onselectstart"in document)Yo=function(){Se(window,"selectstart",Mt)},Xo=function(){Je(window,"selectstart",Mt)};else{var es=_a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Yo=function(){if(es){var i=document.documentElement.style;Cu=i[es],i[es]="none"}},Xo=function(){es&&(document.documentElement.style[es]=Cu,Cu=void 0)}}function Ou(){Se(window,"dragstart",Mt)}function Lu(){Je(window,"dragstart",Mt)}var ya,Au;function Ru(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(wa(),ya=i,Au=i.style.outlineStyle,i.style.outlineStyle="none",Se(window,"keydown",wa))}function wa(){ya&&(ya.style.outlineStyle=Au,ya=void 0,Au=void 0,Je(window,"keydown",wa))}function uf(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Iu(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var s0={__proto__:null,TRANSFORM:jr,TRANSITION:Te,TRANSITION_END:et,get:pr,getStyle:Nn,create:ve,remove:Be,empty:pi,toFront:Mr,toBack:Gi,hasClass:Pu,addClass:Pe,removeClass:mt,setClass:Tu,getClass:va,setOpacity:Pn,testProp:_a,setTransform:mi,setPosition:_t,getPosition:gi,get disableTextSelection(){return Yo},get enableTextSelection(){return Xo},disableImageDrag:Ou,enableImageDrag:Lu,preventOutline:Ru,restoreOutline:wa,getSizedParentNode:uf,getScale:Iu};function Se(i,a,c,g){if(a&&typeof a=="object")for(var y in a)Mu(i,y,a[y],c);else{a=_(a);for(var E=0,D=a.length;E<D;E++)Mu(i,a[E],c,g)}return this}var er="_leaflet_events";function Je(i,a,c,g){if(arguments.length===1)cf(i),delete i[er];else if(a&&typeof a=="object")for(var y in a)zu(i,y,a[y],c);else if(a=_(a),arguments.length===2)cf(i,function(q){return A(a,q)!==-1});else for(var E=0,D=a.length;E<D;E++)zu(i,a[E],c,g);return this}function cf(i,a){for(var c in i[er]){var g=c.split(/\d/)[0];(!a||a(g))&&zu(i,g,null,null,c)}}var ju={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mu(i,a,c,g){var y=a+d(c)+(g?"_"+d(g):"");if(i[er]&&i[er][y])return this;var E=function(q){return c.call(g||i,q||window.event)},D=E;!X.touchNative&&X.pointer&&a.indexOf("touch")===0?E=kt(i,a,E):X.touch&&a==="dblclick"?E=fr(i,E):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(ju[a]||a,E,X.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(E=function(q){q=q||window.event,Nu(i,q)&&D(q)},i.addEventListener(ju[a],E,!1)):i.addEventListener(a,D,!1):i.attachEvent("on"+a,E),i[er]=i[er]||{},i[er][y]=E}function zu(i,a,c,g,y){y=y||a+d(c)+(g?"_"+d(g):"");var E=i[er]&&i[er][y];if(!E)return this;!X.touchNative&&X.pointer&&a.indexOf("touch")===0?He(i,a,E):X.touch&&a==="dblclick"?Ki(i,E):"removeEventListener"in i?i.removeEventListener(ju[a]||a,E,!1):i.detachEvent("on"+a,E),i[er][y]=null}function vi(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Du(i){return Mu(i,"wheel",vi),this}function ts(i){return Se(i,"mousedown touchstart dblclick contextmenu",vi),i._leaflet_disable_click=!0,this}function Mt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function _i(i){return Mt(i),vi(i),this}function df(i){if(i.composedPath)return i.composedPath();for(var a=[],c=i.target;c;)a.push(c),c=c.parentNode;return a}function hf(i,a){if(!a)return new z(i.clientX,i.clientY);var c=Iu(a),g=c.boundingClientRect;return new z((i.clientX-g.left)/c.x-a.clientLeft,(i.clientY-g.top)/c.y-a.clientTop)}var a0=X.linux&&X.chrome?window.devicePixelRatio:X.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ff(i){return X.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/a0:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Nu(i,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==i;)c=c.parentNode}catch{return!1}return c!==i}var l0={__proto__:null,on:Se,off:Je,stopPropagation:vi,disableScrollPropagation:Du,disableClickPropagation:ts,preventDefault:Mt,stop:_i,getPropagationPath:df,getMousePosition:hf,getWheelDelta:ff,isExternalTarget:Nu,addListener:Se,removeListener:Je},pf=R.extend({run:function(i,a,c,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=gi(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var c=this._startPos.add(this._offset.multiplyBy(i));a&&c._round(),_t(this._el,c),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),je=R.extend({options:{crs:Ot,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=b(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(oe(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Te&&X.any3d&&!X.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Se(this._proxy,et,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(oe(i),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=o({animate:c.animate},c.zoom),c.pan=o({animate:c.animate,duration:c.duration},c.pan));var g=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,c.zoom):this._tryAnimatedPan(i,c.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(X.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,c){var g=this.getZoomScale(a),y=this.getSize().divideBy(2),E=i instanceof z?i:this.latLngToContainerPoint(i),D=E.subtract(y).multiplyBy(1-1/g),q=this.containerPointToLatLng(y.add(D));return this.setView(q,a,{zoom:c})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():te(i);var c=W(a.paddingTopLeft||a.padding||[0,0]),g=W(a.paddingBottomRight||a.padding||[0,0]),y=this.getBoundsZoom(i,!1,c.add(g));if(y=typeof a.maxZoom=="number"?Math.min(a.maxZoom,y):y,y===1/0)return{center:i.getCenter(),zoom:y};var E=g.subtract(c).divideBy(2),D=this.project(i.getSouthWest(),y),q=this.project(i.getNorthEast(),y),Q=this.unproject(D.add(q).divideBy(2).add(E),y);return{center:Q,zoom:y}},fitBounds:function(i,a){if(i=te(i),!i.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(i,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=W(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Pe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,c){if(c=c||{},c.animate===!1||!X.any3d)return this.setView(i,a,c);this._stop();var g=this.project(this.getCenter()),y=this.project(i),E=this.getSize(),D=this._zoom;i=oe(i),a=a===void 0?D:a;var q=Math.max(E.x,E.y),Q=q*this.getZoomScale(D,a),ie=y.distanceTo(g)||1,le=1.42,ye=le*le;function Ce(yt){var Ra=yt?-1:1,J0=yt?Q:q,Q0=Q*Q-q*q+Ra*ye*ye*ie*ie,Y0=2*J0*ye*ie,Gu=Q0/Y0,Kf=Math.sqrt(Gu*Gu+1)-Gu,X0=Kf<1e-9?-18:Math.log(Kf);return X0}function Kt(yt){return(Math.exp(yt)-Math.exp(-yt))/2}function At(yt){return(Math.exp(yt)+Math.exp(-yt))/2}function Cn(yt){return Kt(yt)/At(yt)}var on=Ce(0);function to(yt){return q*(At(on)/At(on+le*yt))}function Z0(yt){return q*(At(on)*Cn(on+le*yt)-Kt(on))/ye}function q0(yt){return 1-Math.pow(1-yt,1.5)}var K0=Date.now(),Zf=(Ce(1)-on)/le,G0=c.duration?1e3*c.duration:1e3*Zf*.8;function qf(){var yt=(Date.now()-K0)/G0,Ra=q0(yt)*Zf;yt<=1?(this._flyToFrame=U(qf,this),this._move(this.unproject(g.add(y.subtract(g).multiplyBy(Z0(Ra)/ie)),D),this.getScaleZoom(q/to(Ra),D),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),qf.call(this),this},flyToBounds:function(i,a){var c=this._getBoundsCenterZoom(i,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(i){return i=te(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var c=this.getCenter(),g=this._limitCenter(c,this._zoom,te(i));return c.equals(g)||this.panTo(g,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var c=W(a.paddingTopLeft||a.padding||[0,0]),g=W(a.paddingBottomRight||a.padding||[0,0]),y=this.project(this.getCenter()),E=this.project(i),D=this.getPixelBounds(),q=ee([D.min.add(c),D.max.subtract(g)]),Q=q.getSize();if(!q.contains(E)){this._enforcingBounds=!0;var ie=E.subtract(q.getCenter()),le=q.extend(E).getSize().subtract(Q);y.x+=ie.x<0?-le.x:le.x,y.y+=ie.y<0?-le.y:le.y,this.panTo(this.unproject(y),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),g=a.divideBy(2).round(),y=c.divideBy(2).round(),E=g.subtract(y);return!E.x&&!E.y?this:(i.animate&&i.pan?this.panBy(E):(i.pan&&this._rawPanBy(E),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,i):navigator.geolocation.getCurrentPosition(a,c,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,c=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,c=i.coords.longitude,g=new K(a,c),y=g.toBounds(i.coords.accuracy*2),E=this._locateOptions;if(E.setView){var D=this.getBoundsZoom(y);this.setView(g,E.maxZoom?Math.min(D,E.maxZoom):D)}var q={latlng:g,bounds:y,timestamp:i.timestamp};for(var Q in i.coords)typeof i.coords[Q]=="number"&&(q[Q]=i.coords[Q]);this.fire("locationfound",q)}},addHandler:function(i,a){if(!a)return this;var c=this[i]=new a(this);return this._handlers.push(c),this.options[i]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Be(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Be(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var c="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=ve("div",c,a||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),c=this.unproject(i.getTopRight());return new ae(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,c){i=te(i),c=W(c||[0,0]);var g=this.getZoom()||0,y=this.getMinZoom(),E=this.getMaxZoom(),D=i.getNorthWest(),q=i.getSouthEast(),Q=this.getSize().subtract(c),ie=ee(this.project(q,g),this.project(D,g)).getSize(),le=X.any3d?this.options.zoomSnap:1,ye=Q.x/ie.x,Ce=Q.y/ie.y,Kt=a?Math.max(ye,Ce):Math.min(ye,Ce);return g=this.getScaleZoom(Kt,g),le&&(g=Math.round(g/(le/100))*(le/100),g=a?Math.ceil(g/le)*le:Math.floor(g/le)*le),Math.max(y,Math.min(E,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var c=this._getTopLeftPoint(i,a);return new ne(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(i)/c.scale(a)},getScaleZoom:function(i,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var g=c.zoom(i*c.scale(a));return isNaN(g)?1/0:g},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(oe(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(W(i),a)},layerPointToLatLng:function(i){var a=W(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(oe(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(oe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(te(i))},distance:function(i,a){return this.options.crs.distance(oe(i),oe(a))},containerPointToLayerPoint:function(i){return W(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return W(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(W(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(i)))},mouseEventToContainerPoint:function(i){return hf(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=pr(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Se(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&X.any3d,Pe(i,"leaflet-container"+(X.touch?" leaflet-touch":"")+(X.retina?" leaflet-retina":"")+(X.ielt9?" leaflet-oldie":"")+(X.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Nn(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_t(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pe(i.markerPane,"leaflet-zoom-hide"),Pe(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,c){_t(this._mapPane,new z(0,0));var g=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var y=this._zoom!==a;this._moveStart(y,c)._move(i,a)._moveEnd(y),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,c,g){a===void 0&&(a=this._zoom);var y=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){_t(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var a=i?Je:Se;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),X.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var c=[],g,y=a==="mouseout"||a==="mouseover",E=i.target||i.srcElement,D=!1;E;){if(g=this._targets[d(E)],g&&(a==="click"||a==="preclick")&&this._draggableMoved(g)){D=!0;break}if(g&&g.listens(a,!0)&&(y&&!Nu(E,i)||(c.push(g),y))||E===this._container)break;E=E.parentNode}return!c.length&&!D&&!y&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var c=i.type;c==="mousedown"&&Ru(a),this._fireDOMEvent(i,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,c){if(i.type==="click"){var g=o({},i);g.type="preclick",this._fireDOMEvent(g,g.type,c)}var y=this._findEventTargets(i,a);if(c){for(var E=[],D=0;D<c.length;D++)c[D].listens(a,!0)&&E.push(c[D]);y=E.concat(y)}if(y.length){a==="contextmenu"&&Mt(i);var q=y[0],Q={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var ie=q.getLatLng&&(!q._radius||q._radius<=10);Q.containerPoint=ie?this.latLngToContainerPoint(q.getLatLng()):this.mouseEventToContainerPoint(i),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=ie?q.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(D=0;D<y.length;D++)if(y[D].fire(a,Q,!0),Q.originalEvent._stopped||y[D].options.bubblingMouseEvents===!1&&A(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return gi(this._mapPane)||new z(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var c=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var c=this.getSize()._divideBy(2);return this.project(i,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,c){var g=this._getNewPixelOrigin(c,a);return this.project(i,a)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,a,c){var g=this._getNewPixelOrigin(c,a);return ee([this.project(i.getSouthWest(),a)._subtract(g),this.project(i.getNorthWest(),a)._subtract(g),this.project(i.getSouthEast(),a)._subtract(g),this.project(i.getNorthEast(),a)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,c){if(!c)return i;var g=this.project(i,a),y=this.getSize().divideBy(2),E=new ne(g.subtract(y),g.add(y)),D=this._getBoundsOffset(E,c,a);return Math.abs(D.x)<=1&&Math.abs(D.y)<=1?i:this.unproject(g.add(D),a)},_limitOffset:function(i,a){if(!a)return i;var c=this.getPixelBounds(),g=new ne(c.min.add(i),c.max.add(i));return i.add(this._getBoundsOffset(g,a))},_getBoundsOffset:function(i,a,c){var g=ee(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),y=g.min.subtract(i.min),E=g.max.subtract(i.max),D=this._rebound(y.x,-E.x),q=this._rebound(y.y,-E.y);return new z(D,q)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),c=this.getMaxZoom(),g=X.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(a,Math.min(c,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var c=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var i=this._proxy=ve("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var c=jr,g=this._proxy.style[c];mi(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),g===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Be(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();mi(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(a),y=this._getCenterOffset(i)._divideBy(1-1/g);return c.animate!==!0&&!this.getSize().contains(y)?!1:(U(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,c,g){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,Pe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function u0(i,a){return new je(i,a)}var Un=F.extend({options:{position:"topright"},initialize:function(i){b(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),c=this.getPosition(),g=i._controlCorners[c];return Pe(a,"leaflet-control"),c.indexOf("bottom")!==-1?g.insertBefore(a,g.firstChild):g.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Be(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ns=function(i){return new Un(i)};je.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",c=this._controlContainer=ve("div",a+"control-container",this._container);function g(y,E){var D=a+y+" "+a+E;i[y+E]=ve("div",D,c)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Be(this._controlCorners[i]);Be(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mf=Un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,c,g){return c<g?-1:g<c?1:0}},initialize:function(i,a,c){b(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in a)this._addLayer(a[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return Un.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Pe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Pe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=ve("div",i),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),ts(a),Du(a);var g=this._section=ve("section",i+"-list");c&&(this._map.on("click",this.collapse,this),Se(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=ve("a",i+"-toggle",a);y.href="#",y.title="Layers",y.setAttribute("role","button"),Se(y,{keydown:function(E){E.keyCode===13&&this._expandSafely()},click:function(E){Mt(E),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=ve("div",i+"-base",g),this._separator=ve("div",i+"-separator",g),this._overlaysList=ve("div",i+"-overlays",g),a.appendChild(g)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,c){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(g,y){return this.options.sortFunction(g.layer,y.layer,g.name,y.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pi(this._baseLayersList),pi(this._overlaysList),this._layerControlInputs=[];var i,a,c,g,y=0;for(c=0;c<this._layers.length;c++)g=this._layers[c],this._addItem(g),a=a||g.overlay,i=i||!g.overlay,y+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&y>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(d(i.target)),c=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(i,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=c,g.firstChild},_addItem:function(i){var a=document.createElement("label"),c=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=c):g=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(g),g.layerId=d(i.layer),Se(g,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+i.name;var E=document.createElement("span");a.appendChild(E),E.appendChild(g),E.appendChild(y);var D=i.overlay?this._overlaysList:this._baseLayersList;return D.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,c,g=[],y=[];this._handlingClick=!0;for(var E=i.length-1;E>=0;E--)a=i[E],c=this._getLayer(a.layerId).layer,a.checked?g.push(c):a.checked||y.push(c);for(E=0;E<y.length;E++)this._map.hasLayer(y[E])&&this._map.removeLayer(y[E]);for(E=0;E<g.length;E++)this._map.hasLayer(g[E])||this._map.addLayer(g[E]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,c,g=this._map.getZoom(),y=i.length-1;y>=0;y--)a=i[y],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&g<c.options.minZoom||c.options.maxZoom!==void 0&&g>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Se(i,"click",Mt),this.expand();var a=this;setTimeout(function(){Je(i,"click",Mt),a._preventClick=!1})}}),c0=function(i,a,c){return new mf(i,a,c)},Uu=Un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",c=ve("div",a+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,c,g,y){var E=ve("a",c,g);return E.innerHTML=i,E.href="#",E.title=a,E.setAttribute("role","button"),E.setAttribute("aria-label",a),ts(E),Se(E,"click",_i),Se(E,"click",y,this),Se(E,"click",this._refocusOnMap,this),E},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";mt(this._zoomInButton,a),mt(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Pe(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Pe(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});je.mergeOptions({zoomControl:!0}),je.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Uu,this.addControl(this.zoomControl))});var d0=function(i){return new Uu(i)},gf=Un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",c=ve("div",a),g=this.options;return this._addScales(g,a+"-line",c),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),c},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,c){i.metric&&(this._mScale=ve("div",a,c)),i.imperial&&(this._iScale=ve("div",a,c))},_update:function(){var i=this._map,a=i.getSize().y/2,c=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/i)},_updateImperial:function(i){var a=i*3.2808399,c,g,y;a>5280?(c=a/5280,g=this._getRoundNum(c),this._updateScale(this._iScale,g+" mi",g/c)):(y=this._getRoundNum(a),this._updateScale(this._iScale,y+" ft",y/a))},_updateScale:function(i,a,c){i.style.width=Math.round(this.options.maxWidth*c)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),c=i/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),h0=function(i){return new gf(i)},f0='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Bu=Un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(X.inlineSvg?f0+" ":"")+"Leaflet</a>"},initialize:function(i){b(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ve("div","leaflet-control-attribution"),ts(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),i.length&&c.push(i.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});je.mergeOptions({attributionControl:!0}),je.addInitHook(function(){this.options.attributionControl&&new Bu().addTo(this)});var p0=function(i){return new Bu(i)};Un.Layers=mf,Un.Zoom=Uu,Un.Scale=gf,Un.Attribution=Bu,ns.layers=c0,ns.zoom=d0,ns.scale=h0,ns.attribution=p0;var tr=F.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tr.addTo=function(i,a){return i.addHandler(a,this),this};var m0={Events:I},vf=X.touch?"touchstart mousedown":"mousedown",zr=R.extend({options:{clickTolerance:3},initialize:function(i,a,c,g){b(this,g),this._element=i,this._dragStartTarget=a||i,this._preventOutline=c},enable:function(){this._enabled||(Se(this._dragStartTarget,vf,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(zr._dragging===this&&this.finishDrag(!0),Je(this._dragStartTarget,vf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Pu(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){zr._dragging===this&&this.finishDrag();return}if(!(zr._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(zr._dragging=this,this._preventOutline&&Ru(this._element),Ou(),Yo(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,c=uf(this._element);this._startPoint=new z(a.clientX,a.clientY),this._startPos=gi(this._element),this._parentScale=Iu(c);var g=i.type==="mousedown";Se(document,g?"mousemove":"touchmove",this._onMove,this),Se(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,c=new z(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,Mt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Pe(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),_t(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){mt(document.body,"leaflet-dragging"),this._lastTarget&&(mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Je(document,"mousemove touchmove",this._onMove,this),Je(document,"mouseup touchend touchcancel",this._onUp,this),Lu(),Xo();var a=this._moved&&this._moving;this._moving=!1,zr._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function _f(i,a,c){var g,y=[1,4,2,8],E,D,q,Q,ie,le,ye,Ce;for(E=0,le=i.length;E<le;E++)i[E]._code=yi(i[E],a);for(q=0;q<4;q++){for(ye=y[q],g=[],E=0,le=i.length,D=le-1;E<le;D=E++)Q=i[E],ie=i[D],Q._code&ye?ie._code&ye||(Ce=ba(ie,Q,ye,a,c),Ce._code=yi(Ce,a),g.push(Ce)):(ie._code&ye&&(Ce=ba(ie,Q,ye,a,c),Ce._code=yi(Ce,a),g.push(Ce)),g.push(Q));i=g}return i}function yf(i,a){var c,g,y,E,D,q,Q,ie,le;if(!i||i.length===0)throw new Error("latlngs not passed");Tn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ye=oe([0,0]),Ce=te(i),Kt=Ce.getNorthWest().distanceTo(Ce.getSouthWest())*Ce.getNorthEast().distanceTo(Ce.getNorthWest());Kt<1700&&(ye=$u(i));var At=i.length,Cn=[];for(c=0;c<At;c++){var on=oe(i[c]);Cn.push(a.project(oe([on.lat-ye.lat,on.lng-ye.lng])))}for(q=Q=ie=0,c=0,g=At-1;c<At;g=c++)y=Cn[c],E=Cn[g],D=y.y*E.x-E.y*y.x,Q+=(y.x+E.x)*D,ie+=(y.y+E.y)*D,q+=D*3;q===0?le=Cn[0]:le=[Q/q,ie/q];var to=a.unproject(W(le));return oe([to.lat+ye.lat,to.lng+ye.lng])}function $u(i){for(var a=0,c=0,g=0,y=0;y<i.length;y++){var E=oe(i[y]);a+=E.lat,c+=E.lng,g++}return oe([a/g,c/g])}var g0={__proto__:null,clipPolygon:_f,polygonCenter:yf,centroid:$u};function wf(i,a){if(!a||!i.length)return i.slice();var c=a*a;return i=y0(i,c),i=_0(i,c),i}function bf(i,a,c){return Math.sqrt(rs(i,a,c,!0))}function v0(i,a,c){return rs(i,a,c)}function _0(i,a){var c=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,y=new g(c);y[0]=y[c-1]=1,Fu(i,y,a,0,c-1);var E,D=[];for(E=0;E<c;E++)y[E]&&D.push(i[E]);return D}function Fu(i,a,c,g,y){var E=0,D,q,Q;for(q=g+1;q<=y-1;q++)Q=rs(i[q],i[g],i[y],!0),Q>E&&(D=q,E=Q);E>c&&(a[D]=1,Fu(i,a,c,g,D),Fu(i,a,c,D,y))}function y0(i,a){for(var c=[i[0]],g=1,y=0,E=i.length;g<E;g++)w0(i[g],i[y])>a&&(c.push(i[g]),y=g);return y<E-1&&c.push(i[E-1]),c}var xf;function Sf(i,a,c,g,y){var E=g?xf:yi(i,c),D=yi(a,c),q,Q,ie;for(xf=D;;){if(!(E|D))return[i,a];if(E&D)return!1;q=E||D,Q=ba(i,a,q,c,y),ie=yi(Q,c),q===E?(i=Q,E=ie):(a=Q,D=ie)}}function ba(i,a,c,g,y){var E=a.x-i.x,D=a.y-i.y,q=g.min,Q=g.max,ie,le;return c&8?(ie=i.x+E*(Q.y-i.y)/D,le=Q.y):c&4?(ie=i.x+E*(q.y-i.y)/D,le=q.y):c&2?(ie=Q.x,le=i.y+D*(Q.x-i.x)/E):c&1&&(ie=q.x,le=i.y+D*(q.x-i.x)/E),new z(ie,le,y)}function yi(i,a){var c=0;return i.x<a.min.x?c|=1:i.x>a.max.x&&(c|=2),i.y<a.min.y?c|=4:i.y>a.max.y&&(c|=8),c}function w0(i,a){var c=a.x-i.x,g=a.y-i.y;return c*c+g*g}function rs(i,a,c,g){var y=a.x,E=a.y,D=c.x-y,q=c.y-E,Q=D*D+q*q,ie;return Q>0&&(ie=((i.x-y)*D+(i.y-E)*q)/Q,ie>1?(y=c.x,E=c.y):ie>0&&(y+=D*ie,E+=q*ie)),D=i.x-y,q=i.y-E,g?D*D+q*q:new z(y,E)}function Tn(i){return!S(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function Ef(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Tn(i)}function kf(i,a){var c,g,y,E,D,q,Q,ie;if(!i||i.length===0)throw new Error("latlngs not passed");Tn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var le=oe([0,0]),ye=te(i),Ce=ye.getNorthWest().distanceTo(ye.getSouthWest())*ye.getNorthEast().distanceTo(ye.getNorthWest());Ce<1700&&(le=$u(i));var Kt=i.length,At=[];for(c=0;c<Kt;c++){var Cn=oe(i[c]);At.push(a.project(oe([Cn.lat-le.lat,Cn.lng-le.lng])))}for(c=0,g=0;c<Kt-1;c++)g+=At[c].distanceTo(At[c+1])/2;if(g===0)ie=At[0];else for(c=0,E=0;c<Kt-1;c++)if(D=At[c],q=At[c+1],y=D.distanceTo(q),E+=y,E>g){Q=(E-g)/y,ie=[q.x-Q*(q.x-D.x),q.y-Q*(q.y-D.y)];break}var on=a.unproject(W(ie));return oe([on.lat+le.lat,on.lng+le.lng])}var b0={__proto__:null,simplify:wf,pointToSegmentDistance:bf,closestPointOnSegment:v0,clipSegment:Sf,_getEdgeIntersection:ba,_getBitCode:yi,_sqClosestPointOnSegment:rs,isFlat:Tn,_flat:Ef,polylineCenter:kf},Wu={project:function(i){return new z(i.lng,i.lat)},unproject:function(i){return new K(i.y,i.x)},bounds:new ne([-180,-90],[180,90])},Hu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,c=this.R,g=i.lat*a,y=this.R_MINOR/c,E=Math.sqrt(1-y*y),D=E*Math.sin(g),q=Math.tan(Math.PI/4-g/2)/Math.pow((1-D)/(1+D),E/2);return g=-c*Math.log(Math.max(q,1e-10)),new z(i.lng*a*c,g)},unproject:function(i){for(var a=180/Math.PI,c=this.R,g=this.R_MINOR/c,y=Math.sqrt(1-g*g),E=Math.exp(-i.y/c),D=Math.PI/2-2*Math.atan(E),q=0,Q=.1,ie;q<15&&Math.abs(Q)>1e-7;q++)ie=y*Math.sin(D),ie=Math.pow((1-ie)/(1+ie),y/2),Q=Math.PI/2-2*Math.atan(E*ie)-D,D+=Q;return new K(D*a,i.x*a/c)}},x0={__proto__:null,LonLat:Wu,Mercator:Hu,SphericalMercator:Ne},S0=o({},Ee,{code:"EPSG:3395",projection:Hu,transformation:function(){var i=.5/(Math.PI*Hu.R);return ke(i,.5,-i,.5)}()}),Pf=o({},Ee,{code:"EPSG:4326",projection:Wu,transformation:ke(1/180,1,-1/180,.5)}),E0=o({},xe,{projection:Wu,transformation:ke(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var c=a.lng-i.lng,g=a.lat-i.lat;return Math.sqrt(c*c+g*g)},infinite:!0});xe.Earth=Ee,xe.EPSG3395=S0,xe.EPSG3857=Ot,xe.EPSG900913=Vt,xe.EPSG4326=Pf,xe.Simple=E0;var Bn=R.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});je.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=d(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},_addLayers:function(i){i=i?S(i)?i:[i]:[];for(var a=0,c=i.length;a<c;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=d(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,c=this._getZoomSpan();for(var g in this._zoomBoundLayers){var y=this._zoomBoundLayers[g].options;i=y.minZoom===void 0?i:Math.min(i,y.minZoom),a=y.maxZoom===void 0?a:Math.max(a,y.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ji=Bn.extend({initialize:function(i,a){b(this,a),this._layers={};var c,g;if(i)for(c=0,g=i.length;c<g;c++)this.addLayer(i[c])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),c,g;for(c in this._layers)g=this._layers[c],g[i]&&g[i].apply(g,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var c in this._layers)i.call(a,this._layers[c]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),k0=function(i,a){return new Ji(i,a)},mr=Ji.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ji.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ji.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ae;for(var a in this._layers){var c=this._layers[a];i.extend(c.getBounds?c.getBounds():c.getLatLng())}return i}}),P0=function(i,a){return new mr(i,a)},Qi=F.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){b(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var c=this._getIconUrl(i);if(!c){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,a){var c=this.options,g=c[a+"Size"];typeof g=="number"&&(g=[g,g]);var y=W(g),E=W(a==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(c.className||""),E&&(i.style.marginLeft=-E.x+"px",i.style.marginTop=-E.y+"px"),y&&(i.style.width=y.x+"px",i.style.height=y.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return X.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function T0(i){return new Qi(i)}var is=Qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof is.imagePath!="string"&&(is.imagePath=this._detectIconPath()),(this.options.imagePath||is.imagePath)+Qi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(c,g,y){var E=g.exec(c);return E&&E[y]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ve("div","leaflet-default-icon-path",document.body),a=Nn(i,"background-image")||Nn(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Tf=tr.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new zr(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pe(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,c=a._map,g=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,E=gi(a._icon),D=c.getPixelBounds(),q=c.getPixelOrigin(),Q=ee(D.min._subtract(q).add(y),D.max._subtract(q).subtract(y));if(!Q.contains(E)){var ie=W((Math.max(Q.max.x,E.x)-Q.max.x)/(D.max.x-Q.max.x)-(Math.min(Q.min.x,E.x)-Q.min.x)/(D.min.x-Q.min.x),(Math.max(Q.max.y,E.y)-Q.max.y)/(D.max.y-Q.max.y)-(Math.min(Q.min.y,E.y)-Q.min.y)/(D.min.y-Q.min.y)).multiplyBy(g);c.panBy(ie,{animate:!1}),this._draggable._newPos._add(ie),this._draggable._startPos._add(ie),_t(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=U(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,c=a._shadow,g=gi(a._icon),y=a._map.layerPointToLatLng(g);c&&_t(c,g),a._latlng=y,i.latlng=y,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),xa=Bn.extend({options:{icon:new is,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){b(this,a),this._latlng=oe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=oe(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=i.icon.createIcon(this._icon),g=!1;c!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(c.title=i.title),c.tagName==="IMG"&&(c.alt=i.alt||"")),Pe(c,a),i.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Se(c,"focus",this._panOnFocus,this);var y=i.icon.createShadow(this._shadow),E=!1;y!==this._shadow&&(this._removeShadow(),E=!0),y&&(Pe(y,a),y.alt=""),this._shadow=y,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&E&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Je(this._icon,"focus",this._panOnFocus,this),Be(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Be(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&_t(this._icon,i),this._shadow&&_t(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Pe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Tf)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Tf(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Pn(this._icon,i),this._shadow&&Pn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,c=a.iconSize?W(a.iconSize):W(0,0),g=a.iconAnchor?W(a.iconAnchor):W(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:c.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function C0(i,a){return new xa(i,a)}var Dr=Bn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return b(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Sa=Dr.extend({options:{fill:!0,radius:10},initialize:function(i,a){b(this,a),this._latlng=oe(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=oe(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return Dr.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,c=this._clickTolerance(),g=[i+c,a+c];this._pxBounds=new ne(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function O0(i,a){return new Sa(i,a)}var Vu=Sa.extend({initialize:function(i,a,c){if(typeof a=="number"&&(a=o({},c,{radius:a})),b(this,a),this._latlng=oe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ae(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Dr.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,c=this._map,g=c.options.crs;if(g.distance===Ee.distance){var y=Math.PI/180,E=this._mRadius/Ee.R/y,D=c.project([a+E,i]),q=c.project([a-E,i]),Q=D.add(q).divideBy(2),ie=c.unproject(Q).lat,le=Math.acos((Math.cos(E*y)-Math.sin(a*y)*Math.sin(ie*y))/(Math.cos(a*y)*Math.cos(ie*y)))/y;(isNaN(le)||le===0)&&(le=E/Math.cos(Math.PI/180*a)),this._point=Q.subtract(c.getPixelOrigin()),this._radius=isNaN(le)?0:Q.x-c.project([ie,i-le]).x,this._radiusY=Q.y-D.y}else{var ye=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ye).x}this._updateBounds()}});function L0(i,a,c){return new Vu(i,a,c)}var gr=Dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){b(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,c=null,g=rs,y,E,D=0,q=this._parts.length;D<q;D++)for(var Q=this._parts[D],ie=1,le=Q.length;ie<le;ie++){y=Q[ie-1],E=Q[ie];var ye=g(i,y,E,!0);ye<a&&(a=ye,c=g(i,y,E))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kf(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=oe(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ae,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Tn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],c=Tn(i),g=0,y=i.length;g<y;g++)c?(a[g]=oe(i[g]),this._bounds.extend(a[g])):a[g]=this._convertLatLngs(i[g]);return a},_project:function(){var i=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new z(i,i);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,c){var g=i[0]instanceof K,y=i.length,E,D;if(g){for(D=[],E=0;E<y;E++)D[E]=this._map.latLngToLayerPoint(i[E]),c.extend(D[E]);a.push(D)}else for(E=0;E<y;E++)this._projectLatlngs(i[E],a,c)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,g,y,E,D,q,Q;for(c=0,y=0,E=this._rings.length;c<E;c++)for(Q=this._rings[c],g=0,D=Q.length;g<D-1;g++)q=Sf(Q[g],Q[g+1],i,g,!0),q&&(a[y]=a[y]||[],a[y].push(q[0]),(q[1]!==Q[g+1]||g===D-2)&&(a[y].push(q[1]),y++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,c=0,g=i.length;c<g;c++)i[c]=wf(i[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var c,g,y,E,D,q,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(c=0,E=this._parts.length;c<E;c++)for(q=this._parts[c],g=0,D=q.length,y=D-1;g<D;y=g++)if(!(!a&&g===0)&&bf(i,q[y],q[g])<=Q)return!0;return!1}});function A0(i,a){return new gr(i,a)}gr._flat=Ef;var Yi=gr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=gr.prototype._convertLatLngs.call(this,i),c=a.length;return c>=2&&a[0]instanceof K&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(i){gr.prototype._setLatLngs.call(this,i),Tn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Tn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,c=new z(a,a);if(i=new ne(i.min.subtract(c),i.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,y=this._rings.length,E;g<y;g++)E=_f(this._rings[g],i,!0),E.length&&this._parts.push(E)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,c,g,y,E,D,q,Q,ie;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(E=0,Q=this._parts.length;E<Q;E++)for(c=this._parts[E],D=0,ie=c.length,q=ie-1;D<ie;q=D++)g=c[D],y=c[q],g.y>i.y!=y.y>i.y&&i.x<(y.x-g.x)*(i.y-g.y)/(y.y-g.y)+g.x&&(a=!a);return a||gr.prototype._containsPoint.call(this,i,!0)}});function R0(i,a){return new Yi(i,a)}var vr=mr.extend({initialize:function(i,a){b(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=S(i)?i:i.features,c,g,y;if(a){for(c=0,g=a.length;c<g;c++)y=a[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var E=this.options;if(E.filter&&!E.filter(i))return this;var D=Ea(i,E);return D?(D.feature=Ta(i),D.defaultOptions=D.options,this.resetStyle(D),E.onEachFeature&&E.onEachFeature(i,D),this.addLayer(D)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function Ea(i,a){var c=i.type==="Feature"?i.geometry:i,g=c?c.coordinates:null,y=[],E=a&&a.pointToLayer,D=a&&a.coordsToLatLng||Zu,q,Q,ie,le;if(!g&&!c)return null;switch(c.type){case"Point":return q=D(g),Cf(E,i,q,a);case"MultiPoint":for(ie=0,le=g.length;ie<le;ie++)q=D(g[ie]),y.push(Cf(E,i,q,a));return new mr(y);case"LineString":case"MultiLineString":return Q=ka(g,c.type==="LineString"?0:1,D),new gr(Q,a);case"Polygon":case"MultiPolygon":return Q=ka(g,c.type==="Polygon"?1:2,D),new Yi(Q,a);case"GeometryCollection":for(ie=0,le=c.geometries.length;ie<le;ie++){var ye=Ea({geometry:c.geometries[ie],type:"Feature",properties:i.properties},a);ye&&y.push(ye)}return new mr(y);case"FeatureCollection":for(ie=0,le=c.features.length;ie<le;ie++){var Ce=Ea(c.features[ie],a);Ce&&y.push(Ce)}return new mr(y);default:throw new Error("Invalid GeoJSON object.")}}function Cf(i,a,c,g){return i?i(a,c):new xa(c,g&&g.markersInheritOptions&&g)}function Zu(i){return new K(i[1],i[0],i[2])}function ka(i,a,c){for(var g=[],y=0,E=i.length,D;y<E;y++)D=a?ka(i[y],a-1,c):(c||Zu)(i[y]),g.push(D);return g}function qu(i,a){return i=oe(i),i.alt!==void 0?[p(i.lng,a),p(i.lat,a),p(i.alt,a)]:[p(i.lng,a),p(i.lat,a)]}function Pa(i,a,c,g){for(var y=[],E=0,D=i.length;E<D;E++)y.push(a?Pa(i[E],Tn(i[E])?0:a-1,c,g):qu(i[E],g));return!a&&c&&y.length>0&&y.push(y[0].slice()),y}function Xi(i,a){return i.feature?o({},i.feature,{geometry:a}):Ta(a)}function Ta(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Ku={toGeoJSON:function(i){return Xi(this,{type:"Point",coordinates:qu(this.getLatLng(),i)})}};xa.include(Ku),Vu.include(Ku),Sa.include(Ku),gr.include({toGeoJSON:function(i){var a=!Tn(this._latlngs),c=Pa(this._latlngs,a?1:0,!1,i);return Xi(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),Yi.include({toGeoJSON:function(i){var a=!Tn(this._latlngs),c=a&&!Tn(this._latlngs[0]),g=Pa(this._latlngs,c?2:a?1:0,!0,i);return a||(g=[g]),Xi(this,{type:(c?"Multi":"")+"Polygon",coordinates:g})}}),Ji.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(i).geometry.coordinates)}),Xi(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var c=a==="GeometryCollection",g=[];return this.eachLayer(function(y){if(y.toGeoJSON){var E=y.toGeoJSON(i);if(c)g.push(E.geometry);else{var D=Ta(E);D.type==="FeatureCollection"?g.push.apply(g,D.features):g.push(D)}}}),c?Xi(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Of(i,a){return new vr(i,a)}var I0=Of,Ca=Bn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,c){this._url=i,this._bounds=te(a),b(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Be(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Mr(this._image),this},bringToBack:function(){return this._map&&Gi(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=te(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:ve("img");if(Pe(a,"leaflet-image-layer"),this._zoomAnimated&&Pe(a,"leaflet-zoom-animated"),this.options.className&&Pe(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;mi(this._image,c,a)},_reset:function(){var i=this._image,a=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();_t(i,a.min),i.style.width=c.x+"px",i.style.height=c.y+"px"},_updateOpacity:function(){Pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),j0=function(i,a,c){return new Ca(i,a,c)},Lf=Ca.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:ve("video");if(Pe(a,"leaflet-image-layer"),this._zoomAnimated&&Pe(a,"leaflet-zoom-animated"),this.options.className&&Pe(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onloadeddata=l(this.fire,this,"load"),i){for(var c=a.getElementsByTagName("source"),g=[],y=0;y<c.length;y++)g.push(c[y].src);this._url=c.length>0?g:[a.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var E=0;E<this._url.length;E++){var D=ve("source");D.src=this._url[E],a.appendChild(D)}}});function M0(i,a,c){return new Lf(i,a,c)}var Af=Ca.extend({_initImage:function(){var i=this._image=this._url;Pe(i,"leaflet-image-layer"),this._zoomAnimated&&Pe(i,"leaflet-zoom-animated"),this.options.className&&Pe(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function z0(i,a,c){return new Af(i,a,c)}var nr=Bn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof K||S(i))?(this._latlng=oe(i),b(this,a)):(b(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Pn(this._container,1),this.bringToFront(),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Pn(this._container,0),this._removeTimeout=setTimeout(l(Be,void 0,this._container),200)):Be(this._container),this.options.interactive&&(mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=oe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Mr(this._container),this},bringToBack:function(){return this._map&&Gi(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof mr){a=null;var c=this._source._layers;for(var g in c)if(c[g]._map){a=c[g];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=W(this.options.offset),c=this._getAnchor();this._zoomAnimated?_t(this._container,i.add(c)):a=a.add(i).add(c);var g=this._containerBottom=-a.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=g+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});je.include({_initOverlay:function(i,a,c,g){var y=a;return y instanceof i||(y=new i(g).setContent(a)),c&&y.setLatLng(c),y}}),Bn.include({_initOverlay:function(i,a,c,g){var y=c;return y instanceof i?(b(y,g),y._source=this):(y=a&&!g?a:new i(g,this),y.setContent(c)),y}});var Oa=nr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,nr.prototype.openOn.call(this,i)},onAdd:function(i){nr.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Dr||this._source.on("preclick",vi))},onRemove:function(i){nr.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Dr||this._source.off("preclick",vi))},getEvents:function(){var i=nr.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=ve("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=ve("div",i+"-content-wrapper",a);if(this._contentNode=ve("div",i+"-content",c),ts(a),Du(this._contentNode),Se(a,"contextmenu",vi),this._tipContainer=ve("div",i+"-tip-container",a),this._tip=ve("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=ve("a",i+"-close-button",a);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Se(g,"click",function(y){Mt(y),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var c=i.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var g=i.offsetHeight,y=this.options.maxHeight,E="leaflet-popup-scrolled";y&&g>y?(a.height=y+"px",Pe(i,E)):mt(i,E),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),c=this._getAnchor();_t(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(Nn(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,g=this._containerWidth,y=new z(this._containerLeft,-c-this._containerBottom);y._add(gi(this._container));var E=i.layerPointToContainerPoint(y),D=W(this.options.autoPanPadding),q=W(this.options.autoPanPaddingTopLeft||D),Q=W(this.options.autoPanPaddingBottomRight||D),ie=i.getSize(),le=0,ye=0;E.x+g+Q.x>ie.x&&(le=E.x+g-ie.x+Q.x),E.x-le-q.x<0&&(le=E.x-q.x),E.y+c+Q.y>ie.y&&(ye=E.y+c-ie.y+Q.y),E.y-ye-q.y<0&&(ye=E.y-q.y),(le||ye)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([le,ye]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),D0=function(i,a){return new Oa(i,a)};je.mergeOptions({closePopupOnClick:!0}),je.include({openPopup:function(i,a,c){return this._initOverlay(Oa,i,a,c).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Bn.include({bindPopup:function(i,a){return this._popup=this._initOverlay(Oa,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof mr||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){_i(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof Dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var La=nr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){nr.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){nr.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=nr.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ve("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,c,g=this._map,y=this._container,E=g.latLngToContainerPoint(g.getCenter()),D=g.layerPointToContainerPoint(i),q=this.options.direction,Q=y.offsetWidth,ie=y.offsetHeight,le=W(this.options.offset),ye=this._getAnchor();q==="top"?(a=Q/2,c=ie):q==="bottom"?(a=Q/2,c=0):q==="center"?(a=Q/2,c=ie/2):q==="right"?(a=0,c=ie/2):q==="left"?(a=Q,c=ie/2):D.x<E.x?(q="right",a=0,c=ie/2):(q="left",a=Q+(le.x+ye.x)*2,c=ie/2),i=i.subtract(W(a,c,!0)).add(le).add(ye),mt(y,"leaflet-tooltip-right"),mt(y,"leaflet-tooltip-left"),mt(y,"leaflet-tooltip-top"),mt(y,"leaflet-tooltip-bottom"),Pe(y,"leaflet-tooltip-"+q),_t(y,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Pn(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),N0=function(i,a){return new La(i,a)};je.include({openTooltip:function(i,a,c){return this._initOverlay(La,i,a,c).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Bn.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(La,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof mr||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(Se(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Se(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,c,g;this._tooltip.options.sticky&&i.originalEvent&&(c=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(a)}});var Rf=Qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),c=this.options;if(c.html instanceof Element?(pi(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var g=W(c.bgPos);a.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function U0(i){return new Rf(i)}Qi.Default=is;var os=Bn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:X.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){b(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Be(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Mr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof z?i:new z(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,c=-i(-1/0,1/0),g=0,y=a.length,E;g<y;g++)E=a[g].style.zIndex,a[g]!==this._container&&E&&(c=i(c,+E));isFinite(c)&&(this.options.zIndex=c+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!X.ielt9){Pn(this._container,this.options.opacity);var i=+new Date,a=!1,c=!1;for(var g in this._tiles){var y=this._tiles[g];if(!(!y.current||!y.loaded)){var E=Math.min(1,(i-y.loaded)/200);Pn(y.el,E),E<1?a=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(B(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ve("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===i?(this._levels[c].el.style.zIndex=a-Math.abs(i-c),this._onUpdateLevel(c)):(Be(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var g=this._levels[i],y=this._map;return g||(g=this._levels[i]={},g.el=ve("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=a,g.origin=y.project(y.unproject(y.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,y.getCenter(),y.getZoom()),m(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var g=a.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Be(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,c,g){var y=Math.floor(i/2),E=Math.floor(a/2),D=c-1,q=new z(+y,+E);q.z=+D;var Q=this._tileCoordsToKey(q),ie=this._tiles[Q];return ie&&ie.active?(ie.retain=!0,!0):(ie&&ie.loaded&&(ie.retain=!0),D>g?this._retainParent(y,E,D,g):!1)},_retainChildren:function(i,a,c,g){for(var y=2*i;y<2*i+2;y++)for(var E=2*a;E<2*a+2;E++){var D=new z(y,E);D.z=c+1;var q=this._tileCoordsToKey(D),Q=this._tiles[q];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);c+1<g&&this._retainChildren(y,E,c+1,g)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,c,g){var y=Math.round(a);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var E=this.options.updateWhenZooming&&y!==this._tileZoom;(!g||E)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(i),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],i,a)},_setZoomTransform:function(i,a,c){var g=this._map.getZoomScale(c,i.zoom),y=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(a,c)).round();X.any3d?mi(i.el,y,g):_t(i.el,y)},_resetGrid:function(){var i=this._map,a=i.options.crs,c=this._tileSize=this.getTileSize(),g=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],g).x/c.x),Math.ceil(i.project([0,a.wrapLng[1]],g).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],g).y/c.x),Math.ceil(i.project([a.wrapLat[1],0],g).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),g=a.getZoomScale(c,this._tileZoom),y=a.project(i,this._tileZoom).floor(),E=a.getSize().divideBy(g*2);return new ne(y.subtract(E),y.add(E))},_update:function(i){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),y=this._pxBoundsToTileRange(g),E=y.getCenter(),D=[],q=this.options.keepBuffer,Q=new ne(y.getBottomLeft().subtract([q,-q]),y.getTopRight().add([q,-q]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ie in this._tiles){var le=this._tiles[ie].coords;(le.z!==this._tileZoom||!Q.contains(new z(le.x,le.y)))&&(this._tiles[ie].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(i,c);return}for(var ye=y.min.y;ye<=y.max.y;ye++)for(var Ce=y.min.x;Ce<=y.max.x;Ce++){var Kt=new z(Ce,ye);if(Kt.z=this._tileZoom,!!this._isValidTile(Kt)){var At=this._tiles[this._tileCoordsToKey(Kt)];At?At.current=!0:D.push(Kt)}}if(D.sort(function(on,to){return on.distanceTo(E)-to.distanceTo(E)}),D.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Cn=document.createDocumentFragment();for(Ce=0;Ce<D.length;Ce++)this._addTile(D[Ce],Cn);this._level.el.appendChild(Cn)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(i.x<c.min.x||i.x>c.max.x)||!a.wrapLat&&(i.y<c.min.y||i.y>c.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return te(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,c=this.getTileSize(),g=i.scaleBy(c),y=g.add(c),E=a.unproject(g,i.z),D=a.unproject(y,i.z);return[E,D]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),c=new ae(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),c=new z(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(i){var a=this._tiles[i];a&&(Be(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Pe(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=m,i.onmousemove=m,X.ielt9&&this.options.opacity<1&&Pn(i,this.options.opacity)},_addTile:function(i,a){var c=this._getTilePos(i),g=this._tileCoordsToKey(i),y=this.createTile(this._wrapCoords(i),l(this._tileReady,this,i));this._initTile(y),this.createTile.length<2&&U(l(this._tileReady,this,i,null,y)),_t(y,c),this._tiles[g]={el:y,coords:i,current:!0},a.appendChild(y),this.fire("tileloadstart",{tile:y,coords:i})},_tileReady:function(i,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:i});var g=this._tileCoordsToKey(i);c=this._tiles[g],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Pn(c.el,0),B(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(Pe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),X.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new z(this._wrapX?f(i.x,this._wrapX):i.x,this._wrapY?f(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new ne(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function B0(i){return new os(i)}var eo=os.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=b(this,a),a.detectRetina&&X.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var c=document.createElement("img");return Se(c,"load",l(this._tileOnLoad,this,a,c)),Se(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(i),c},getTileUrl:function(i){var a={r:X.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=c),a["-y"]=c}return x(this._url,o(a,this.options))},_tileOnLoad:function(i,a){X.ielt9?setTimeout(l(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,c){var g=this.options.errorTileUrl;g&&a.getAttribute("src")!==g&&(a.src=g),i(c,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,g=this.options.zoomOffset;return c&&(i=a-i),i+g},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=m,a.onerror=m,!a.complete)){a.src=N;var c=this._tiles[i].coords;Be(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",N),os.prototype._removeTile.call(this,i)},_tileReady:function(i,a,c){if(!(!this._map||c&&c.getAttribute("src")===N))return os.prototype._tileReady.call(this,i,a,c)}});function If(i,a){return new eo(i,a)}var jf=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var c=o({},this.defaultWmsParams);for(var g in a)g in this.options||(c[g]=a[g]);a=b(this,a);var y=a.detectRetina&&X.retina?2:1,E=this.getTileSize();c.width=E.x*y,c.height=E.y*y,this.wmsParams=c},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,eo.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),c=this._crs,g=ee(c.project(a[0]),c.project(a[1])),y=g.min,E=g.max,D=(this._wmsVersion>=1.3&&this._crs===Pf?[y.y,y.x,E.y,E.x]:[y.x,y.y,E.x,E.y]).join(","),q=eo.prototype.getTileUrl.call(this,i);return q+T(this.wmsParams,q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+D},setParams:function(i,a){return o(this.wmsParams,i),a||this.redraw(),this}});function $0(i,a){return new jf(i,a)}eo.WMS=jf,If.wms=$0;var _r=Bn.extend({options:{padding:.1},initialize:function(i){b(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var c=this._map.getZoomScale(a,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,a),E=g.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(i,a));X.any3d?mi(this._container,E,c):_t(this._container,E)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new ne(c,c.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Mf=_r.extend({options:{tolerance:0},getEvents:function(){var i=_r.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){_r.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Se(i,"mousemove",this._onMouseMove,this),Se(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Se(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Be(this._container),Je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var i=this._bounds,a=this._container,c=i.getSize(),g=X.retina?2:1;_t(a,i.min),a.width=g*c.x,a.height=g*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",X.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){_r.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,c=a.next,g=a.prev;c?c.prev=g:this._drawLast=g,g?g.next=c:this._drawFirst=c,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),c=[],g,y;for(y=0;y<a.length;y++){if(g=Number(a[y]),isNaN(g))return;c.push(g)}i.options._dashArray=c}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var c,g,y,E,D=i._parts,q=D.length,Q=this._ctx;if(q){for(Q.beginPath(),c=0;c<q;c++){for(g=0,y=D[c].length;g<y;g++)E=D[c][g],Q[g?"lineTo":"moveTo"](E.x,E.y);a&&Q.closePath()}this._fillStroke(Q,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,c=this._ctx,g=Math.max(Math.round(i._radius),1),y=(Math.max(Math.round(i._radiusY),1)||g)/g;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(a.x,a.y/y,g,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,i)}},_fillStroke:function(i,a){var c=a.options;c.fill&&(i.globalAlpha=c.fillOpacity,i.fillStyle=c.fillColor||c.color,i.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=c.opacity,i.lineWidth=c.weight,i.strokeStyle=c.color,i.lineCap=c.lineCap,i.lineJoin=c.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),c,g,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(c))&&(g=c);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(mt(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var c,g,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(a)&&(g=c);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,c){this._map._fireDOMEvent(a,c||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var c=a.next,g=a.prev;if(c)c.prev=g;else return;g?g.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var c=a.next,g=a.prev;if(g)g.next=c;else return;c?c.prev=g:g&&(this._drawLast=g),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function zf(i){return X.canvas?new Mf(i):null}var ss=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),F0={_initContainer:function(){this._container=ve("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(_r.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=ss("shape");Pe(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=ss("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Be(a),i.removeInteractiveTarget(a),delete this._layers[d(i)]},_updateStyle:function(i){var a=i._stroke,c=i._fill,g=i.options,y=i._container;y.stroked=!!g.stroke,y.filled=!!g.fill,g.stroke?(a||(a=i._stroke=ss("stroke")),y.appendChild(a),a.weight=g.weight+"px",a.color=g.color,a.opacity=g.opacity,g.dashArray?a.dashStyle=S(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=g.lineCap.replace("butt","flat"),a.joinstyle=g.lineJoin):a&&(y.removeChild(a),i._stroke=null),g.fill?(c||(c=i._fill=ss("fill")),y.appendChild(c),c.color=g.fillColor||g.color,c.opacity=g.fillOpacity):c&&(y.removeChild(c),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),c=Math.round(i._radius),g=Math.round(i._radiusY||c);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+g+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){Mr(i._container)},_bringToBack:function(i){Gi(i._container)}},Aa=X.vml?ss:qe,as=_r.extend({_initContainer:function(){this._container=Aa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Aa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Be(this._container),Je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){_r.prototype._update.call(this);var i=this._bounds,a=i.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),_t(c,i.min),c.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=Aa("path");i.options.className&&Pe(a,i.options.className),i.options.interactive&&Pe(a,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Be(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,c=i.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,Ke(i._parts,a))},_updateCircle:function(i){var a=i._point,c=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||c,y="a"+c+","+g+" 0 1,0 ",E=i._empty()?"M0 0":"M"+(a.x-c)+","+a.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(i,E)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){Mr(i._path)},_bringToBack:function(i){Gi(i._path)}});X.vml&&as.include(F0);function Df(i){return X.svg||X.vml?new as(i):null}je.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&zf(i)||Df(i)}});var Nf=Yi.extend({initialize:function(i,a){Yi.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=te(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function W0(i,a){return new Nf(i,a)}as.create=Aa,as.pointsToPath=Ke,vr.geometryToLayer=Ea,vr.coordsToLatLng=Zu,vr.coordsToLatLngs=ka,vr.latLngToCoords=qu,vr.latLngsToCoords=Pa,vr.getFeature=Xi,vr.asFeature=Ta,je.mergeOptions({boxZoom:!0});var Uf=tr.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Se(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Be(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Yo(),Ou(),this._startPoint=this._map.mouseEventToContainerPoint(i),Se(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ve("div","leaflet-zoom-box",this._container),Pe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new ne(this._point,this._startPoint),c=a.getSize();_t(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(Be(this._box),mt(this._container,"leaflet-crosshair")),Xo(),Lu(),Je(document,{contextmenu:_i,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new ae(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});je.addInitHook("addHandler","boxZoom",Uf),je.mergeOptions({doubleClickZoom:!0});var Bf=tr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,c=a.getZoom(),g=a.options.zoomDelta,y=i.originalEvent.shiftKey?c-g:c+g;a.options.doubleClickZoom==="center"?a.setZoom(y):a.setZoomAround(i.containerPoint,y)}});je.addInitHook("addHandler","doubleClickZoom",Bf),je.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $f=tr.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new zr(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Pe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){mt(this._map._container,"leaflet-grab"),mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=te(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),c=this._initialWorldOffset,g=this._draggable._newPos.x,y=(g-a+c)%i+a-c,E=(g+a+c)%i-a-c,D=Math.abs(y+c)<Math.abs(E+c)?y:E;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=D},_onDragEnd:function(i){var a=this._map,c=a.options,g=!c.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),g)a.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),E=(this._lastTime-this._times[0])/1e3,D=c.easeLinearity,q=y.multiplyBy(D/E),Q=q.distanceTo([0,0]),ie=Math.min(c.inertiaMaxSpeed,Q),le=q.multiplyBy(ie/Q),ye=ie/(c.inertiaDeceleration*D),Ce=le.multiplyBy(-ye/2).round();!Ce.x&&!Ce.y?a.fire("moveend"):(Ce=a._limitOffset(Ce,a.options.maxBounds),U(function(){a.panBy(Ce,{duration:ye,easeLinearity:D,noMoveStart:!0,animate:!0})}))}}});je.addInitHook("addHandler","dragging",$f),je.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ff=tr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Se(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,c=i.scrollTop||a.scrollTop,g=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(g,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},c=this.keyCodes,g,y;for(g=0,y=c.left.length;g<y;g++)a[c.left[g]]=[-1*i,0];for(g=0,y=c.right.length;g<y;g++)a[c.right[g]]=[i,0];for(g=0,y=c.down.length;g<y;g++)a[c.down[g]]=[0,i];for(g=0,y=c.up.length;g<y;g++)a[c.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},c=this.keyCodes,g,y;for(g=0,y=c.zoomIn.length;g<y;g++)a[c.zoomIn[g]]=i;for(g=0,y=c.zoomOut.length;g<y;g++)a[c.zoomOut[g]]=-i},_addHooks:function(){Se(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,c=this._map,g;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(g=this._panKeys[a],i.shiftKey&&(g=W(g).multiplyBy(3)),c.options.maxBounds&&(g=c._limitOffset(W(g),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(g)));c.panTo(y)}else c.panBy(g)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;_i(i)}}});je.addInitHook("addHandler","keyboard",Ff),je.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Wf=tr.extend({addHooks:function(){Se(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=ff(i),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),g),_i(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),c=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,E=c?Math.ceil(y/c)*c:y,D=i._limitZoom(a+(this._delta>0?E:-E))-a;this._delta=0,this._startTime=null,D&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+D):i.setZoomAround(this._lastMousePos,a+D))}});je.addInitHook("addHandler","scrollWheelZoom",Wf);var H0=600;je.mergeOptions({tapHold:X.touchNative&&X.safari&&X.mobile,tapTolerance:15});var Hf=tr.extend({addHooks:function(){Se(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new z(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Se(document,"touchend",Mt),Se(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),H0),Se(document,"touchend touchcancel contextmenu",this._cancel,this),Se(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Je(document,"touchend",Mt),Je(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Je(document,"touchend touchcancel contextmenu",this._cancel,this),Je(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new z(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var c=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});je.addInitHook("addHandler","tapHold",Hf),je.mergeOptions({touchZoom:X.touch,bounceAtZoomLimits:!0});var Vf=tr.extend({addHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),Se(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){mt(this._map._container,"leaflet-touch-zoom"),Je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(i.touches[0]),g=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(g)._divideBy(2))),this._startDist=c.distanceTo(g),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Se(document,"touchmove",this._onTouchMove,this),Se(document,"touchend touchcancel",this._onTouchEnd,this),Mt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(i.touches[0]),g=a.mouseEventToContainerPoint(i.touches[1]),y=c.distanceTo(g)/this._startDist;if(this._zoom=a.getScaleZoom(y,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&y<1||this._zoom>a.getMaxZoom()&&y>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var E=c._add(g)._divideBy(2)._subtract(this._centerPoint);if(y===1&&E.x===0&&E.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(E),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var D=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(D,this,!0),Mt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),Je(document,"touchmove",this._onTouchMove,this),Je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});je.addInitHook("addHandler","touchZoom",Vf),je.BoxZoom=Uf,je.DoubleClickZoom=Bf,je.Drag=$f,je.Keyboard=Ff,je.ScrollWheelZoom=Wf,je.TapHold=Hf,je.TouchZoom=Vf,n.Bounds=ne,n.Browser=X,n.CRS=xe,n.Canvas=Mf,n.Circle=Vu,n.CircleMarker=Sa,n.Class=F,n.Control=Un,n.DivIcon=Rf,n.DivOverlay=nr,n.DomEvent=l0,n.DomUtil=s0,n.Draggable=zr,n.Evented=R,n.FeatureGroup=mr,n.GeoJSON=vr,n.GridLayer=os,n.Handler=tr,n.Icon=Qi,n.ImageOverlay=Ca,n.LatLng=K,n.LatLngBounds=ae,n.Layer=Bn,n.LayerGroup=Ji,n.LineUtil=b0,n.Map=je,n.Marker=xa,n.Mixin=m0,n.Path=Dr,n.Point=z,n.PolyUtil=g0,n.Polygon=Yi,n.Polyline=gr,n.Popup=Oa,n.PosAnimation=pf,n.Projection=x0,n.Rectangle=Nf,n.Renderer=_r,n.SVG=as,n.SVGOverlay=Af,n.TileLayer=eo,n.Tooltip=La,n.Transformation=Ze,n.Util=V,n.VideoOverlay=Lf,n.bind=l,n.bounds=ee,n.canvas=zf,n.circle=L0,n.circleMarker=O0,n.control=ns,n.divIcon=U0,n.extend=o,n.featureGroup=P0,n.geoJSON=Of,n.geoJson=I0,n.gridLayer=B0,n.icon=T0,n.imageOverlay=j0,n.latLng=oe,n.latLngBounds=te,n.layerGroup=k0,n.map=u0,n.marker=C0,n.point=W,n.polygon=R0,n.polyline=A0,n.popup=D0,n.rectangle=W0,n.setOptions=b,n.stamp=d,n.svg=Df,n.svgOverlay=z0,n.tileLayer=If,n.tooltip=N0,n.transformation=ke,n.version=r,n.videoOverlay=M0;var V0=window.L;n.noConflict=function(){return window.L=V0,this},window.L=n})})(Vd,Vd.exports);var Su=Vd.exports;function of(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function sf(t,e){return e==null?function(r,o){const s=J.useRef();return s.current||(s.current=t(r,o)),s}:function(r,o){const s=J.useRef();s.current||(s.current=t(r,o));const l=J.useRef(r),{instance:u}=s.current;return J.useEffect(function(){l.current!==r&&(e(u,r,l.current),l.current=r)},[u,r,o]),s}}function Kk(t,e){J.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var s;(s=e.layerContainer)==null||s.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Fy(t){return function(n){const r=By(),o=t(rf(n,r),r);return Dy(r.map,n.attribution),$y(o.current,n.eventHandlers),Kk(o.current,r),o}}function Gk(t,e){const n=sf(t,e),r=Fy(n);return Hk(r)}function Jk(t,e){const n=sf(t),r=qk(n,e);return Vk(r)}function Qk(t,e){const n=sf(t,e),r=Fy(n);return Zk(r)}function Yk(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function Zd(){return Zd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function Xk({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:s,placeholder:l,style:u,whenReady:d,zoom:h,...f},m){const[p]=J.useState({className:o,id:s,style:u}),[v,_]=J.useState(null);J.useImperativeHandle(m,()=>(v==null?void 0:v.map)??null,[v]);const b=J.useCallback(w=>{if(w!==null&&v===null){const x=new Su.Map(w,f);n!=null&&h!=null?x.setView(n,h):t!=null&&x.fitBounds(t,e),d!=null&&x.whenReady(d),_(Fk(x))}},[]);J.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const T=v?Us.createElement(Uy,{value:v},r):l??null;return Us.createElement("div",Zd({},p,{ref:b}),T)}const Wy=J.forwardRef(Xk),Hy=Gk(function({position:e,...n},r){const o=new Su.Marker(e,n);return of(o,Wk(r,{overlayContainer:o}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Vy=Jk(function(e,n){const r=new Su.Popup(e,n.overlayContainer);return of(r,n)},function(e,n,{position:r},o){J.useEffect(function(){const{instance:l}=e;function u(h){h.popup===l&&(l.update(),o(!0))}function d(h){h.popup===l&&o(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(r!=null&&l.setLatLng(r),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var f;n.map.off({popupopen:u,popupclose:d}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(l)}},[e,n,o,r])}),Zy=Qk(function({url:e,...n},r){const o=new Su.TileLayer(e,rf(n,r));return of(o,r)},function(e,n,r){Yk(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),eP=(()=>{let t=0;return async()=>{const n=Date.now()-t;n<1100&&await new Promise(r=>setTimeout(r,1100-n)),t=Date.now()}})();async function eg(t){await eP();const e=new URL("https://nominatim.openstreetmap.org/search");e.searchParams.set("q",t),e.searchParams.set("format","json"),e.searchParams.set("limit","1");const r=await(await fetch(e.toString(),{headers:{"Accept-Language":"en","User-Agent":"auto-appraisal-mvp"}})).json();return r&&r[0]?{lat:parseFloat(r[0].lat),lng:parseFloat(r[0].lon)}:{lat:null,lng:null}}function tP(){var p,v;const t={padding:12,fontSize:16,border:"1px solid #4a5568",borderRadius:6,background:"#2d3748",color:"#e2e8f0"},[e,n]=J.useState({claim_number:"",customer_name:"",address_line1:""}),[r,o]=J.useState([]),[s,l]=J.useState(null),[u,d]=J.useState(!1),h=Zo();J.useEffect(()=>{(async()=>{const{data:_}=await Ve.from("profiles").select("user_id, full_name, role");o(_||[])})()},[]);const f=async()=>{const _=`${e.address_line1} ${e.address_line2||""} ${e.city||""} ${e.state||""} ${e.postal_code||""}`.trim();if(!_)return alert("Please enter an address first");d(!0);const b=await eg(_);d(!1),b.lat&&b.lng?l(b):alert("Could not geocode address. Please verify it is correct.")},m=async(_=!1)=>{if(!e.claim_number){alert("Please enter a Claim Number");return}if(!e.customer_name){alert("Please enter a Customer Name");return}if(!e.address_line1){alert("Please enter an Address");return}const b=`${e.address_line1} ${e.address_line2||""} ${e.city||""} ${e.state||""} ${e.postal_code||""}`.trim();let T={lat:null,lng:null};if(b&&(T=await eg(b)),_){const{error:x}=await Ve.from("claims").update({...e,...T}).eq("claim_number",e.claim_number);x?alert(`Error updating claim: ${x.message}`):(alert(" Claim updated successfully!"),h("/admin/claims"));return}const{error:w}=await Ve.from("claims").insert([{...e,...T,status:"SCHEDULED"}]);w?w.code==="23505"?confirm(` A claim with the number "${e.claim_number}" already exists!

Click OK to UPDATE the existing claim with this new data.
Click Cancel to go back and change the claim number.`)&&m(!0):alert(`Error: ${w.message}`):(alert(" Claim saved successfully!"),h("/admin/claims"))};return M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16},children:M.jsxs("div",{style:{maxWidth:800,margin:"0 auto",display:"grid",gap:8},children:[M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,background:"#2d3748",border:"1px solid #4a5568",padding:16,borderRadius:8},children:[M.jsx("h3",{style:{margin:0,color:"#e2e8f0"},children:"New Claim"}),M.jsxs("div",{style:{display:"flex",gap:8},children:[M.jsx(yn,{to:"/admin/claims",style:{padding:"8px 16px",background:"#4a5568",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:" Back to Claims"}),M.jsx(yn,{to:"/",style:{padding:"8px 16px",background:"#4a5568",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:" Home"})]})]}),M.jsx("h4",{style:{color:"#e2e8f0",marginTop:16},children:"Claim Information"}),M.jsx("input",{placeholder:"Claim #",value:e.claim_number,onChange:_=>n({...e,claim_number:_.target.value}),style:{padding:12,fontSize:16,border:"1px solid #4a5568",borderRadius:6,background:"#2d3748",color:"#e2e8f0"}}),M.jsx("input",{placeholder:"Customer name",value:e.customer_name,onChange:_=>n({...e,customer_name:_.target.value}),style:t}),M.jsx("input",{placeholder:"Phone",value:e.phone||"",onChange:_=>n({...e,phone:_.target.value}),style:t}),M.jsx("input",{placeholder:"Email",value:e.email||"",onChange:_=>n({...e,email:_.target.value}),style:t}),M.jsx("h4",{style:{color:"#e2e8f0",marginTop:16},children:"Vehicle Information"}),M.jsx("input",{placeholder:"VIN",value:e.vin||"",onChange:_=>n({...e,vin:_.target.value}),style:t}),M.jsx("input",{placeholder:"Year",type:"number",value:e.vehicle_year||"",onChange:_=>n({...e,vehicle_year:_.target.value?parseInt(_.target.value):void 0}),style:t}),M.jsx("input",{placeholder:"Make",value:e.vehicle_make||"",onChange:_=>n({...e,vehicle_make:_.target.value}),style:t}),M.jsx("input",{placeholder:"Model",value:e.vehicle_model||"",onChange:_=>n({...e,vehicle_model:_.target.value}),style:t}),M.jsx("h4",{style:{color:"#e2e8f0",marginTop:16},children:"Accident Description"}),M.jsx("textarea",{placeholder:"Describe the accident and damage...",value:e.notes||"",onChange:_=>n({...e,notes:_.target.value}),rows:4,style:{...t,resize:"vertical"}}),M.jsx("h4",{style:{color:"#e2e8f0",marginTop:16},children:"Location"}),M.jsx("input",{placeholder:"Address line 1",value:e.address_line1,onChange:_=>n({...e,address_line1:_.target.value}),style:t}),M.jsx("input",{placeholder:"Address line 2 (optional)",value:e.address_line2||"",onChange:_=>n({...e,address_line2:_.target.value}),style:t}),M.jsx("input",{placeholder:"City",value:e.city||"",onChange:_=>n({...e,city:_.target.value}),style:t}),M.jsx("input",{placeholder:"State",value:e.state||"",onChange:_=>n({...e,state:_.target.value}),style:t}),M.jsx("input",{placeholder:"Postal code",value:e.postal_code||"",onChange:_=>n({...e,postal_code:_.target.value}),style:t}),M.jsx("button",{onClick:f,disabled:u,style:{padding:12,fontSize:16,fontWeight:"bold",background:u?"#4a5568":"#3b82f6",color:"white",border:"none",borderRadius:6,cursor:u?"not-allowed":"pointer"},children:u?"Loading map...":"Preview Map Location"}),s&&M.jsx("div",{style:{height:300,marginTop:8},children:M.jsxs(Wy,{center:[s.lat,s.lng],zoom:15,style:{height:"100%",width:"100%"},children:[M.jsx(Zy,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),M.jsx(Hy,{position:[s.lat,s.lng],children:M.jsx(Vy,{children:"Claim Location"})})]})}),M.jsx("h4",{style:{color:"#e2e8f0",marginTop:16},children:"Appointment Schedule"}),M.jsxs("div",{style:{display:"grid",gap:8},children:[M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:"bold",color:"#e2e8f0"},children:"Appointment Start (Date & Time)"}),M.jsx("input",{type:"datetime-local",value:((p=e.appointment_start)==null?void 0:p.slice(0,16))||"",onChange:_=>n({...e,appointment_start:_.target.value?new Date(_.target.value).toISOString():void 0}),style:t})]}),M.jsxs("div",{children:[M.jsx("label",{style:{display:"block",marginBottom:4,fontWeight:"bold",color:"#e2e8f0"},children:"Appointment End (Date & Time)"}),M.jsx("input",{type:"datetime-local",value:((v=e.appointment_end)==null?void 0:v.slice(0,16))||"",onChange:_=>n({...e,appointment_end:_.target.value?new Date(_.target.value).toISOString():void 0}),style:t})]})]}),M.jsx("h4",{style:{color:"#e2e8f0",marginTop:16},children:"Assignment"}),M.jsxs("select",{value:e.assigned_to||"",onChange:_=>n({...e,assigned_to:_.target.value||null}),style:{padding:12,fontSize:16,border:"1px solid #4a5568",borderRadius:6,background:"#2d3748",color:"#e2e8f0"},children:[M.jsx("option",{value:"",children:"Unassigned"}),r==null?void 0:r.map(_=>M.jsxs("option",{value:_.user_id,children:[_.full_name||_.user_id," (",_.role,")"]},_.user_id))]}),M.jsx("button",{onClick:()=>m(!1),style:{marginTop:16,padding:12,fontSize:16,fontWeight:"bold",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:6,cursor:"pointer"},children:"Save Claim"})]})})}class nP{constructor(e){ls(this,"supabaseClient");ls(this,"currentUser",null);ls(this,"userProfile",null);ls(this,"initialized",!1);this.supabaseClient=e}get isAdmin(){var e;return this.initialized&&((e=this.userProfile)==null?void 0:e.role)==="admin"}get isInitialized(){return this.initialized}async initialize(){try{console.log("Initializing React Supabase authorization...");const{data:{session:e},error:n}=await this.supabaseClient.auth.getSession();if(n)return console.error("Session error:",n),{success:!1,error:"Authentication failed"};if(!e)return console.warn("No active session"),{success:!1,error:"No active session"};this.currentUser=e.user,console.log("Current user ID:",this.currentUser.id);const{data:r,error:o}=await this.supabaseClient.from("profiles").select("user_id, role, full_name").eq("user_id",this.currentUser.id).single();return o?(console.error("Profile fetch error:",o),{success:!1,error:"Unable to load user profile"}):r?(this.userProfile=r,this.initialized=!0,console.log("React authorization initialized:",{userId:this.currentUser.id,role:r.role,isAdmin:this.isAdmin,fullName:r.full_name}),{success:!0}):(console.error("No profile found for user"),{success:!1,error:"User profile not found"})}catch(e){return console.error("Authorization initialization failed:",e),{success:!1,error:e.message}}}scopedClaimsQuery(e){var n;if(!this.initialized)throw new Error("Authorization not initialized. Call initialize() first.");return console.log("Applying query scoping:",{isAdmin:this.isAdmin,userId:(n=this.currentUser)==null?void 0:n.id}),this.isAdmin?(console.log("Admin access: returning unfiltered query"),e):(console.log("Appraiser access: filtering by assigned_to =",this.currentUser.id),e.eq("assigned_to",this.currentUser.id))}canAccessClaim(e){return this.initialized?this.isAdmin?!0:e.assigned_to===this.currentUser.id:!1}getCurrentUser(){return this.initialized?{id:this.currentUser.id,email:this.currentUser.email,role:this.userProfile.role,fullName:this.userProfile.full_name,isAdmin:this.isAdmin}:null}handleAuthError(e){var n,r;return console.error("Authentication error:",e),(n=e.message)!=null&&n.includes("JWT")||e.code==="PGRST301"||(r=e.message)!=null&&r.includes("401")?{shouldRedirect:!0,message:"Your session has expired. Please log in again."}:e.code==="PGRST116"?{shouldRedirect:!1,message:"Access denied. You do not have permission to view this data."}:{shouldRedirect:!1,message:`Error: ${e.message}`}}}let Ps=null;async function qy(t){Ps||(Ps=new nP(t));const e=await Ps.initialize();if(!e.success)throw new Error(e.error);return Ps}function Yl(){return Ps}function rP(){const[t]=hS(),[e,n]=J.useState([]),[r,o]=J.useState(!0),[s,l]=J.useState(null),[u,d]=J.useState(!1),[h,f]=J.useState(t.get("archived")==="true"),m=async()=>{try{console.log("Initializing authorization for Claims component..."),await qy(Ve),d(!0),console.log("Authorization initialized successfully")}catch(v){console.error("Authorization initialization failed:",v),l(v.message),o(!1)}},p=async()=>{if(!u){console.log("Authorization not ready, skipping load");return}try{o(!0),l(null);const v=Yl();if(!v||!v.isInitialized)throw new Error("Authorization not properly initialized");const _=v.getCurrentUser();console.log(`Loading claims for ${_==null?void 0:_.role}: ${_==null?void 0:_.fullName}`);let b=Ve.from("claims").select("id,claim_number,customer_name,status,vin,vehicle_year,vehicle_make,vehicle_model,assigned_to,appointment_start,appointment_end").order("created_at",{ascending:!1});b=v.scopedClaimsQuery(b),h?b=b.eq("status","COMPLETED"):b=b.or("status.is.null,status.in.(SCHEDULED,IN_PROGRESS)");const{data:T,error:w}=await b;if(w){console.error("Error loading claims:",w);const x=v.handleAuthError(w);if(x.shouldRedirect){l(`${x.message} Redirecting to login...`),setTimeout(()=>{window.location.href="/CipherDispatch/"},2e3);return}throw new Error(x.message)}console.log(`Loaded ${(T==null?void 0:T.length)||0} claims for ${_==null?void 0:_.role}`),n(T||[])}catch(v){console.error("Error in load function:",v),l(v.message)}finally{o(!1)}};return J.useEffect(()=>{m()},[]),J.useEffect(()=>{if(u){p();const v=Yl();if(v!=null&&v.isInitialized){const _=Ve.channel("claims-list").on("postgres_changes",{event:"*",schema:"public",table:"claims"},()=>{console.log("Real-time update received, reloading claims..."),p()}).subscribe();return()=>{Ve.removeChannel(_)}}}},[h,u]),r?M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16,display:"flex",alignItems:"center",justifyContent:"center"},children:M.jsx("div",{style:{color:"#e2e8f0",fontSize:"18px"},children:"Loading claims..."})}):s?M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16,display:"flex",alignItems:"center",justifyContent:"center"},children:M.jsxs("div",{style:{color:"#ef4444",fontSize:"18px",textAlign:"center",background:"#2d3748",padding:"24px",borderRadius:"8px",border:"2px solid #ef4444"},children:[M.jsx("h3",{children:"Unable to load claims"}),M.jsx("p",{children:s}),M.jsx("button",{onClick:()=>window.location.reload(),style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",marginTop:"12px"},children:"Retry"})]})}):M.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16},children:[M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[M.jsx(yn,{to:"/",style:{padding:"8px 16px",background:"#4a5568",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:" Home"}),M.jsx("h3",{style:{margin:0,color:"#e2e8f0"},children:h?"Archived Claims":"Active Claims"})]}),M.jsxs("div",{style:{display:"flex",gap:8},children:[M.jsx("button",{onClick:()=>f(!h),style:{padding:"8px 16px",background:h?"#4a5568":"#f59e0b",color:"white",border:"none",borderRadius:4,fontWeight:"bold",cursor:"pointer"},children:h?" View Active Claims":" View Archived"}),M.jsx(yn,{to:"/admin/claims/new",style:{padding:"8px 16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:"+ New Claim"})]})]}),M.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:[e.map(v=>M.jsxs(yn,{to:`/claim/${v.id}`,style:{border:"1px solid #4a5568",borderRadius:8,padding:16,background:"#2d3748",boxShadow:"0 2px 4px rgba(0,0,0,0.5)",textDecoration:"none",color:"#e2e8f0",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseOver:_=>{_.currentTarget.style.transform="translateY(-4px)",_.currentTarget.style.boxShadow="0 6px 12px rgba(0,0,0,0.7)"},onMouseOut:_=>{_.currentTarget.style.transform="translateY(0)",_.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.5)"},children:[M.jsxs("div",{style:{marginBottom:12},children:[M.jsxs("div",{style:{fontSize:18,fontWeight:"bold",marginBottom:8,color:"#e2e8f0"},children:["#",v.claim_number]}),M.jsx("div",{style:{display:"inline-block",padding:"4px 12px",borderRadius:4,fontSize:11,fontWeight:"bold",background:v.status==="COMPLETED"?"#4CAF50":v.status==="IN_PROGRESS"?"#FF9800":v.status==="SCHEDULED"?"#2196F3":"#9E9E9E",color:"white"},children:v.status})]}),M.jsx("div",{style:{fontSize:14,marginBottom:12,paddingBottom:12,borderBottom:"1px solid #4a5568"},children:M.jsxs("div",{style:{color:"#a0aec0",marginBottom:4},children:[M.jsx("strong",{children:"Customer:"})," ",v.customer_name]})}),M.jsxs("div",{style:{fontSize:13,marginBottom:12},children:[M.jsx("div",{style:{color:"#e2e8f0",fontWeight:"bold",marginBottom:6},children:" Appointment"}),v.appointment_start?M.jsxs("div",{style:{color:"#a0aec0",fontSize:12},children:[M.jsx("strong",{children:"Start:"})," ",new Date(v.appointment_start).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})]}):M.jsx("div",{style:{color:"#718096",fontSize:12,fontStyle:"italic"},children:"No appointment scheduled"})]}),M.jsxs("div",{style:{fontSize:13,marginBottom:12},children:[M.jsx("div",{style:{color:"#e2e8f0",fontWeight:"bold",marginBottom:6},children:" Vehicle Info"}),v.vin&&M.jsxs("div",{style:{color:"#a0aec0",fontSize:12,marginBottom:2},children:[M.jsx("strong",{children:"VIN:"})," ",v.vin.substring(0,10),"..."]}),v.vehicle_year||v.vehicle_make||v.vehicle_model?M.jsxs("div",{style:{color:"#a0aec0",fontSize:12},children:[v.vehicle_year&&`${v.vehicle_year} `,v.vehicle_make&&`${v.vehicle_make} `,v.vehicle_model&&v.vehicle_model]}):M.jsx("div",{style:{color:"#718096",fontSize:12,fontStyle:"italic"},children:"No vehicle info"})]}),M.jsx("div",{style:{fontSize:13,paddingTop:12,borderTop:"1px solid #4a5568"},children:M.jsxs("div",{style:{color:"#a0aec0"},children:[M.jsx("strong",{children:" Assigned:"})," ",v.assigned_to?"Yes":"Unassigned"]})})]},v.id)),e.length===0&&M.jsx("div",{style:{textAlign:"center",padding:48,color:"#a0aec0"},children:"No claims yet. Create your first claim!"})]})]})}function iP(){const[t,e]=J.useState([]),[n,r]=J.useState(!0),[o,s]=J.useState(null),[l,u]=J.useState(!1),[d,h]=J.useState(!1),f=async()=>{try{console.log("Initializing authorization for MyClaims component..."),await qy(Ve),u(!0),console.log("Authorization initialized successfully")}catch(p){console.error("Authorization initialization failed:",p),s(p.message),r(!1)}},m=async()=>{if(!l){console.log("Authorization not ready, skipping load");return}try{r(!0),s(null);const p=Yl();if(!p||!p.isInitialized)throw new Error("Authorization not properly initialized");const v=p.getCurrentUser();console.log(`Loading my claims for ${v==null?void 0:v.role}: ${v==null?void 0:v.fullName}`);let _=Ve.from("claims").select("id,claim_number,customer_name,status,appointment_start,vin,vehicle_year,vehicle_make,vehicle_model");_=p.scopedClaimsQuery(_),d?_=_.eq("status","COMPLETED"):_=_.or("status.is.null,status.in.(SCHEDULED,IN_PROGRESS)"),_=_.order("appointment_start");const{data:b,error:T}=await _;if(T){console.error("Error loading my claims:",T);const w=p.handleAuthError(T);if(w.shouldRedirect){s(`${w.message} Redirecting to login...`),setTimeout(()=>{window.location.href="/CipherDispatch/"},2e3);return}throw new Error(w.message)}console.log(`Loaded ${(b==null?void 0:b.length)||0} my claims for ${v==null?void 0:v.role}`),e(b||[])}catch(p){console.error("Error in load function:",p),s(p.message)}finally{r(!1)}};return J.useEffect(()=>{f()},[]),J.useEffect(()=>{if(l){m();const p=Yl();if(p!=null&&p.isInitialized){const v=Ve.channel("my-claims").on("postgres_changes",{event:"*",schema:"public",table:"claims"},()=>{console.log("Real-time update received, reloading my claims..."),m()}).subscribe();return()=>{Ve.removeChannel(v)}}}},[d,l]),n?M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16,display:"flex",alignItems:"center",justifyContent:"center"},children:M.jsx("div",{style:{color:"#e2e8f0",fontSize:"18px"},children:"Loading your claims..."})}):o?M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16,display:"flex",alignItems:"center",justifyContent:"center"},children:M.jsxs("div",{style:{color:"#ef4444",fontSize:"18px",textAlign:"center",background:"#2d3748",padding:"24px",borderRadius:"8px",border:"2px solid #ef4444"},children:[M.jsx("h3",{children:"Unable to load your claims"}),M.jsx("p",{children:o}),M.jsx("button",{onClick:()=>window.location.reload(),style:{background:"#ef4444",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",marginTop:"12px"},children:"Retry"})]})}):M.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16},children:[M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[M.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[M.jsx(yn,{to:"/",style:{padding:"8px 16px",background:"#4a5568",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:" Home"}),M.jsx("h3",{style:{margin:0,color:"#e2e8f0"},children:d?"My Completed Claims":"My Active Claims"})]}),M.jsx("button",{onClick:()=>h(!d),style:{padding:"8px 16px",background:d?"#4a5568":"#10b981",color:"white",border:"none",borderRadius:4,fontWeight:"bold",cursor:"pointer"},children:d?" View Active Claims":" View Completed"})]}),M.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:[t.map(p=>M.jsxs(yn,{to:`/claim/${p.id}`,style:{border:"1px solid #4a5568",borderRadius:8,padding:16,background:"#2d3748",boxShadow:"0 2px 4px rgba(0,0,0,0.5)",textDecoration:"none",color:"#e2e8f0",transition:"transform 0.2s, box-shadow 0.2s",cursor:"pointer"},onMouseOver:v=>{v.currentTarget.style.transform="translateY(-4px)",v.currentTarget.style.boxShadow="0 6px 12px rgba(0,0,0,0.7)"},onMouseOut:v=>{v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.5)"},children:[M.jsxs("div",{style:{marginBottom:12},children:[M.jsxs("div",{style:{fontSize:18,fontWeight:"bold",marginBottom:8,color:"#e2e8f0"},children:["#",p.claim_number]}),M.jsx("div",{style:{display:"inline-block",padding:"4px 12px",borderRadius:4,fontSize:11,fontWeight:"bold",background:p.status==="COMPLETED"?"#4CAF50":p.status==="IN_PROGRESS"?"#FF9800":p.status==="SCHEDULED"?"#2196F3":"#9E9E9E",color:"white"},children:p.status})]}),M.jsx("div",{style:{fontSize:14,marginBottom:12,paddingBottom:12,borderBottom:"1px solid #4a5568"},children:M.jsxs("div",{style:{color:"#a0aec0",marginBottom:4},children:[M.jsx("strong",{children:"Customer:"})," ",p.customer_name]})}),M.jsxs("div",{style:{fontSize:13,marginBottom:12},children:[M.jsx("div",{style:{color:"#e2e8f0",fontWeight:"bold",marginBottom:6},children:" Appointment"}),p.appointment_start?M.jsx("div",{style:{color:"#a0aec0",fontSize:12},children:new Date(p.appointment_start).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}):M.jsx("div",{style:{color:"#718096",fontSize:12,fontStyle:"italic"},children:"No appointment scheduled"})]}),M.jsxs("div",{style:{fontSize:13},children:[M.jsx("div",{style:{color:"#e2e8f0",fontWeight:"bold",marginBottom:6},children:" Vehicle"}),p.vehicle_year||p.vehicle_make||p.vehicle_model?M.jsxs("div",{style:{color:"#a0aec0",fontSize:12},children:[p.vehicle_year&&`${p.vehicle_year} `,p.vehicle_make&&`${p.vehicle_make} `,p.vehicle_model&&p.vehicle_model]}):M.jsx("div",{style:{color:"#718096",fontSize:12,fontStyle:"italic"},children:"No vehicle info"})]})]},p.id)),t.length===0&&M.jsx("div",{style:{textAlign:"center",padding:48,color:"#a0aec0"},children:"No claims assigned to you yet."})]})]})}function oP(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Ky(t,e){return new Promise(function(n,r){let o;return sP(t).then(function(s){try{return o=s,n(new Blob([e.slice(0,2),o,e.slice(2)],{type:"image/jpeg"}))}catch(l){return r(l)}},r)})}const sP=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:o}})=>{const s=new DataView(o);let l=0;if(s.getUint16(l)!==65496)return n("not a valid JPEG");for(l+=2;;){const u=s.getUint16(l);if(u===65498)break;const d=s.getUint16(l+2);if(u===65505&&s.getUint32(l+4)===1165519206){const h=l+10;let f;switch(s.getUint16(h)){case 18761:f=!0;break;case 19789:f=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(h+2,f)!==42)return n("TIFF header contains invalid version");const m=s.getUint32(h+4,f),p=h+m+2+12*s.getUint16(h+m,f);for(let v=h+m+2;v<p;v+=12)if(s.getUint16(v,f)==274){if(s.getUint16(v+2,f)!==3)return n("Orientation data type is invalid");if(s.getUint32(v+4,f)!==1)return n("Orientation data count is invalid");s.setUint16(v+8,1,f);break}return e(o.slice(l,l+2+d))}l+=2+d}return e(new Blob)}),r.readAsArrayBuffer(t)});var Xl={},aP={get exports(){return Xl},set exports(t){Xl=t}};(function(t){var e,n,r={};aP.exports=r,r.parse=function(o,s){for(var l=r.bin.readUshort,u=r.bin.readUint,d=0,h={},f=new Uint8Array(o),m=f.length-4;u(f,m)!=101010256;)m--;d=m,d+=4;var p=l(f,d+=4);l(f,d+=2);var v=u(f,d+=2),_=u(f,d+=4);d+=4,d=_;for(var b=0;b<p;b++){u(f,d),d+=4,d+=4,d+=4,u(f,d+=4),v=u(f,d+=4);var T=u(f,d+=4),w=l(f,d+=4),x=l(f,d+2),S=l(f,d+4);d+=6;var A=u(f,d+=8);d+=4,d+=w+x+S,r._readLocal(f,A,h,v,T,s)}return h},r._readLocal=function(o,s,l,u,d,h){var f=r.bin.readUshort,m=r.bin.readUint;m(o,s),f(o,s+=4),f(o,s+=2);var p=f(o,s+=2);m(o,s+=2),m(o,s+=4),s+=4;var v=f(o,s+=8),_=f(o,s+=2);s+=2;var b=r.bin.readUTF8(o,s,v);if(s+=v,s+=_,h)l[b]={size:d,csize:u};else{var T=new Uint8Array(o.buffer,s);if(p==0)l[b]=new Uint8Array(T.buffer.slice(s,s+u));else{if(p!=8)throw"unknown compression method: "+p;var w=new Uint8Array(d);r.inflateRaw(T,w),l[b]=w}}},r.inflateRaw=function(o,s){return r.F.inflate(o,s)},r.inflate=function(o,s){return o[0],o[1],r.inflateRaw(new Uint8Array(o.buffer,o.byteOffset+2,o.length-6),s)},r.deflate=function(o,s){s==null&&(s={level:6});var l=0,u=new Uint8Array(50+Math.floor(1.1*o.length));u[l]=120,u[l+1]=156,l+=2,l=r.F.deflateRaw(o,u,l,s.level);var d=r.adler(o,0,o.length);return u[l+0]=d>>>24&255,u[l+1]=d>>>16&255,u[l+2]=d>>>8&255,u[l+3]=d>>>0&255,new Uint8Array(u.buffer,0,l+4)},r.deflateRaw=function(o,s){s==null&&(s={level:6});var l=new Uint8Array(50+Math.floor(1.1*o.length)),u=r.F.deflateRaw(o,l,u,s.level);return new Uint8Array(l.buffer,0,u)},r.encode=function(o,s){s==null&&(s=!1);var l=0,u=r.bin.writeUint,d=r.bin.writeUshort,h={};for(var f in o){var m=!r._noNeed(f)&&!s,p=o[f],v=r.crc.crc(p,0,p.length);h[f]={cpr:m,usize:p.length,crc:v,file:m?r.deflateRaw(p):p}}for(var f in h)l+=h[f].file.length+30+46+2*r.bin.sizeUTF8(f);l+=22;var _=new Uint8Array(l),b=0,T=[];for(var f in h){var w=h[f];T.push(b),b=r._writeHeader(_,b,f,w,0)}var x=0,S=b;for(var f in h)w=h[f],T.push(b),b=r._writeHeader(_,b,f,w,1,T[x++]);var A=b-S;return u(_,b,101010256),b+=4,d(_,b+=4,x),d(_,b+=2,x),u(_,b+=2,A),u(_,b+=4,S),b+=4,b+=2,_.buffer},r._noNeed=function(o){var s=o.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(o,s,l,u,d,h){var f=r.bin.writeUint,m=r.bin.writeUshort,p=u.file;return f(o,s,d==0?67324752:33639248),s+=4,d==1&&(s+=2),m(o,s,20),m(o,s+=2,0),m(o,s+=2,u.cpr?8:0),f(o,s+=2,0),f(o,s+=4,u.crc),f(o,s+=4,p.length),f(o,s+=4,u.usize),m(o,s+=4,r.bin.sizeUTF8(l)),m(o,s+=2,0),s+=2,d==1&&(s+=2,s+=2,f(o,s+=6,h),s+=4),s+=r.bin.writeUTF8(o,s,l),d==0&&(o.set(p,s),s+=p.length),s},r.crc={table:function(){for(var o=new Uint32Array(256),s=0;s<256;s++){for(var l=s,u=0;u<8;u++)1&l?l=3988292384^l>>>1:l>>>=1;o[s]=l}return o}(),update:function(o,s,l,u){for(var d=0;d<u;d++)o=r.crc.table[255&(o^s[l+d])]^o>>>8;return o},crc:function(o,s,l){return 4294967295^r.crc.update(4294967295,o,s,l)}},r.adler=function(o,s,l){for(var u=1,d=0,h=s,f=s+l;h<f;){for(var m=Math.min(h+5552,f);h<m;)d+=u+=o[h++];u%=65521,d%=65521}return d<<16|u},r.bin={readUshort:function(o,s){return o[s]|o[s+1]<<8},writeUshort:function(o,s,l){o[s]=255&l,o[s+1]=l>>8&255},readUint:function(o,s){return 16777216*o[s+3]+(o[s+2]<<16|o[s+1]<<8|o[s])},writeUint:function(o,s,l){o[s]=255&l,o[s+1]=l>>8&255,o[s+2]=l>>16&255,o[s+3]=l>>24&255},readASCII:function(o,s,l){for(var u="",d=0;d<l;d++)u+=String.fromCharCode(o[s+d]);return u},writeASCII:function(o,s,l){for(var u=0;u<l.length;u++)o[s+u]=l.charCodeAt(u)},pad:function(o){return o.length<2?"0"+o:o},readUTF8:function(o,s,l){for(var u,d="",h=0;h<l;h++)d+="%"+r.bin.pad(o[s+h].toString(16));try{u=decodeURIComponent(d)}catch{return r.bin.readASCII(o,s,l)}return u},writeUTF8:function(o,s,l){for(var u=l.length,d=0,h=0;h<u;h++){var f=l.charCodeAt(h);if(!(4294967168&f))o[s+d]=f,d++;else if(!(4294965248&f))o[s+d]=192|f>>6,o[s+d+1]=128|f>>0&63,d+=2;else if(!(4294901760&f))o[s+d]=224|f>>12,o[s+d+1]=128|f>>6&63,o[s+d+2]=128|f>>0&63,d+=3;else{if(4292870144&f)throw"e";o[s+d]=240|f>>18,o[s+d+1]=128|f>>12&63,o[s+d+2]=128|f>>6&63,o[s+d+3]=128|f>>0&63,d+=4}}return d},sizeUTF8:function(o){for(var s=o.length,l=0,u=0;u<s;u++){var d=o.charCodeAt(u);if(!(4294967168&d))l++;else if(!(4294965248&d))l+=2;else if(!(4294901760&d))l+=3;else{if(4292870144&d)throw"e";l+=4}}return l}},r.F={},r.F.deflateRaw=function(o,s,l,u){var d=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],h=r.F.U,f=r.F._goodIndex;r.F._hash;var m=r.F._putsE,p=0,v=l<<3,_=0,b=o.length;if(u==0){for(;p<b;)m(s,v,p+(U=Math.min(65535,b-p))==b?1:0),v=r.F._copyExact(o,p,U,s,v+8),p+=U;return v>>>3}var T=h.lits,w=h.strt,x=h.prev,S=0,A=0,N=0,O=0,P=0,k=0;for(b>2&&(w[k=r.F._hash(o,0)]=0),p=0;p<b;p++){if(P=k,p+1<b-2){k=r.F._hash(o,p+1);var C=p+1&32767;x[C]=w[k],w[k]=C}if(_<=p){(S>14e3||A>26697)&&b-p>100&&(_<p&&(T[S]=p-_,S+=2,_=p),v=r.F._writeBlock(p==b-1||_==b?1:0,T,S,O,o,N,p-N,s,v),S=A=O=0,N=p);var j=0;p<b-2&&(j=r.F._bestMatch(o,p,x,P,Math.min(d[2],b-p),d[3]));var U=j>>>16,B=65535&j;if(j!=0){B=65535&j;var V=f(U=j>>>16,h.of0);h.lhst[257+V]++;var F=f(B,h.df0);h.dhst[F]++,O+=h.exb[V]+h.dxb[F],T[S]=U<<23|p-_,T[S+1]=B<<16|V<<8|F,S+=2,_=p+U}else h.lhst[o[p]]++;A++}}for(N==p&&o.length!=0||(_<p&&(T[S]=p-_,S+=2,_=p),v=r.F._writeBlock(1,T,S,O,o,N,p-N,s,v),S=0,A=0,S=A=O=0,N=p);7&v;)v++;return v>>>3},r.F._bestMatch=function(o,s,l,u,d,h){var f=32767&s,m=l[f],p=f-m+32768&32767;if(m==f||u!=r.F._hash(o,s-p))return 0;for(var v=0,_=0,b=Math.min(32767,s);p<=b&&--h!=0&&m!=f;){if(v==0||o[s+v]==o[s+v-p]){var T=r.F._howLong(o,s,p);if(T>v){if(_=p,(v=T)>=d)break;p+2<T&&(T=p+2);for(var w=0,x=0;x<T-2;x++){var S=s-p+x+32768&32767,A=S-l[S]+32768&32767;A>w&&(w=A,m=S)}}}p+=(f=m)-(m=l[f])+32768&32767}return v<<16|_},r.F._howLong=function(o,s,l){if(o[s]!=o[s-l]||o[s+1]!=o[s+1-l]||o[s+2]!=o[s+2-l])return 0;var u=s,d=Math.min(o.length,s+258);for(s+=3;s<d&&o[s]==o[s-l];)s++;return s-u},r.F._hash=function(o,s){return(o[s]<<8|o[s+1])+(o[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(o,s,l,u,d,h,f,m,p){var v,_,b,T,w,x,S,A,N,O=r.F.U,P=r.F._putsF,k=r.F._putsE;O.lhst[256]++,_=(v=r.F.getTrees())[0],b=v[1],T=v[2],w=v[3],x=v[4],S=v[5],A=v[6],N=v[7];var C=32+(p+3&7?8-(p+3&7):0)+(f<<3),j=u+r.F.contSize(O.fltree,O.lhst)+r.F.contSize(O.fdtree,O.dhst),U=u+r.F.contSize(O.ltree,O.lhst)+r.F.contSize(O.dtree,O.dhst);U+=14+3*S+r.F.contSize(O.itree,O.ihst)+(2*O.ihst[16]+3*O.ihst[17]+7*O.ihst[18]);for(var B=0;B<286;B++)O.lhst[B]=0;for(B=0;B<30;B++)O.dhst[B]=0;for(B=0;B<19;B++)O.ihst[B]=0;var V=C<j&&C<U?0:j<U?1:2;if(P(m,p,o),P(m,p+1,V),p+=3,V==0){for(;7&p;)p++;p=r.F._copyExact(d,h,f,m,p)}else{var F,G;if(V==1&&(F=O.fltree,G=O.fdtree),V==2){r.F.makeCodes(O.ltree,_),r.F.revCodes(O.ltree,_),r.F.makeCodes(O.dtree,b),r.F.revCodes(O.dtree,b),r.F.makeCodes(O.itree,T),r.F.revCodes(O.itree,T),F=O.ltree,G=O.dtree,k(m,p,w-257),k(m,p+=5,x-1),k(m,p+=5,S-4),p+=4;for(var I=0;I<S;I++)k(m,p+3*I,O.itree[1+(O.ordr[I]<<1)]);p+=3*S,p=r.F._codeTiny(A,O.itree,m,p),p=r.F._codeTiny(N,O.itree,m,p)}for(var R=h,z=0;z<l;z+=2){for(var H=s[z],W=H>>>23,ne=R+(8388607&H);R<ne;)p=r.F._writeLit(d[R++],F,m,p);if(W!=0){var ee=s[z+1],ae=ee>>16,te=ee>>8&255,K=255&ee;k(m,p=r.F._writeLit(257+te,F,m,p),W-O.of0[te]),p+=O.exb[te],P(m,p=r.F._writeLit(K,G,m,p),ae-O.df0[K]),p+=O.dxb[K],R+=W}}p=r.F._writeLit(256,F,m,p)}return p},r.F._copyExact=function(o,s,l,u,d){var h=d>>>3;return u[h]=l,u[h+1]=l>>>8,u[h+2]=255-u[h],u[h+3]=255-u[h+1],h+=4,u.set(new Uint8Array(o.buffer,s,l),h),d+(l+4<<3)},r.F.getTrees=function(){for(var o=r.F.U,s=r.F._hufTree(o.lhst,o.ltree,15),l=r.F._hufTree(o.dhst,o.dtree,15),u=[],d=r.F._lenCodes(o.ltree,u),h=[],f=r.F._lenCodes(o.dtree,h),m=0;m<u.length;m+=2)o.ihst[u[m]]++;for(m=0;m<h.length;m+=2)o.ihst[h[m]]++;for(var p=r.F._hufTree(o.ihst,o.itree,7),v=19;v>4&&o.itree[1+(o.ordr[v-1]<<1)]==0;)v--;return[s,l,p,d,f,v,u,h]},r.F.getSecond=function(o){for(var s=[],l=0;l<o.length;l+=2)s.push(o[l+1]);return s},r.F.nonZero=function(o){for(var s="",l=0;l<o.length;l+=2)o[l+1]!=0&&(s+=(l>>1)+",");return s},r.F.contSize=function(o,s){for(var l=0,u=0;u<s.length;u++)l+=s[u]*o[1+(u<<1)];return l},r.F._codeTiny=function(o,s,l,u){for(var d=0;d<o.length;d+=2){var h=o[d],f=o[d+1];u=r.F._writeLit(h,s,l,u);var m=h==16?2:h==17?3:7;h>15&&(r.F._putsE(l,u,f,m),u+=m)}return u},r.F._lenCodes=function(o,s){for(var l=o.length;l!=2&&o[l-1]==0;)l-=2;for(var u=0;u<l;u+=2){var d=o[u+1],h=u+3<l?o[u+3]:-1,f=u+5<l?o[u+5]:-1,m=u==0?-1:o[u-1];if(d==0&&h==d&&f==d){for(var p=u+5;p+2<l&&o[p+2]==d;)p+=2;(v=Math.min(p+1-u>>>1,138))<11?s.push(17,v-3):s.push(18,v-11),u+=2*v-2}else if(d==m&&h==d&&f==d){for(p=u+5;p+2<l&&o[p+2]==d;)p+=2;var v=Math.min(p+1-u>>>1,6);s.push(16,v-3),u+=2*v-2}else s.push(d,0)}return l>>>1},r.F._hufTree=function(o,s,l){var u=[],d=o.length,h=s.length,f=0;for(f=0;f<h;f+=2)s[f]=0,s[f+1]=0;for(f=0;f<d;f++)o[f]!=0&&u.push({lit:f,f:o[f]});var m=u.length,p=u.slice(0);if(m==0)return 0;if(m==1){var v=u[0].lit;return p=v==0?1:0,s[1+(v<<1)]=1,s[1+(p<<1)]=1,1}u.sort(function(A,N){return A.f-N.f});var _=u[0],b=u[1],T=0,w=1,x=2;for(u[0]={lit:-1,f:_.f+b.f,l:_,r:b,d:0};w!=m-1;)_=T!=w&&(x==m||u[T].f<u[x].f)?u[T++]:u[x++],b=T!=w&&(x==m||u[T].f<u[x].f)?u[T++]:u[x++],u[w++]={lit:-1,f:_.f+b.f,l:_,r:b};var S=r.F.setDepth(u[w-1],0);for(S>l&&(r.F.restrictDepth(p,l,S),S=l),f=0;f<m;f++)s[1+(p[f].lit<<1)]=p[f].d;return S},r.F.setDepth=function(o,s){return o.lit!=-1?(o.d=s,s):Math.max(r.F.setDepth(o.l,s+1),r.F.setDepth(o.r,s+1))},r.F.restrictDepth=function(o,s,l){var u=0,d=1<<l-s,h=0;for(o.sort(function(m,p){return p.d==m.d?m.f-p.f:p.d-m.d}),u=0;u<o.length&&o[u].d>s;u++){var f=o[u].d;o[u].d=s,h+=d-(1<<l-f)}for(h>>>=l-s;h>0;)(f=o[u].d)<s?(o[u].d++,h-=1<<s-f-1):u++;for(;u>=0;u--)o[u].d==s&&h<0&&(o[u].d--,h++);h!=0&&console.log("debt left")},r.F._goodIndex=function(o,s){var l=0;return s[16|l]<=o&&(l|=16),s[8|l]<=o&&(l|=8),s[4|l]<=o&&(l|=4),s[2|l]<=o&&(l|=2),s[1|l]<=o&&(l|=1),l},r.F._writeLit=function(o,s,l,u){return r.F._putsF(l,u,s[o<<1]),u+s[1+(o<<1)]},r.F.inflate=function(o,s){var l=Uint8Array;if(o[0]==3&&o[1]==0)return s||new l(0);var u=r.F,d=u._bitsF,h=u._bitsE,f=u._decodeTiny,m=u.makeCodes,p=u.codes2map,v=u._get17,_=u.U,b=s==null;b&&(s=new l(o.length>>>2<<3));for(var T,w,x=0,S=0,A=0,N=0,O=0,P=0,k=0,C=0,j=0;x==0;)if(x=d(o,j,1),S=d(o,j+1,2),j+=3,S!=0){if(b&&(s=r.F._check(s,C+(1<<17))),S==1&&(T=_.flmap,w=_.fdmap,P=511,k=31),S==2){A=h(o,j,5)+257,N=h(o,j+5,5)+1,O=h(o,j+10,4)+4,j+=14;for(var U=0;U<38;U+=2)_.itree[U]=0,_.itree[U+1]=0;var B=1;for(U=0;U<O;U++){var V=h(o,j+3*U,3);_.itree[1+(_.ordr[U]<<1)]=V,V>B&&(B=V)}j+=3*O,m(_.itree,B),p(_.itree,B,_.imap),T=_.lmap,w=_.dmap,j=f(_.imap,(1<<B)-1,A+N,o,j,_.ttree);var F=u._copyOut(_.ttree,0,A,_.ltree);P=(1<<F)-1;var G=u._copyOut(_.ttree,A,N,_.dtree);k=(1<<G)-1,m(_.ltree,F),p(_.ltree,F,T),m(_.dtree,G),p(_.dtree,G,w)}for(;;){var I=T[v(o,j)&P];j+=15&I;var R=I>>>4;if(!(R>>>8))s[C++]=R;else{if(R==256)break;var z=C+R-254;if(R>264){var H=_.ldef[R-257];z=C+(H>>>3)+h(o,j,7&H),j+=7&H}var W=w[v(o,j)&k];j+=15&W;var ne=W>>>4,ee=_.ddef[ne],ae=(ee>>>4)+d(o,j,15&ee);for(j+=15&ee,b&&(s=r.F._check(s,C+(1<<17)));C<z;)s[C]=s[C++-ae],s[C]=s[C++-ae],s[C]=s[C++-ae],s[C]=s[C++-ae];C=z}}}else{7&j&&(j+=8-(7&j));var te=4+(j>>>3),K=o[te-4]|o[te-3]<<8;b&&(s=r.F._check(s,C+K)),s.set(new l(o.buffer,o.byteOffset+te,K),C),j=te+K<<3,C+=K}return s.length==C?s:s.slice(0,C)},r.F._check=function(o,s){var l=o.length;if(s<=l)return o;var u=new Uint8Array(Math.max(l<<1,s));return u.set(o,0),u},r.F._decodeTiny=function(o,s,l,u,d,h){for(var f=r.F._bitsE,m=r.F._get17,p=0;p<l;){var v=o[m(u,d)&s];d+=15&v;var _=v>>>4;if(_<=15)h[p]=_,p++;else{var b=0,T=0;_==16?(T=3+f(u,d,2),d+=2,b=h[p-1]):_==17?(T=3+f(u,d,3),d+=3):_==18&&(T=11+f(u,d,7),d+=7);for(var w=p+T;p<w;)h[p]=b,p++}}return d},r.F._copyOut=function(o,s,l,u){for(var d=0,h=0,f=u.length>>>1;h<l;){var m=o[h+s];u[h<<1]=0,u[1+(h<<1)]=m,m>d&&(d=m),h++}for(;h<f;)u[h<<1]=0,u[1+(h<<1)]=0,h++;return d},r.F.makeCodes=function(o,s){for(var l,u,d,h,f=r.F.U,m=o.length,p=f.bl_count,v=0;v<=s;v++)p[v]=0;for(v=1;v<m;v+=2)p[o[v]]++;var _=f.next_code;for(l=0,p[0]=0,u=1;u<=s;u++)l=l+p[u-1]<<1,_[u]=l;for(d=0;d<m;d+=2)(h=o[d+1])!=0&&(o[d]=_[h],_[h]++)},r.F.codes2map=function(o,s,l){for(var u=o.length,d=r.F.U.rev15,h=0;h<u;h+=2)if(o[h+1]!=0)for(var f=h>>1,m=o[h+1],p=f<<4|m,v=s-m,_=o[h]<<v,b=_+(1<<v);_!=b;)l[d[_]>>>15-s]=p,_++},r.F.revCodes=function(o,s){for(var l=r.F.U.rev15,u=15-s,d=0;d<o.length;d+=2){var h=o[d]<<s-o[d+1];o[d]=l[h]>>>u}},r.F._putsE=function(o,s,l){l<<=7&s;var u=s>>>3;o[u]|=l,o[u+1]|=l>>>8},r.F._putsF=function(o,s,l){l<<=7&s;var u=s>>>3;o[u]|=l,o[u+1]|=l>>>8,o[u+2]|=l>>>16},r.F._bitsE=function(o,s,l){return(o[s>>>3]|o[1+(s>>>3)]<<8)>>>(7&s)&(1<<l)-1},r.F._bitsF=function(o,s,l){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)&(1<<l)-1},r.F._get17=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(o,s){return(o[s>>>3]|o[1+(s>>>3)]<<8|o[2+(s>>>3)]<<16|o[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var o=r.F.U,s=0;s<32768;s++){var l=s;l=(4278255360&(l=(4042322160&(l=(3435973836&(l=(2863311530&l)>>>1|(1431655765&l)<<1))>>>2|(858993459&l)<<2))>>>4|(252645135&l)<<4))>>>8|(16711935&l)<<8,o.rev15[s]=(l>>>16|l<<16)>>>17}function u(d,h,f){for(;h--!=0;)d.push(0,f)}for(s=0;s<32;s++)o.ldef[s]=o.of0[s]<<3|o.exb[s],o.ddef[s]=o.df0[s]<<4|o.dxb[s];u(o.fltree,144,8),u(o.fltree,112,9),u(o.fltree,24,7),u(o.fltree,8,8),r.F.makeCodes(o.fltree,9),r.F.codes2map(o.fltree,9,o.flmap),r.F.revCodes(o.fltree,9),u(o.fdtree,32,5),r.F.makeCodes(o.fdtree,5),r.F.codes2map(o.fdtree,5,o.fdmap),r.F.revCodes(o.fdtree,5),u(o.itree,19,0),u(o.ltree,286,0),u(o.dtree,30,0),u(o.ttree,320,0)}()})();var lP=oP({__proto__:null,default:Xl},[Xl]);const Hn=function(){var t={nextZero(f,m){for(;f[m]!=0;)m++;return m},readUshort:(f,m)=>f[m]<<8|f[m+1],writeUshort(f,m,p){f[m]=p>>8&255,f[m+1]=255&p},readUint:(f,m)=>16777216*f[m]+(f[m+1]<<16|f[m+2]<<8|f[m+3]),writeUint(f,m,p){f[m]=p>>24&255,f[m+1]=p>>16&255,f[m+2]=p>>8&255,f[m+3]=255&p},readASCII(f,m,p){let v="";for(let _=0;_<p;_++)v+=String.fromCharCode(f[m+_]);return v},writeASCII(f,m,p){for(let v=0;v<p.length;v++)f[m+v]=p.charCodeAt(v)},readBytes(f,m,p){const v=[];for(let _=0;_<p;_++)v.push(f[m+_]);return v},pad:f=>f.length<2?`0${f}`:f,readUTF8(f,m,p){let v,_="";for(let b=0;b<p;b++)_+=`%${t.pad(f[m+b].toString(16))}`;try{v=decodeURIComponent(_)}catch{return t.readASCII(f,m,p)}return v}};function e(f,m,p,v){const _=m*p,b=s(v),T=Math.ceil(m*b/8),w=new Uint8Array(4*_),x=new Uint32Array(w.buffer),{ctype:S}=v,{depth:A}=v,N=t.readUshort;if(S==6){const H=_<<2;if(A==8)for(var O=0;O<H;O+=4)w[O]=f[O],w[O+1]=f[O+1],w[O+2]=f[O+2],w[O+3]=f[O+3];if(A==16)for(O=0;O<H;O++)w[O]=f[O<<1]}else if(S==2){const H=v.tabs.tRNS;if(H==null){if(A==8)for(O=0;O<_;O++){var P=3*O;x[O]=255<<24|f[P+2]<<16|f[P+1]<<8|f[P]}if(A==16)for(O=0;O<_;O++)P=6*O,x[O]=255<<24|f[P+4]<<16|f[P+2]<<8|f[P]}else{var k=H[0];const W=H[1],ne=H[2];if(A==8)for(O=0;O<_;O++){var C=O<<2;P=3*O,x[O]=255<<24|f[P+2]<<16|f[P+1]<<8|f[P],f[P]==k&&f[P+1]==W&&f[P+2]==ne&&(w[C+3]=0)}if(A==16)for(O=0;O<_;O++)C=O<<2,P=6*O,x[O]=255<<24|f[P+4]<<16|f[P+2]<<8|f[P],N(f,P)==k&&N(f,P+2)==W&&N(f,P+4)==ne&&(w[C+3]=0)}}else if(S==3){const H=v.tabs.PLTE,W=v.tabs.tRNS,ne=W?W.length:0;if(A==1)for(var j=0;j<p;j++){var U=j*T,B=j*m;for(O=0;O<m;O++){C=B+O<<2;var V=3*(F=f[U+(O>>3)]>>7-((7&O)<<0)&1);w[C]=H[V],w[C+1]=H[V+1],w[C+2]=H[V+2],w[C+3]=F<ne?W[F]:255}}if(A==2)for(j=0;j<p;j++)for(U=j*T,B=j*m,O=0;O<m;O++)C=B+O<<2,V=3*(F=f[U+(O>>2)]>>6-((3&O)<<1)&3),w[C]=H[V],w[C+1]=H[V+1],w[C+2]=H[V+2],w[C+3]=F<ne?W[F]:255;if(A==4)for(j=0;j<p;j++)for(U=j*T,B=j*m,O=0;O<m;O++)C=B+O<<2,V=3*(F=f[U+(O>>1)]>>4-((1&O)<<2)&15),w[C]=H[V],w[C+1]=H[V+1],w[C+2]=H[V+2],w[C+3]=F<ne?W[F]:255;if(A==8)for(O=0;O<_;O++){var F;C=O<<2,V=3*(F=f[O]),w[C]=H[V],w[C+1]=H[V+1],w[C+2]=H[V+2],w[C+3]=F<ne?W[F]:255}}else if(S==4){if(A==8)for(O=0;O<_;O++){C=O<<2;var G=f[I=O<<1];w[C]=G,w[C+1]=G,w[C+2]=G,w[C+3]=f[I+1]}if(A==16)for(O=0;O<_;O++){var I;C=O<<2,G=f[I=O<<2],w[C]=G,w[C+1]=G,w[C+2]=G,w[C+3]=f[I+2]}}else if(S==0)for(k=v.tabs.tRNS?v.tabs.tRNS:-1,j=0;j<p;j++){const H=j*T,W=j*m;if(A==1)for(var R=0;R<m;R++){var z=(G=255*(f[H+(R>>>3)]>>>7-(7&R)&1))==255*k?0:255;x[W+R]=z<<24|G<<16|G<<8|G}else if(A==2)for(R=0;R<m;R++)z=(G=85*(f[H+(R>>>2)]>>>6-((3&R)<<1)&3))==85*k?0:255,x[W+R]=z<<24|G<<16|G<<8|G;else if(A==4)for(R=0;R<m;R++)z=(G=17*(f[H+(R>>>1)]>>>4-((1&R)<<2)&15))==17*k?0:255,x[W+R]=z<<24|G<<16|G<<8|G;else if(A==8)for(R=0;R<m;R++)z=(G=f[H+R])==k?0:255,x[W+R]=z<<24|G<<16|G<<8|G;else if(A==16)for(R=0;R<m;R++)G=f[H+(R<<1)],z=N(f,H+(R<<1))==k?0:255,x[W+R]=z<<24|G<<16|G<<8|G}return w}function n(f,m,p,v){const _=s(f),b=Math.ceil(p*_/8),T=new Uint8Array((b+1+f.interlace)*v);return m=f.tabs.CgBI?o(m,T):r(m,T),f.interlace==0?m=l(m,f,0,p,v):f.interlace==1&&(m=function(x,S){const A=S.width,N=S.height,O=s(S),P=O>>3,k=Math.ceil(A*O/8),C=new Uint8Array(N*k);let j=0;const U=[0,0,4,0,2,0,1],B=[0,4,0,2,0,1,0],V=[8,8,8,4,4,2,2],F=[8,8,4,4,2,2,1];let G=0;for(;G<7;){const R=V[G],z=F[G];let H=0,W=0,ne=U[G];for(;ne<N;)ne+=R,W++;let ee=B[G];for(;ee<A;)ee+=z,H++;const ae=Math.ceil(H*O/8);l(x,S,j,H,W);let te=0,K=U[G];for(;K<N;){let oe=B[G],xe=j+te*ae<<3;for(;oe<A;){var I;if(O==1&&(I=(I=x[xe>>3])>>7-(7&xe)&1,C[K*k+(oe>>3)]|=I<<7-((7&oe)<<0)),O==2&&(I=(I=x[xe>>3])>>6-(7&xe)&3,C[K*k+(oe>>2)]|=I<<6-((3&oe)<<1)),O==4&&(I=(I=x[xe>>3])>>4-(7&xe)&15,C[K*k+(oe>>1)]|=I<<4-((1&oe)<<2)),O>=8){const Ee=K*k+oe*P;for(let Re=0;Re<P;Re++)C[Ee+Re]=x[(xe>>3)+Re]}xe+=O,oe+=z}te++,K+=R}H*W!=0&&(j+=W*(1+ae)),G+=1}return C}(m,f)),m}function r(f,m){return o(new Uint8Array(f.buffer,2,f.length-6),m)}var o=function(){const f={H:{}};return f.H.N=function(m,p){const v=Uint8Array;let _,b,T=0,w=0,x=0,S=0,A=0,N=0,O=0,P=0,k=0;if(m[0]==3&&m[1]==0)return p||new v(0);const C=f.H,j=C.b,U=C.e,B=C.R,V=C.n,F=C.A,G=C.Z,I=C.m,R=p==null;for(R&&(p=new v(m.length>>>2<<5));T==0;)if(T=j(m,k,1),w=j(m,k+1,2),k+=3,w!=0){if(R&&(p=f.H.W(p,P+(1<<17))),w==1&&(_=I.J,b=I.h,N=511,O=31),w==2){x=U(m,k,5)+257,S=U(m,k+5,5)+1,A=U(m,k+10,4)+4,k+=14;let H=1;for(var z=0;z<38;z+=2)I.Q[z]=0,I.Q[z+1]=0;for(z=0;z<A;z++){const ee=U(m,k+3*z,3);I.Q[1+(I.X[z]<<1)]=ee,ee>H&&(H=ee)}k+=3*A,V(I.Q,H),F(I.Q,H,I.u),_=I.w,b=I.d,k=B(I.u,(1<<H)-1,x+S,m,k,I.v);const W=C.V(I.v,0,x,I.C);N=(1<<W)-1;const ne=C.V(I.v,x,S,I.D);O=(1<<ne)-1,V(I.C,W),F(I.C,W,_),V(I.D,ne),F(I.D,ne,b)}for(;;){const H=_[G(m,k)&N];k+=15&H;const W=H>>>4;if(!(W>>>8))p[P++]=W;else{if(W==256)break;{let ne=P+W-254;if(W>264){const oe=I.q[W-257];ne=P+(oe>>>3)+U(m,k,7&oe),k+=7&oe}const ee=b[G(m,k)&O];k+=15&ee;const ae=ee>>>4,te=I.c[ae],K=(te>>>4)+j(m,k,15&te);for(k+=15&te;P<ne;)p[P]=p[P++-K],p[P]=p[P++-K],p[P]=p[P++-K],p[P]=p[P++-K];P=ne}}}}else{7&k&&(k+=8-(7&k));const H=4+(k>>>3),W=m[H-4]|m[H-3]<<8;R&&(p=f.H.W(p,P+W)),p.set(new v(m.buffer,m.byteOffset+H,W),P),k=H+W<<3,P+=W}return p.length==P?p:p.slice(0,P)},f.H.W=function(m,p){const v=m.length;if(p<=v)return m;const _=new Uint8Array(v<<1);return _.set(m,0),_},f.H.R=function(m,p,v,_,b,T){const w=f.H.e,x=f.H.Z;let S=0;for(;S<v;){const A=m[x(_,b)&p];b+=15&A;const N=A>>>4;if(N<=15)T[S]=N,S++;else{let O=0,P=0;N==16?(P=3+w(_,b,2),b+=2,O=T[S-1]):N==17?(P=3+w(_,b,3),b+=3):N==18&&(P=11+w(_,b,7),b+=7);const k=S+P;for(;S<k;)T[S]=O,S++}}return b},f.H.V=function(m,p,v,_){let b=0,T=0;const w=_.length>>>1;for(;T<v;){const x=m[T+p];_[T<<1]=0,_[1+(T<<1)]=x,x>b&&(b=x),T++}for(;T<w;)_[T<<1]=0,_[1+(T<<1)]=0,T++;return b},f.H.n=function(m,p){const v=f.H.m,_=m.length;let b,T,w,x;const S=v.j;for(var A=0;A<=p;A++)S[A]=0;for(A=1;A<_;A+=2)S[m[A]]++;const N=v.K;for(b=0,S[0]=0,T=1;T<=p;T++)b=b+S[T-1]<<1,N[T]=b;for(w=0;w<_;w+=2)x=m[w+1],x!=0&&(m[w]=N[x],N[x]++)},f.H.A=function(m,p,v){const _=m.length,b=f.H.m.r;for(let T=0;T<_;T+=2)if(m[T+1]!=0){const w=T>>1,x=m[T+1],S=w<<4|x,A=p-x;let N=m[T]<<A;const O=N+(1<<A);for(;N!=O;)v[b[N]>>>15-p]=S,N++}},f.H.l=function(m,p){const v=f.H.m.r,_=15-p;for(let b=0;b<m.length;b+=2){const T=m[b]<<p-m[b+1];m[b]=v[T]>>>_}},f.H.M=function(m,p,v){v<<=7&p;const _=p>>>3;m[_]|=v,m[_+1]|=v>>>8},f.H.I=function(m,p,v){v<<=7&p;const _=p>>>3;m[_]|=v,m[_+1]|=v>>>8,m[_+2]|=v>>>16},f.H.e=function(m,p,v){return(m[p>>>3]|m[1+(p>>>3)]<<8)>>>(7&p)&(1<<v)-1},f.H.b=function(m,p,v){return(m[p>>>3]|m[1+(p>>>3)]<<8|m[2+(p>>>3)]<<16)>>>(7&p)&(1<<v)-1},f.H.Z=function(m,p){return(m[p>>>3]|m[1+(p>>>3)]<<8|m[2+(p>>>3)]<<16)>>>(7&p)},f.H.i=function(m,p){return(m[p>>>3]|m[1+(p>>>3)]<<8|m[2+(p>>>3)]<<16|m[3+(p>>>3)]<<24)>>>(7&p)},f.H.m=function(){const m=Uint16Array,p=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new m(65536),g:new m(32768)}}(),function(){const m=f.H.m;for(var p=0;p<32768;p++){let _=p;_=(2863311530&_)>>>1|(1431655765&_)<<1,_=(3435973836&_)>>>2|(858993459&_)<<2,_=(4042322160&_)>>>4|(252645135&_)<<4,_=(4278255360&_)>>>8|(16711935&_)<<8,m.r[p]=(_>>>16|_<<16)>>>17}function v(_,b,T){for(;b--!=0;)_.push(0,T)}for(p=0;p<32;p++)m.q[p]=m.S[p]<<3|m.T[p],m.c[p]=m.p[p]<<4|m.z[p];v(m._,144,8),v(m._,112,9),v(m._,24,7),v(m._,8,8),f.H.n(m._,9),f.H.A(m._,9,m.J),f.H.l(m._,9),v(m.$,32,5),f.H.n(m.$,5),f.H.A(m.$,5,m.h),f.H.l(m.$,5),v(m.Q,19,0),v(m.C,286,0),v(m.D,30,0),v(m.v,320,0)}(),f.H.N}();function s(f){return[1,null,3,1,2,null,4][f.ctype]*f.depth}function l(f,m,p,v,_){let b=s(m);const T=Math.ceil(v*b/8);let w,x;b=Math.ceil(b/8);let S=f[p],A=0;if(S>1&&(f[p]=[0,0,1][S-2]),S==3)for(A=b;A<T;A++)f[A+1]=f[A+1]+(f[A+1-b]>>>1)&255;for(let N=0;N<_;N++)if(w=p+N*T,x=w+N+1,S=f[x-1],A=0,S==0)for(;A<T;A++)f[w+A]=f[x+A];else if(S==1){for(;A<b;A++)f[w+A]=f[x+A];for(;A<T;A++)f[w+A]=f[x+A]+f[w+A-b]}else if(S==2)for(;A<T;A++)f[w+A]=f[x+A]+f[w+A-T];else if(S==3){for(;A<b;A++)f[w+A]=f[x+A]+(f[w+A-T]>>>1);for(;A<T;A++)f[w+A]=f[x+A]+(f[w+A-T]+f[w+A-b]>>>1)}else{for(;A<b;A++)f[w+A]=f[x+A]+u(0,f[w+A-T],0);for(;A<T;A++)f[w+A]=f[x+A]+u(f[w+A-b],f[w+A-T],f[w+A-b-T])}return f}function u(f,m,p){const v=f+m-p,_=v-f,b=v-m,T=v-p;return _*_<=b*b&&_*_<=T*T?f:b*b<=T*T?m:p}function d(f,m,p){p.width=t.readUint(f,m),m+=4,p.height=t.readUint(f,m),m+=4,p.depth=f[m],m++,p.ctype=f[m],m++,p.compress=f[m],m++,p.filter=f[m],m++,p.interlace=f[m],m++}function h(f,m,p,v,_,b,T,w,x){const S=Math.min(m,_),A=Math.min(p,b);let N=0,O=0;for(let G=0;G<A;G++)for(let I=0;I<S;I++)if(T>=0&&w>=0?(N=G*m+I<<2,O=(w+G)*_+T+I<<2):(N=(-w+G)*m-T+I<<2,O=G*_+I<<2),x==0)v[O]=f[N],v[O+1]=f[N+1],v[O+2]=f[N+2],v[O+3]=f[N+3];else if(x==1){var P=f[N+3]*.00392156862745098,k=f[N]*P,C=f[N+1]*P,j=f[N+2]*P,U=v[O+3]*(1/255),B=v[O]*U,V=v[O+1]*U,F=v[O+2]*U;const R=1-P,z=P+U*R,H=z==0?0:1/z;v[O+3]=255*z,v[O+0]=(k+B*R)*H,v[O+1]=(C+V*R)*H,v[O+2]=(j+F*R)*H}else if(x==2)P=f[N+3],k=f[N],C=f[N+1],j=f[N+2],U=v[O+3],B=v[O],V=v[O+1],F=v[O+2],P==U&&k==B&&C==V&&j==F?(v[O]=0,v[O+1]=0,v[O+2]=0,v[O+3]=0):(v[O]=k,v[O+1]=C,v[O+2]=j,v[O+3]=P);else if(x==3){if(P=f[N+3],k=f[N],C=f[N+1],j=f[N+2],U=v[O+3],B=v[O],V=v[O+1],F=v[O+2],P==U&&k==B&&C==V&&j==F)continue;if(P<220&&U>20)return!1}return!0}return{decode:function(m){const p=new Uint8Array(m);let v=8;const _=t,b=_.readUshort,T=_.readUint,w={tabs:{},frames:[]},x=new Uint8Array(p.length);let S,A=0,N=0;const O=[137,80,78,71,13,10,26,10];for(var P=0;P<8;P++)if(p[P]!=O[P])throw"The input is not a PNG file!";for(;v<p.length;){const G=_.readUint(p,v);v+=4;const I=_.readASCII(p,v,4);if(v+=4,I=="IHDR")d(p,v,w);else if(I=="iCCP"){for(var k=v;p[k]!=0;)k++;_.readASCII(p,v,k-v),p[k+1];const R=p.slice(k+2,v+G);let z=null;try{z=r(R)}catch{z=o(R)}w.tabs[I]=z}else if(I=="CgBI")w.tabs[I]=p.slice(v,v+4);else if(I=="IDAT"){for(P=0;P<G;P++)x[A+P]=p[v+P];A+=G}else if(I=="acTL")w.tabs[I]={num_frames:T(p,v),num_plays:T(p,v+4)},S=new Uint8Array(p.length);else if(I=="fcTL"){N!=0&&((F=w.frames[w.frames.length-1]).data=n(w,S.slice(0,N),F.rect.width,F.rect.height),N=0);const R={x:T(p,v+12),y:T(p,v+16),width:T(p,v+4),height:T(p,v+8)};let z=b(p,v+22);z=b(p,v+20)/(z==0?100:z);const H={rect:R,delay:Math.round(1e3*z),dispose:p[v+24],blend:p[v+25]};w.frames.push(H)}else if(I=="fdAT"){for(P=0;P<G-4;P++)S[N+P]=p[v+P+4];N+=G-4}else if(I=="pHYs")w.tabs[I]=[_.readUint(p,v),_.readUint(p,v+4),p[v+8]];else if(I=="cHRM")for(w.tabs[I]=[],P=0;P<8;P++)w.tabs[I].push(_.readUint(p,v+4*P));else if(I=="tEXt"||I=="zTXt"){w.tabs[I]==null&&(w.tabs[I]={});var C=_.nextZero(p,v),j=_.readASCII(p,v,C-v),U=v+G-C-1;if(I=="tEXt")V=_.readASCII(p,C+1,U);else{var B=r(p.slice(C+2,C+2+U));V=_.readUTF8(B,0,B.length)}w.tabs[I][j]=V}else if(I=="iTXt"){w.tabs[I]==null&&(w.tabs[I]={}),C=0,k=v,C=_.nextZero(p,k),j=_.readASCII(p,k,C-k);const R=p[k=C+1];var V;p[k+1],k+=2,C=_.nextZero(p,k),_.readASCII(p,k,C-k),k=C+1,C=_.nextZero(p,k),_.readUTF8(p,k,C-k),U=G-((k=C+1)-v),R==0?V=_.readUTF8(p,k,U):(B=r(p.slice(k,k+U)),V=_.readUTF8(B,0,B.length)),w.tabs[I][j]=V}else if(I=="PLTE")w.tabs[I]=_.readBytes(p,v,G);else if(I=="hIST"){const R=w.tabs.PLTE.length/3;for(w.tabs[I]=[],P=0;P<R;P++)w.tabs[I].push(b(p,v+2*P))}else if(I=="tRNS")w.ctype==3?w.tabs[I]=_.readBytes(p,v,G):w.ctype==0?w.tabs[I]=b(p,v):w.ctype==2&&(w.tabs[I]=[b(p,v),b(p,v+2),b(p,v+4)]);else if(I=="gAMA")w.tabs[I]=_.readUint(p,v)/1e5;else if(I=="sRGB")w.tabs[I]=p[v];else if(I=="bKGD")w.ctype==0||w.ctype==4?w.tabs[I]=[b(p,v)]:w.ctype==2||w.ctype==6?w.tabs[I]=[b(p,v),b(p,v+2),b(p,v+4)]:w.ctype==3&&(w.tabs[I]=p[v]);else if(I=="IEND")break;v+=G,_.readUint(p,v),v+=4}var F;return N!=0&&((F=w.frames[w.frames.length-1]).data=n(w,S.slice(0,N),F.rect.width,F.rect.height)),w.data=n(w,x,w.width,w.height),delete w.compress,delete w.interlace,delete w.filter,w},toRGBA8:function(m){const p=m.width,v=m.height;if(m.tabs.acTL==null)return[e(m.data,p,v,m).buffer];const _=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const b=p*v*4,T=new Uint8Array(b),w=new Uint8Array(b),x=new Uint8Array(b);for(let A=0;A<m.frames.length;A++){const N=m.frames[A],O=N.rect.x,P=N.rect.y,k=N.rect.width,C=N.rect.height,j=e(N.data,k,C,m);if(A!=0)for(var S=0;S<b;S++)x[S]=T[S];if(N.blend==0?h(j,k,C,T,p,v,O,P,0):N.blend==1&&h(j,k,C,T,p,v,O,P,1),_.push(T.buffer.slice(0)),N.dispose!=0){if(N.dispose==1)h(w,k,C,T,p,v,O,P,0);else if(N.dispose==2)for(S=0;S<b;S++)T[S]=x[S]}}return _},_paeth:u,_copyTile:h,_bin:t}}();(function(){const{_copyTile:t}=Hn,{_bin:e}=Hn,n=Hn._paeth;var r={table:function(){const k=new Uint32Array(256);for(let C=0;C<256;C++){let j=C;for(let U=0;U<8;U++)1&j?j=3988292384^j>>>1:j>>>=1;k[C]=j}return k}(),update(k,C,j,U){for(let B=0;B<U;B++)k=r.table[255&(k^C[j+B])]^k>>>8;return k},crc:(k,C,j)=>4294967295^r.update(4294967295,k,C,j)};function o(k,C,j,U){C[j]+=k[0]*U>>4,C[j+1]+=k[1]*U>>4,C[j+2]+=k[2]*U>>4,C[j+3]+=k[3]*U>>4}function s(k){return Math.max(0,Math.min(255,k))}function l(k,C){const j=k[0]-C[0],U=k[1]-C[1],B=k[2]-C[2],V=k[3]-C[3];return j*j+U*U+B*B+V*V}function u(k,C,j,U,B,V,F){F==null&&(F=1);const G=U.length,I=[];for(var R=0;R<G;R++){const K=U[R];I.push([K>>>0&255,K>>>8&255,K>>>16&255,K>>>24&255])}for(R=0;R<G;R++){let K=4294967295;for(var z=0,H=0;H<G;H++){var W=l(I[R],I[H]);H!=R&&W<K&&(K=W,z=H)}}const ne=new Uint32Array(B.buffer),ee=new Int16Array(C*j*4),ae=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(R=0;R<ae.length;R++)ae[R]=255*((ae[R]+.5)/16-.5);for(let K=0;K<j;K++)for(let oe=0;oe<C;oe++){var te;R=4*(K*C+oe),F!=2?te=[s(k[R]+ee[R]),s(k[R+1]+ee[R+1]),s(k[R+2]+ee[R+2]),s(k[R+3]+ee[R+3])]:(W=ae[4*(3&K)+(3&oe)],te=[s(k[R]+W),s(k[R+1]+W),s(k[R+2]+W),s(k[R+3]+W)]),z=0;let xe=16777215;for(H=0;H<G;H++){const Ne=l(te,I[H]);Ne<xe&&(xe=Ne,z=H)}const Ee=I[z],Re=[te[0]-Ee[0],te[1]-Ee[1],te[2]-Ee[2],te[3]-Ee[3]];F==1&&(oe!=C-1&&o(Re,ee,R+4,7),K!=j-1&&(oe!=0&&o(Re,ee,R+4*C-4,3),o(Re,ee,R+4*C,5),oe!=C-1&&o(Re,ee,R+4*C+4,1))),V[R>>2]=z,ne[R>>2]=U[z]}}function d(k,C,j,U,B){B==null&&(B={});const{crc:V}=r,F=e.writeUint,G=e.writeUshort,I=e.writeASCII;let R=8;const z=k.frames.length>1;let H,W=!1,ne=33+(z?20:0);if(B.sRGB!=null&&(ne+=13),B.pHYs!=null&&(ne+=21),B.iCCP!=null&&(H=pako.deflate(B.iCCP),ne+=21+H.length+4),k.ctype==3){for(var ee=k.plte.length,ae=0;ae<ee;ae++)k.plte[ae]>>>24!=255&&(W=!0);ne+=8+3*ee+4+(W?8+1*ee+4:0)}for(var te=0;te<k.frames.length;te++)z&&(ne+=38),ne+=(Ee=k.frames[te]).cimg.length+12,te!=0&&(ne+=4);ne+=12;const K=new Uint8Array(ne),oe=[137,80,78,71,13,10,26,10];for(ae=0;ae<8;ae++)K[ae]=oe[ae];if(F(K,R,13),R+=4,I(K,R,"IHDR"),R+=4,F(K,R,C),R+=4,F(K,R,j),R+=4,K[R]=k.depth,R++,K[R]=k.ctype,R++,K[R]=0,R++,K[R]=0,R++,K[R]=0,R++,F(K,R,V(K,R-17,17)),R+=4,B.sRGB!=null&&(F(K,R,1),R+=4,I(K,R,"sRGB"),R+=4,K[R]=B.sRGB,R++,F(K,R,V(K,R-5,5)),R+=4),B.iCCP!=null){const Re=13+H.length;F(K,R,Re),R+=4,I(K,R,"iCCP"),R+=4,I(K,R,"ICC profile"),R+=11,R+=2,K.set(H,R),R+=H.length,F(K,R,V(K,R-(Re+4),Re+4)),R+=4}if(B.pHYs!=null&&(F(K,R,9),R+=4,I(K,R,"pHYs"),R+=4,F(K,R,B.pHYs[0]),R+=4,F(K,R,B.pHYs[1]),R+=4,K[R]=B.pHYs[2],R++,F(K,R,V(K,R-13,13)),R+=4),z&&(F(K,R,8),R+=4,I(K,R,"acTL"),R+=4,F(K,R,k.frames.length),R+=4,F(K,R,B.loop!=null?B.loop:0),R+=4,F(K,R,V(K,R-12,12)),R+=4),k.ctype==3){for(F(K,R,3*(ee=k.plte.length)),R+=4,I(K,R,"PLTE"),R+=4,ae=0;ae<ee;ae++){const Re=3*ae,Ne=k.plte[ae],Ze=255&Ne,ke=Ne>>>8&255,Ot=Ne>>>16&255;K[R+Re+0]=Ze,K[R+Re+1]=ke,K[R+Re+2]=Ot}if(R+=3*ee,F(K,R,V(K,R-3*ee-4,3*ee+4)),R+=4,W){for(F(K,R,ee),R+=4,I(K,R,"tRNS"),R+=4,ae=0;ae<ee;ae++)K[R+ae]=k.plte[ae]>>>24&255;R+=ee,F(K,R,V(K,R-ee-4,ee+4)),R+=4}}let xe=0;for(te=0;te<k.frames.length;te++){var Ee=k.frames[te];z&&(F(K,R,26),R+=4,I(K,R,"fcTL"),R+=4,F(K,R,xe++),R+=4,F(K,R,Ee.rect.width),R+=4,F(K,R,Ee.rect.height),R+=4,F(K,R,Ee.rect.x),R+=4,F(K,R,Ee.rect.y),R+=4,G(K,R,U[te]),R+=2,G(K,R,1e3),R+=2,K[R]=Ee.dispose,R++,K[R]=Ee.blend,R++,F(K,R,V(K,R-30,30)),R+=4);const Re=Ee.cimg;F(K,R,(ee=Re.length)+(te==0?0:4)),R+=4;const Ne=R;I(K,R,te==0?"IDAT":"fdAT"),R+=4,te!=0&&(F(K,R,xe++),R+=4),K.set(Re,R),R+=ee,F(K,R,V(K,Ne,R-Ne)),R+=4}return F(K,R,0),R+=4,I(K,R,"IEND"),R+=4,F(K,R,V(K,R-4,4)),R+=4,K.buffer}function h(k,C,j){for(let U=0;U<k.frames.length;U++){const B=k.frames[U];B.rect.width;const V=B.rect.height,F=new Uint8Array(V*B.bpl+V);B.cimg=v(B.img,V,B.bpp,B.bpl,F,C,j)}}function f(k,C,j,U,B){const V=B[0],F=B[1],G=B[2],I=B[3],R=B[4],z=B[5];let H=6,W=8,ne=255;for(var ee=0;ee<k.length;ee++){const Ke=new Uint8Array(k[ee]);for(var ae=Ke.length,te=0;te<ae;te+=4)ne&=Ke[te+3]}const K=ne!=255,oe=function(Ue,De,ct,vt,Ge,Lt){const Xe=[];for(var Ie=0;Ie<Ue.length;Ie++){const ft=new Uint8Array(Ue[Ie]),Et=new Uint32Array(ft.buffer);var ht;let Ut=0,pt=0,jt=De,fn=ct,Ar=vt?1:0;if(Ie!=0){const ur=Lt||vt||Ie==1||Xe[Ie-2].dispose!=0?1:2;let Rr=0,cr=1e9;for(let zn=0;zn<ur;zn++){var Zt=new Uint8Array(Ue[Ie-1-zn]);const Ir=new Uint32Array(Ue[Ie-1-zn]);let qt=De,En=ct,Dn=-1,dr=-1;for(let tn=0;tn<ct;tn++)for(let nn=0;nn<De;nn++)Et[We=tn*De+nn]!=Ir[We]&&(nn<qt&&(qt=nn),nn>Dn&&(Dn=nn),tn<En&&(En=tn),tn>dr&&(dr=tn));Dn==-1&&(qt=En=Dn=dr=0),Ge&&((1&qt)==1&&qt--,(1&En)==1&&En--);const di=(Dn-qt+1)*(dr-En+1);di<cr&&(cr=di,Rr=zn,Ut=qt,pt=En,jt=Dn-qt+1,fn=dr-En+1)}Zt=new Uint8Array(Ue[Ie-1-Rr]),Rr==1&&(Xe[Ie-1].dispose=2),ht=new Uint8Array(jt*fn*4),t(Zt,De,ct,ht,jt,fn,-Ut,-pt,0),Ar=t(ft,De,ct,ht,jt,fn,-Ut,-pt,3)?1:0,Ar==1?p(ft,De,ct,ht,{x:Ut,y:pt,width:jt,height:fn}):t(ft,De,ct,ht,jt,fn,-Ut,-pt,0)}else ht=ft.slice(0);Xe.push({rect:{x:Ut,y:pt,width:jt,height:fn},img:ht,blend:Ar,dispose:0})}if(vt)for(Ie=0;Ie<Xe.length;Ie++){if((St=Xe[Ie]).blend==1)continue;const ft=St.rect,Et=Xe[Ie-1].rect,Ut=Math.min(ft.x,Et.x),pt=Math.min(ft.y,Et.y),jt={x:Ut,y:pt,width:Math.max(ft.x+ft.width,Et.x+Et.width)-Ut,height:Math.max(ft.y+ft.height,Et.y+Et.height)-pt};Xe[Ie-1].dispose=1,Ie-1!=0&&m(Ue,De,ct,Xe,Ie-1,jt,Ge),m(Ue,De,ct,Xe,Ie,jt,Ge)}let Mn=0;if(Ue.length!=1)for(var We=0;We<Xe.length;We++){var St;Mn+=(St=Xe[We]).rect.width*St.rect.height}return Xe}(k,C,j,V,F,G),xe={},Ee=[],Re=[];if(U!=0){const Ke=[];for(te=0;te<oe.length;te++)Ke.push(oe[te].img.buffer);const Ue=function(Ge){let Lt=0;for(var Xe=0;Xe<Ge.length;Xe++)Lt+=Ge[Xe].byteLength;const Ie=new Uint8Array(Lt);let ht=0;for(Xe=0;Xe<Ge.length;Xe++){const Zt=new Uint8Array(Ge[Xe]),Mn=Zt.length;for(let We=0;We<Mn;We+=4){let St=Zt[We],ft=Zt[We+1],Et=Zt[We+2];const Ut=Zt[We+3];Ut==0&&(St=ft=Et=0),Ie[ht+We]=St,Ie[ht+We+1]=ft,Ie[ht+We+2]=Et,Ie[ht+We+3]=Ut}ht+=Mn}return Ie.buffer}(Ke),De=b(Ue,U);for(te=0;te<De.plte.length;te++)Ee.push(De.plte[te].est.rgba);let ct=0;for(te=0;te<oe.length;te++){const vt=(Ze=oe[te]).img.length;var Ne=new Uint8Array(De.inds.buffer,ct>>2,vt>>2);Re.push(Ne);const Ge=new Uint8Array(De.abuf,ct,vt);z&&u(Ze.img,Ze.rect.width,Ze.rect.height,Ee,Ge,Ne),Ze.img.set(Ge),ct+=vt}}else for(ee=0;ee<oe.length;ee++){var Ze=oe[ee];const Ke=new Uint32Array(Ze.img.buffer);var ke=Ze.rect.width;for(ae=Ke.length,Ne=new Uint8Array(ae),Re.push(Ne),te=0;te<ae;te++){const Ue=Ke[te];if(te!=0&&Ue==Ke[te-1])Ne[te]=Ne[te-1];else if(te>ke&&Ue==Ke[te-ke])Ne[te]=Ne[te-ke];else{let De=xe[Ue];if(De==null&&(xe[Ue]=De=Ee.length,Ee.push(Ue),Ee.length>=300))break;Ne[te]=De}}}const Ot=Ee.length;for(Ot<=256&&R==0&&(W=Ot<=2?1:Ot<=4?2:Ot<=16?4:8,W=Math.max(W,I)),ee=0;ee<oe.length;ee++){(Ze=oe[ee]).rect.x,Ze.rect.y,ke=Ze.rect.width;const Ke=Ze.rect.height;let Ue=Ze.img;new Uint32Array(Ue.buffer);let De=4*ke,ct=4;if(Ot<=256&&R==0){De=Math.ceil(W*ke/8);var Vt=new Uint8Array(De*Ke);const vt=Re[ee];for(let Ge=0;Ge<Ke;Ge++){te=Ge*De;const Lt=Ge*ke;if(W==8)for(var qe=0;qe<ke;qe++)Vt[te+qe]=vt[Lt+qe];else if(W==4)for(qe=0;qe<ke;qe++)Vt[te+(qe>>1)]|=vt[Lt+qe]<<4-4*(1&qe);else if(W==2)for(qe=0;qe<ke;qe++)Vt[te+(qe>>2)]|=vt[Lt+qe]<<6-2*(3&qe);else if(W==1)for(qe=0;qe<ke;qe++)Vt[te+(qe>>3)]|=vt[Lt+qe]<<7-1*(7&qe)}Ue=Vt,H=3,ct=1}else if(K==0&&oe.length==1){Vt=new Uint8Array(ke*Ke*3);const vt=ke*Ke;for(te=0;te<vt;te++){const Ge=3*te,Lt=4*te;Vt[Ge]=Ue[Lt],Vt[Ge+1]=Ue[Lt+1],Vt[Ge+2]=Ue[Lt+2]}Ue=Vt,H=2,ct=3,De=3*ke}Ze.img=Ue,Ze.bpl=De,Ze.bpp=ct}return{ctype:H,depth:W,plte:Ee,frames:oe}}function m(k,C,j,U,B,V,F){const G=Uint8Array,I=Uint32Array,R=new G(k[B-1]),z=new I(k[B-1]),H=B+1<k.length?new G(k[B+1]):null,W=new G(k[B]),ne=new I(W.buffer);let ee=C,ae=j,te=-1,K=-1;for(let xe=0;xe<V.height;xe++)for(let Ee=0;Ee<V.width;Ee++){const Re=V.x+Ee,Ne=V.y+xe,Ze=Ne*C+Re,ke=ne[Ze];ke==0||U[B-1].dispose==0&&z[Ze]==ke&&(H==null||H[4*Ze+3]!=0)||(Re<ee&&(ee=Re),Re>te&&(te=Re),Ne<ae&&(ae=Ne),Ne>K&&(K=Ne))}te==-1&&(ee=ae=te=K=0),F&&((1&ee)==1&&ee--,(1&ae)==1&&ae--),V={x:ee,y:ae,width:te-ee+1,height:K-ae+1};const oe=U[B];oe.rect=V,oe.blend=1,oe.img=new Uint8Array(V.width*V.height*4),U[B-1].dispose==0?(t(R,C,j,oe.img,V.width,V.height,-V.x,-V.y,0),p(W,C,j,oe.img,V)):t(W,C,j,oe.img,V.width,V.height,-V.x,-V.y,0)}function p(k,C,j,U,B){t(k,C,j,U,B.width,B.height,-B.x,-B.y,2)}function v(k,C,j,U,B,V,F){const G=[];let I,R=[0,1,2,3,4];V!=-1?R=[V]:(C*U>5e5||j==1)&&(R=[0]),F&&(I={level:0});const z=lP;for(var H=0;H<R.length;H++){for(let ee=0;ee<C;ee++)_(B,k,ee,U,j,R[H]);G.push(z.deflate(B,I))}let W,ne=1e9;for(H=0;H<G.length;H++)G[H].length<ne&&(W=H,ne=G[H].length);return G[W]}function _(k,C,j,U,B,V){const F=j*U;let G=F+j;if(k[G]=V,G++,V==0)if(U<500)for(var I=0;I<U;I++)k[G+I]=C[F+I];else k.set(new Uint8Array(C.buffer,F,U),G);else if(V==1){for(I=0;I<B;I++)k[G+I]=C[F+I];for(I=B;I<U;I++)k[G+I]=C[F+I]-C[F+I-B]+256&255}else if(j==0){for(I=0;I<B;I++)k[G+I]=C[F+I];if(V==2)for(I=B;I<U;I++)k[G+I]=C[F+I];if(V==3)for(I=B;I<U;I++)k[G+I]=C[F+I]-(C[F+I-B]>>1)+256&255;if(V==4)for(I=B;I<U;I++)k[G+I]=C[F+I]-n(C[F+I-B],0,0)+256&255}else{if(V==2)for(I=0;I<U;I++)k[G+I]=C[F+I]+256-C[F+I-U]&255;if(V==3){for(I=0;I<B;I++)k[G+I]=C[F+I]+256-(C[F+I-U]>>1)&255;for(I=B;I<U;I++)k[G+I]=C[F+I]+256-(C[F+I-U]+C[F+I-B]>>1)&255}if(V==4){for(I=0;I<B;I++)k[G+I]=C[F+I]+256-n(0,C[F+I-U],0)&255;for(I=B;I<U;I++)k[G+I]=C[F+I]+256-n(C[F+I-B],C[F+I-U],C[F+I-B-U])&255}}}function b(k,C){const j=new Uint8Array(k),U=j.slice(0),B=new Uint32Array(U.buffer),V=T(U,C),F=V[0],G=V[1],I=j.length,R=new Uint8Array(I>>2);let z;if(j.length<2e7)for(var H=0;H<I;H+=4)z=w(F,W=j[H]*(1/255),ne=j[H+1]*(1/255),ee=j[H+2]*(1/255),ae=j[H+3]*(1/255)),R[H>>2]=z.ind,B[H>>2]=z.est.rgba;else for(H=0;H<I;H+=4){var W=j[H]*.00392156862745098,ne=j[H+1]*(1/255),ee=j[H+2]*(1/255),ae=j[H+3]*(1/255);for(z=F;z.left;)z=x(z.est,W,ne,ee,ae)<=0?z.left:z.right;R[H>>2]=z.ind,B[H>>2]=z.est.rgba}return{abuf:U.buffer,inds:R,plte:G}}function T(k,C,j){j==null&&(j=1e-4);const U=new Uint32Array(k.buffer),B={i0:0,i1:k.length,bst:null,est:null,tdst:0,left:null,right:null};B.bst=N(k,B.i0,B.i1),B.est=O(B.bst);const V=[B];for(;V.length<C;){let G=0,I=0;for(var F=0;F<V.length;F++)V[F].est.L>G&&(G=V[F].est.L,I=F);if(G<j)break;const R=V[I],z=S(k,U,R.i0,R.i1,R.est.e,R.est.eMq255);if(R.i0>=z||R.i1<=z){R.est.L=0;continue}const H={i0:R.i0,i1:z,bst:null,est:null,tdst:0,left:null,right:null};H.bst=N(k,H.i0,H.i1),H.est=O(H.bst);const W={i0:z,i1:R.i1,bst:null,est:null,tdst:0,left:null,right:null};for(W.bst={R:[],m:[],N:R.bst.N-H.bst.N},F=0;F<16;F++)W.bst.R[F]=R.bst.R[F]-H.bst.R[F];for(F=0;F<4;F++)W.bst.m[F]=R.bst.m[F]-H.bst.m[F];W.est=O(W.bst),R.left=H,R.right=W,V[I]=H,V.push(W)}for(V.sort((G,I)=>I.bst.N-G.bst.N),F=0;F<V.length;F++)V[F].ind=F;return[B,V]}function w(k,C,j,U,B){if(k.left==null)return k.tdst=function(H,W,ne,ee,ae){const te=W-H[0],K=ne-H[1],oe=ee-H[2],xe=ae-H[3];return te*te+K*K+oe*oe+xe*xe}(k.est.q,C,j,U,B),k;const V=x(k.est,C,j,U,B);let F=k.left,G=k.right;V>0&&(F=k.right,G=k.left);const I=w(F,C,j,U,B);if(I.tdst<=V*V)return I;const R=w(G,C,j,U,B);return R.tdst<I.tdst?R:I}function x(k,C,j,U,B){const{e:V}=k;return V[0]*C+V[1]*j+V[2]*U+V[3]*B-k.eMq}function S(k,C,j,U,B,V){for(U-=4;j<U;){for(;A(k,j,B)<=V;)j+=4;for(;A(k,U,B)>V;)U-=4;if(j>=U)break;const F=C[j>>2];C[j>>2]=C[U>>2],C[U>>2]=F,j+=4,U-=4}for(;A(k,j,B)>V;)j-=4;return j+4}function A(k,C,j){return k[C]*j[0]+k[C+1]*j[1]+k[C+2]*j[2]+k[C+3]*j[3]}function N(k,C,j){const U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=[0,0,0,0],V=j-C>>2;for(let F=C;F<j;F+=4){const G=k[F]*.00392156862745098,I=k[F+1]*(1/255),R=k[F+2]*(1/255),z=k[F+3]*(1/255);B[0]+=G,B[1]+=I,B[2]+=R,B[3]+=z,U[0]+=G*G,U[1]+=G*I,U[2]+=G*R,U[3]+=G*z,U[5]+=I*I,U[6]+=I*R,U[7]+=I*z,U[10]+=R*R,U[11]+=R*z,U[15]+=z*z}return U[4]=U[1],U[8]=U[2],U[9]=U[6],U[12]=U[3],U[13]=U[7],U[14]=U[11],{R:U,m:B,N:V}}function O(k){const{R:C}=k,{m:j}=k,{N:U}=k,B=j[0],V=j[1],F=j[2],G=j[3],I=U==0?0:1/U,R=[C[0]-B*B*I,C[1]-B*V*I,C[2]-B*F*I,C[3]-B*G*I,C[4]-V*B*I,C[5]-V*V*I,C[6]-V*F*I,C[7]-V*G*I,C[8]-F*B*I,C[9]-F*V*I,C[10]-F*F*I,C[11]-F*G*I,C[12]-G*B*I,C[13]-G*V*I,C[14]-G*F*I,C[15]-G*G*I],z=R,H=P;let W=[Math.random(),Math.random(),Math.random(),Math.random()],ne=0,ee=0;if(U!=0)for(let te=0;te<16&&(W=H.multVec(z,W),ee=Math.sqrt(H.dot(W,W)),W=H.sml(1/ee,W),!(te!=0&&Math.abs(ee-ne)<1e-9));te++)ne=ee;const ae=[B*I,V*I,F*I,G*I];return{Cov:R,q:ae,e:W,L:ne,eMq255:H.dot(H.sml(255,ae),W),eMq:H.dot(W,ae),rgba:(Math.round(255*ae[3])<<24|Math.round(255*ae[2])<<16|Math.round(255*ae[1])<<8|Math.round(255*ae[0])<<0)>>>0}}var P={multVec:(k,C)=>[k[0]*C[0]+k[1]*C[1]+k[2]*C[2]+k[3]*C[3],k[4]*C[0]+k[5]*C[1]+k[6]*C[2]+k[7]*C[3],k[8]*C[0]+k[9]*C[1]+k[10]*C[2]+k[11]*C[3],k[12]*C[0]+k[13]*C[1]+k[14]*C[2]+k[15]*C[3]],dot:(k,C)=>k[0]*C[0]+k[1]*C[1]+k[2]*C[2]+k[3]*C[3],sml:(k,C)=>[k*C[0],k*C[1],k*C[2],k*C[3]]};Hn.encode=function(C,j,U,B,V,F,G){B==null&&(B=0),G==null&&(G=!1);const I=f(C,j,U,B,[!1,!1,!1,0,G,!1]);return h(I,-1),d(I,j,U,V,F)},Hn.encodeLL=function(C,j,U,B,V,F,G,I){const R={ctype:0+(B==1?0:2)+(V==0?0:4),depth:F,frames:[]},z=(B+V)*F,H=z*j;for(let W=0;W<C.length;W++)R.frames.push({rect:{x:0,y:0,width:j,height:U},img:new Uint8Array(C[W]),blend:0,dispose:1,bpp:Math.ceil(z/8),bpl:Math.ceil(H/8)});return h(R,0,!0),d(R,j,U,G,I)},Hn.encode.compress=f,Hn.encode.dither=u,Hn.quantize=b,Hn.quantize.getKDtree=T,Hn.quantize.getNearest=w})();const Gy={toArrayBuffer(t,e){const n=t.width,r=t.height,o=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),l=new Uint32Array(s.data.buffer),u=(32*n+31)/32<<2,d=u*r,h=122+d,f=new ArrayBuffer(h),m=new DataView(f),p=1<<20;let v,_,b,T,w=p,x=0,S=0,A=0;function N(k){m.setUint16(S,k,!0),S+=2}function O(k){m.setUint32(S,k,!0),S+=4}function P(k){S+=k}N(19778),O(h),P(4),O(122),O(108),O(n),O(-r>>>0),N(1),N(32),O(3),O(d),O(2835),O(2835),P(8),O(16711680),O(65280),O(255),O(4278190080),O(1466527264),function k(){for(;x<r&&w>0;){for(T=122+x*u,v=0;v<o;)w--,_=l[A++],b=_>>>24,m.setUint32(T+v,_<<8|b),v+=4;x++}A<l.length?(w=p,setTimeout(k,Gy._dly)):e(f)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var ln={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},uP={[ln.CHROME]:16384,[ln.FIREFOX]:11180,[ln.DESKTOP_SAFARI]:16384,[ln.IE]:8192,[ln.IOS]:4096,[ln.ETC]:8192};const af=typeof window<"u",Jy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,eu=af&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),cP=(af||Jy)&&(eu&&eu.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Qy=(af||Jy)&&(eu&&eu.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function lf(t,e,n=Date.now()){return new Promise(r=>{const o=t.split(","),s=o[0].match(/:(.*?);/)[1],l=globalThis.atob(o[1]);let u=l.length;const d=new Uint8Array(u);for(;u--;)d[u]=l.charCodeAt(u);const h=new Blob([d],{type:s});h.name=e,h.lastModified=n,r(h)})}function Yy(t){return new Promise((e,n)=>{const r=new Qy;r.onload=()=>e(r.result),r.onerror=o=>n(o),r.readAsDataURL(t)})}function Xy(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=o=>n(o),r.src=t})}function ji(){if(ji.cachedResult!==void 0)return ji.cachedResult;let t=ln.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=ln.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=ln.IOS:/Safari/i.test(e)?t=ln.DESKTOP_SAFARI:/Firefox/i.test(e)?t=ln.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=ln.IE),ji.cachedResult=t,ji.cachedResult}function e0(t,e){const n=ji(),r=uP[n];let o=t,s=e,l=o*s;const u=o>s?s/o:o/s;for(;l>r*r;){const d=(r+o)/2,h=(r+s)/2;d<h?(s=h,o=h*u):(s=d*u,o=d),l=o*s}return{width:o,height:s}}function Eu(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function t0(t,e){const{width:n,height:r}=e0(t.width,t.height),[o,s]=Eu(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,o.width,o.height)),s.drawImage(t,0,0,o.width,o.height),o}function yl(){return yl.cachedResult!==void 0||(yl.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),yl.cachedResult}function tu(t,e={}){return new Promise(function(n,r){let o,s;var l=function(){try{return s=t0(o,e.fileType||t.type),n([o,s])}catch(d){return r(d)}},u=function(d){try{var h=function(f){try{throw f}catch(m){return r(m)}};try{let f;return Yy(t).then(function(m){try{return f=m,Xy(f).then(function(p){try{return o=p,function(){try{return l()}catch(v){return r(v)}}()}catch(v){return h(v)}},h)}catch(p){return h(p)}},h)}catch(f){h(f)}}catch(f){return r(f)}};try{if(yl()||[ln.DESKTOP_SAFARI,ln.MOBILE_SAFARI].includes(ji()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(d){try{return o=d,l()}catch{return u()}},u)}catch{u()}})}function nu(t,e,n,r,o=1){return new Promise(function(s,l){let u;if(e==="image/png"){let m,p,v;return m=t.getContext("2d"),{data:p}=m.getImageData(0,0,t.width,t.height),v=Hn.encode([p.buffer],t.width,t.height,4096*o),u=new Blob([v],{type:e}),u.name=n,u.lastModified=r,d.call(this)}{let m=function(){return d.call(this)};var h=m;if(e==="image/bmp")return new Promise(p=>Gy.toBlob(t,p)).then((function(p){try{return u=p,u.name=n,u.lastModified=r,m.call(this)}catch(v){return l(v)}}).bind(this),l);{let p=function(){return m.call(this)};var f=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:o}).then((function(v){try{return u=v,u.name=n,u.lastModified=r,p.call(this)}catch(_){return l(_)}}).bind(this),l);{let v;return v=t.toDataURL(e,o),lf(v,n,r).then((function(_){try{return u=_,p.call(this)}catch(b){return l(b)}}).bind(this),l)}}}function d(){return s(u)}})}function or(t){t.width=0,t.height=0}function Eo(){return new Promise(function(t,e){let n,r,o,s;return Eo.cachedResult!==void 0?t(Eo.cachedResult):lf("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(l){try{return n=l,tu(n).then(function(u){try{return r=u[1],nu(r,n.type,n.name,n.lastModified).then(function(d){try{return o=d,or(r),tu(o).then(function(h){try{return s=h[0],Eo.cachedResult=s.width===1&&s.height===2,t(Eo.cachedResult)}catch(f){return e(f)}},e)}catch(h){return e(h)}},e)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)})}function n0(t){return new Promise((e,n)=>{const r=new Qy;r.onload=o=>{const s=new DataView(o.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const l=s.byteLength;let u=2;for(;u<l;){if(s.getUint16(u+2,!1)<=8)return e(-1);const d=s.getUint16(u,!1);if(u+=2,d==65505){if(s.getUint32(u+=2,!1)!=1165519206)return e(-1);const h=s.getUint16(u+=6,!1)==18761;u+=s.getUint32(u+4,h);const f=s.getUint16(u,h);u+=2;for(let m=0;m<f;m++)if(s.getUint16(u+12*m,h)==274)return e(s.getUint16(u+12*m+8,h))}else{if((65280&d)!=65280)break;u+=s.getUint16(u,!1)}}return e(-1)},r.onerror=o=>n(o),r.readAsArrayBuffer(t)})}function r0(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:o}=e;let s,l=t;return isFinite(o)&&(n>o||r>o)&&([l,s]=Eu(n,r),n>r?(l.width=o,l.height=r/n*o):(l.width=n/r*o,l.height=o),s.drawImage(t,0,0,l.width,l.height),or(t)),l}function i0(t,e){const{width:n}=t,{height:r}=t,[o,s]=Eu(n,r);switch(e>4&&e<9?(o.width=r,o.height=n):(o.width=n,o.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),or(t),o}function tg(t,e,n=0){return new Promise(function(r,o){let s,l,u,d,h,f,m,p,v,_,b,T,w,x,S,A,N,O,P,k;function C(U=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=U,e.onProgress(Math.min(s,100))}function j(U){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(U,s),100),e.onProgress(s)}return s=n,l=e.maxIteration||10,u=1024*e.maxSizeMB*1024,C(),tu(t,e).then((function(U){try{return[,d]=U,C(),h=r0(d,e),C(),new Promise(function(B,V){var F;if(!(F=e.exifOrientation))return n0(t).then((function(I){try{return F=I,G.call(this)}catch(R){return V(R)}}).bind(this),V);function G(){return B(F)}return G.call(this)}).then((function(B){try{return f=B,C(),Eo().then((function(V){try{return m=V?h:i0(h,f),C(),p=e.initialQuality||1,v=e.fileType||t.type,nu(m,v,t.name,t.lastModified,p).then((function(F){try{{let z=function(){if(l--&&(S>u||S>w)){let W,ne;return W=k?.95*P.width:P.width,ne=k?.95*P.height:P.height,[N,O]=Eu(W,ne),O.drawImage(P,0,0,W,ne),p*=v==="image/png"?.85:.95,nu(N,v,t.name,t.lastModified,p).then(function(ee){try{return A=ee,or(P),P=N,S=A.size,j(Math.min(99,Math.floor((x-S)/(x-u)*100))),z}catch(ae){return o(ae)}},o)}return[1]},H=function(){return or(P),or(N),or(h),or(m),or(d),j(100),r(A)};var I=z,R=H;if(_=F,C(),b=_.size>u,T=_.size>t.size,!b&&!T)return j(100),r(_);var G;return w=t.size,x=_.size,S=x,P=m,k=!e.alwaysKeepResolution&&b,(G=(function(W){for(;W;){if(W.then)return void W.then(G,o);try{if(W.pop){if(W.length)return W.pop()?H.call(this):W;W=z}else W=W.call(this)}catch(ne){return o(ne)}}}).bind(this))(z)}}catch(z){return o(z)}}).bind(this),o)}catch(F){return o(F)}}).bind(this),o)}catch(V){return o(V)}}).bind(this),o)}catch(B){return o(B)}}).bind(this),o)})}const dP=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let jc;function hP(t,e){return new Promise((n,r)=>{jc||(jc=function(l){const u=[];return u.push(l),URL.createObjectURL(new Blob(u))}(dP));const o=new Worker(jc);o.addEventListener("message",function(l){if(e.signal&&e.signal.aborted)o.terminate();else if(l.data.progress===void 0){if(l.data.error)return r(new Error(l.data.error)),void o.terminate();n(l.data.file),o.terminate()}else e.onProgress(l.data.progress)}),o.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),o.terminate()}),o.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Ft(t,e){return new Promise(function(n,r){let o,s,l,u,d,h;if(o={...e},l=0,{onProgress:u}=o,o.maxSizeMB=o.maxSizeMB||Number.POSITIVE_INFINITY,d=typeof o.useWebWorker!="boolean"||o.useWebWorker,delete o.useWebWorker,o.onProgress=v=>{l=v,typeof u=="function"&&u(l)},!(t instanceof Blob||t instanceof cP))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(h=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!d||typeof Worker!="function"||h)return tg(t,o).then((function(v){try{return s=v,p.call(this)}catch(_){return r(_)}}).bind(this),r);var f=(function(){try{return p.call(this)}catch(v){return r(v)}}).bind(this),m=function(v){try{return tg(t,o).then(function(_){try{return s=_,f()}catch(b){return r(b)}},r)}catch(_){return r(_)}};try{return o.libURL=o.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",hP(t,o).then(function(v){try{return s=v,f()}catch{return m()}},m)}catch{m()}function p(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{o.preserveExif&&t.type==="image/jpeg"&&(!o.fileType||o.fileType&&o.fileType===t.type)&&(s=Ky(t,s))}catch{}return n(s)}})}Ft.getDataUrlFromFile=Yy,Ft.getFilefromDataUrl=lf,Ft.loadImage=Xy,Ft.drawImageInCanvas=t0,Ft.drawFileInCanvas=tu,Ft.canvasToFile=nu,Ft.getExifOrientation=n0,Ft.handleMaxWidthOrHeight=r0,Ft.followExifOrientation=i0,Ft.cleanupCanvasMemory=or,Ft.isAutoOrientationInBrowser=Eo,Ft.approximateBelowMaximumCanvasSizeOfBrowser=e0,Ft.copyExifWithoutOrientation=Ky,Ft.getBrowserName=ji,Ft.version="2.0.2";function fP(){const{id:t}=Ox(),e=Zo(),[n,r]=J.useState(null),[o,s]=J.useState([]),[l,u]=J.useState(null),d=async()=>{const{data:_}=await Ve.from("claims").select("*").eq("id",t).single();r(_);const b=await Ve.from("claim_photos").select("*").eq("claim_id",t).order("created_at",{ascending:!1});s(b.data||[])};J.useEffect(()=>{d()},[t]);const h=async _=>{const b=_.target.files;if(!(!b||b.length===0||!t)){for(let T=0;T<b.length;T++){const w=b[T];try{const x=await Ft(w,{maxWidthOrHeight:1600,maxSizeMB:1.5,useWebWorker:!0}),S=`claim/${t}/${crypto.randomUUID()}.jpg`,{error:A}=await Ve.storage.from("claim-photos").upload(S,x,{contentType:"image/jpeg"});if(A){alert(`Error uploading ${w.name}: ${A.message}`);continue}const{error:N}=await Ve.from("claim_photos").insert({claim_id:t,storage_path:S});N&&alert(`Error saving ${w.name}: ${N.message}`)}catch(x){alert(`Error processing ${w.name}: ${x.message}`)}}_.target.value="",await d()}},f=async _=>{if(!t)return;const{error:b}=await Ve.from("claims").update(_).eq("id",t);b?alert(b.message):await d()},m=async()=>{if(!t||!confirm(` WARNING: Are you sure you want to PERMANENTLY DELETE this claim?

Claim #${n.claim_number}
Customer: ${n.customer_name}

This action CANNOT be undone and will delete:
- The claim record
- All associated photos
- All related data

Type "DELETE" in the next dialog to confirm.`))return;if(prompt('Type "DELETE" to confirm permanent deletion:')!=="DELETE"){alert("Deletion cancelled - text did not match.");return}for(const w of o)await Ve.storage.from("claim-photos").remove([w.storage_path]);await Ve.from("claim_photos").delete().eq("claim_id",t);const{error:T}=await Ve.from("claims").delete().eq("id",t);T?alert(`Error deleting claim: ${T.message}`):(alert("Claim permanently deleted."),e("/admin/claims"))},p=async _=>{if(!confirm("Delete this photo? This cannot be undone."))return;const{error:b}=await Ve.storage.from("claim-photos").remove([_.storage_path]);if(b){alert(`Error deleting photo from storage: ${b.message}`);return}const{error:T}=await Ve.from("claim_photos").delete().eq("id",_.id);if(T){alert(`Error deleting photo record: ${T.message}`);return}u(null),await d()};if(!n)return null;const v=()=>{const _=encodeURIComponent(`${n.address_line1} ${n.city||""} ${n.state||""} ${n.postal_code||""}`);window.open(`https://www.google.com/maps?q=${_}`,"_blank")};return M.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a202c 0%, #2d3748 100%)",padding:16},children:M.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",display:"grid",gap:12},children:[M.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16,background:"#2d3748",border:"1px solid #4a5568",padding:16,borderRadius:8},children:[M.jsxs("h3",{style:{margin:0,color:"#e2e8f0"},children:["Claim ",n.claim_number]}),M.jsxs("div",{style:{display:"flex",gap:8},children:[M.jsx(yn,{to:"/admin/claims",style:{padding:"8px 16px",background:"#4a5568",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:" Back to Claims"}),M.jsx(yn,{to:"/",style:{padding:"8px 16px",background:"#6c757d",color:"white",textDecoration:"none",borderRadius:4,fontWeight:"bold"},children:" Home"})]})]}),M.jsxs("div",{children:[M.jsx("h4",{children:"Customer Information"}),M.jsxs("div",{children:[M.jsx("strong",{children:"Name:"})," ",n.customer_name]}),n.phone&&M.jsxs("div",{children:[M.jsx("strong",{children:"Phone:"})," ",M.jsx("a",{href:`tel:${n.phone}`,children:n.phone})]}),n.email&&M.jsxs("div",{children:[M.jsx("strong",{children:"Email:"})," ",M.jsx("a",{href:`mailto:${n.email}`,children:n.email})]})]}),M.jsxs("div",{children:[M.jsx("h4",{children:"Vehicle Information"}),n.vin&&M.jsxs("div",{children:[M.jsx("strong",{children:"VIN:"})," ",n.vin]}),n.vehicle_year&&M.jsxs("div",{children:[M.jsx("strong",{children:"Year:"})," ",n.vehicle_year]}),n.vehicle_make&&M.jsxs("div",{children:[M.jsx("strong",{children:"Make:"})," ",n.vehicle_make]}),n.vehicle_model&&M.jsxs("div",{children:[M.jsx("strong",{children:"Model:"})," ",n.vehicle_model]})]}),n.notes&&M.jsxs("div",{children:[M.jsx("h4",{children:"Accident Description"}),M.jsx("div",{style:{whiteSpace:"pre-wrap",background:"#f5f5f5",padding:12,borderRadius:4},children:n.notes})]}),M.jsxs("div",{children:[M.jsx("h4",{children:"Appointment"}),M.jsx("label",{children:"Appointment Start"}),M.jsx("input",{type:"datetime-local",onChange:_=>f({appointment_start:new Date(_.target.value).toISOString()})}),M.jsx("label",{children:"Appointment End"}),M.jsx("input",{type:"datetime-local",onChange:_=>f({appointment_end:new Date(_.target.value).toISOString()})})]}),M.jsxs("div",{children:[M.jsx("h4",{children:"Status & Actions"}),M.jsxs("div",{style:{marginBottom:8},children:[M.jsx("strong",{children:"Current Status:"})," ",M.jsx("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:4,fontSize:14,fontWeight:"bold",background:n.status==="COMPLETED"?"#4CAF50":n.status==="IN_PROGRESS"?"#FF9800":n.status==="SCHEDULED"?"#2196F3":"#9E9E9E",color:"white"},children:n.status})]}),M.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[M.jsx("button",{onClick:()=>f({status:"SCHEDULED"}),style:{padding:"8px 16px",background:"#2196F3",color:"white",border:"none",borderRadius:4,fontWeight:"bold",cursor:"pointer"},children:" Mark Scheduled"}),M.jsx("button",{onClick:()=>f({status:"IN_PROGRESS"}),style:{padding:"8px 16px",background:"#FF9800",color:"white",border:"none",borderRadius:4,fontWeight:"bold",cursor:"pointer"},children:" Start Work"}),M.jsx("button",{onClick:()=>f({status:"COMPLETED"}),style:{padding:"8px 16px",background:"#4CAF50",color:"white",border:"none",borderRadius:4,fontWeight:"bold",cursor:"pointer"},children:" Mark Complete"})]}),M.jsxs("div",{style:{marginTop:16,paddingTop:16,borderTop:"2px solid #f0f0f0"},children:[M.jsx("h5",{style:{color:"#dc3545",marginBottom:8},children:" Danger Zone"}),M.jsx("button",{onClick:m,style:{padding:"8px 16px",background:"#dc3545",color:"white",border:"2px solid #c82333",borderRadius:4,fontWeight:"bold",cursor:"pointer"},onMouseOver:_=>_.currentTarget.style.background="#c82333",onMouseOut:_=>_.currentTarget.style.background="#dc3545",children:" Permanently Delete Claim"}),M.jsx("p",{style:{fontSize:12,color:"#666",marginTop:8},children:" This action cannot be undone. All photos and data will be permanently deleted."})]})]}),M.jsxs("div",{children:[M.jsx("h4",{children:"Location"}),M.jsxs("div",{children:[M.jsx("strong",{children:"Address:"})," ",n.address_line1," ",n.address_line2&&`, ${n.address_line2}`]}),M.jsxs("div",{children:[n.city,", ",n.state," ",n.postal_code]}),n.lat&&n.lng?M.jsx("div",{style:{height:300,marginTop:8},children:M.jsxs(Wy,{center:[n.lat,n.lng],zoom:15,style:{height:"100%",width:"100%"},children:[M.jsx(Zy,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),M.jsx(Hy,{position:[n.lat,n.lng],children:M.jsx(Vy,{children:"Claim Location"})})]})}):M.jsx("div",{children:"No coordinates yet"}),M.jsx("button",{onClick:v,style:{marginTop:8},children:"Open in Google Maps"})]}),M.jsxs("div",{children:[M.jsxs("h4",{children:[" Photos (",o.length,")"]}),M.jsxs("div",{style:{marginBottom:16,display:"flex",gap:8,flexWrap:"wrap"},children:[M.jsx("label",{htmlFor:"photo-upload",style:{display:"inline-block",padding:"12px 24px",background:"#0066cc",color:"white",borderRadius:6,fontWeight:"bold",cursor:"pointer",fontSize:16},children:" Take Photo"}),M.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",capture:"environment",onChange:h,style:{display:"none"},multiple:!0}),M.jsx("label",{htmlFor:"photo-gallery",style:{display:"inline-block",padding:"12px 24px",background:"#4CAF50",color:"white",borderRadius:6,fontWeight:"bold",cursor:"pointer",fontSize:16},children:" Choose from Gallery"}),M.jsx("input",{id:"photo-gallery",type:"file",accept:"image/*",onChange:h,style:{display:"none"},multiple:!0}),M.jsx("p",{style:{fontSize:13,color:"#666",marginTop:8,width:"100%"},children:" Tip: Photos are automatically compressed and optimized for storage"})]}),M.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:8,marginTop:8},children:o.map((_,b)=>{const T=Ve.storage.from("claim-photos").getPublicUrl(_.storage_path).data.publicUrl;return M.jsxs("div",{style:{position:"relative"},children:[M.jsx("div",{onClick:()=>u(b),style:{width:"100%",height:200,backgroundImage:`url(${T})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:4,cursor:"pointer",border:"2px solid #ddd",position:"relative"},children:M.jsx("button",{onClick:w=>{w.stopPropagation(),p(_)},style:{position:"absolute",top:4,right:4,width:28,height:28,borderRadius:"50%",background:"rgba(244, 67, 54, 0.9)",color:"white",border:"2px solid white",fontSize:18,fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",padding:0,lineHeight:1},children:""})}),M.jsx("a",{href:T,download:`claim-${n==null?void 0:n.claim_number}-photo-${_.id}.jpg`,onClick:w=>w.stopPropagation(),style:{display:"block",width:"100%",marginTop:4,padding:"10px",background:"#4CAF50",color:"white",textAlign:"center",borderRadius:4,textDecoration:"none",fontSize:14,fontWeight:"bold",boxSizing:"border-box"},children:" Download"})]},_.id)})})]}),l!==null&&M.jsxs("div",{onClick:()=>u(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[M.jsx("button",{onClick:()=>u(null),style:{position:"absolute",top:20,right:20,background:"white",border:"none",borderRadius:50,width:40,height:40,fontSize:24,cursor:"pointer",fontWeight:"bold"},children:""}),M.jsx("div",{style:{position:"relative",maxWidth:"90%",maxHeight:"80%"},children:M.jsx("img",{src:Ve.storage.from("claim-photos").getPublicUrl(o[l].storage_path).data.publicUrl,style:{maxWidth:"100%",maxHeight:"80vh",objectFit:"contain"},onClick:_=>_.stopPropagation()})}),M.jsxs("div",{style:{display:"flex",gap:16,marginTop:20,alignItems:"center"},onClick:_=>_.stopPropagation(),children:[M.jsx("button",{onClick:_=>{_.stopPropagation(),u(l>0?l-1:o.length-1)},style:{padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:6,fontSize:16,fontWeight:"bold",cursor:"pointer"},children:" Previous"}),M.jsxs("span",{style:{color:"white",fontSize:16,fontWeight:"bold"},children:[l+1," / ",o.length]}),M.jsx("button",{onClick:_=>{_.stopPropagation(),u(l<o.length-1?l+1:0)},style:{padding:"12px 24px",background:"#667eea",color:"white",border:"none",borderRadius:6,fontSize:16,fontWeight:"bold",cursor:"pointer"},children:"Next "}),M.jsx("a",{href:Ve.storage.from("claim-photos").getPublicUrl(o[l].storage_path).data.publicUrl,download:`claim-${n==null?void 0:n.claim_number}-photo-${o[l].id}.jpg`,style:{padding:"12px 24px",background:"#4CAF50",color:"white",borderRadius:6,fontSize:16,fontWeight:"bold",textDecoration:"none",display:"inline-block"},children:" Download"}),M.jsx("button",{onClick:_=>{_.stopPropagation(),p(o[l])},style:{padding:"12px 24px",background:"#f44336",color:"white",border:"none",borderRadius:6,fontSize:16,fontWeight:"bold",cursor:"pointer"},children:" Delete"})]})]})]})})}mS();const pP=Qx([{path:"/",element:M.jsx(Uk,{})},{path:"/login",element:M.jsx(Bk,{})},{path:"/admin/claims",element:M.jsx(rP,{})},{path:"/admin/claims/new",element:M.jsx(tP,{})},{path:"/my-claims",element:M.jsx(iP,{})},{path:"/claim/:id",element:M.jsx(fP,{})}],{basename:"/CipherDispatch"});Mc.createRoot(document.getElementById("root")).render(M.jsx(Us.StrictMode,{children:M.jsx(sS,{router:pP})}));
